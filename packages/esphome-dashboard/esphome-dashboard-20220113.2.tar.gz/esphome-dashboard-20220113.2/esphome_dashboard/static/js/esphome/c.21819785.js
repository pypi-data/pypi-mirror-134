import{e as t}from"./c.e3657a72.js";const a=async a=>{let o;try{o=await t(a)}catch(t){throw new Error(`Error fetching manifest.json for ${a}: ${t}`)}const r=o.map((async t=>{const a=new URL(t.path,location.href).toString(),o=await fetch(a);if(!o.ok)throw new Error(`Downloading firmware ${t.path} failed: ${o.status}`);return o.arrayBuffer()})),s=[];for(const t of o){const a=await r.shift();s.push({data:a,offset:t.offset})}return s},o=async(t,a,o,r)=>{const s=await t.runStub();o&&await s.eraseFlash();let e=0;for(const t of a)e+=t.data.byteLength;let f=0,n=0;r(0);for(const t of a)await s.flashData(t.data,(t=>{const a=Math.floor((n+t)/e*100);a!==f&&(f=a,r(a))}),t.offset,!0),n+=t.data.byteLength;r(100)};export{o as f,a as g};
