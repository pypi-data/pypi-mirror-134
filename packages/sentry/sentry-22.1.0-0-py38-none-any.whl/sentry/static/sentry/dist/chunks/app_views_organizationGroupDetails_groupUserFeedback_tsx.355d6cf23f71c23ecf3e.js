(self.webpackChunk=self.webpackChunk||[]).push([["app_views_organizationGroupDetails_groupUserFeedback_tsx"],{"./app/views/organizationGroupDetails/groupUserFeedback.tsx":(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>g});var o=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),n=(s("../node_modules/core-js/modules/web.dom-collections.iterator.js"),s("../node_modules/react/index.js")),i=s("../node_modules/lodash/isEqual.js"),r=s.n(i),a=s("./app/components/events/userFeedback.tsx"),c=s("./app/components/loadingError.tsx"),u=s("./app/components/loadingIndicator.tsx"),d=s("./app/components/pagination.tsx"),p=s("./app/utils/withOrganization.tsx"),l=s("./app/views/userFeedback/userFeedbackEmpty.tsx"),h=s("./app/views/organizationGroupDetails/utils.tsx"),m=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class f extends n.Component{constructor(...e){super(...e),(0,o.Z)(this,"state",{loading:!0,error:!1,reportList:[],pageLinks:""}),(0,o.Z)(this,"fetchData",(()=>{this.setState({loading:!0,error:!1}),(0,h.g5)(this.props.group.id,{...this.props.params,cursor:this.props.location.query.cursor||""}).then((([e,t,s])=>{this.setState({error:!1,loading:!1,reportList:e,pageLinks:null==s?void 0:s.getResponseHeader("Link")})})).catch((()=>{this.setState({error:!0,loading:!1})}))}))}componentDidMount(){this.fetchData()}componentDidUpdate(e){r()(e.params,this.props.params)&&e.location.pathname===this.props.location.pathname&&e.location.search===this.props.location.search||this.fetchData()}render(){const{reportList:e,loading:t,error:s}=this.state,{organization:o,group:n}=this.props;return t?(0,m.tZ)(u.Z,{}):s?(0,m.tZ)(c.Z,{onRetry:this.fetchData}):e.length?(0,m.tZ)("div",{className:"row",children:(0,m.BX)("div",{className:"col-md-9",children:[e.map(((e,t)=>(0,m.tZ)(a.Z,{report:e,orgId:o.slug,issueId:n.id},t))),(0,m.tZ)(d.Z,{pageLinks:this.state.pageLinks,...this.props})]})}):(0,m.tZ)(l.Z,{projectIds:[n.project.id]})}}f.displayName="GroupUserFeedback";const g=(0,p.Z)(f)},"./app/views/organizationGroupDetails/utils.tsx":(e,t,s)=>{"use strict";s.d(t,{MN:()=>u,V7:()=>d,g5:()=>p,dG:()=>l,sC:()=>m,Ad:()=>f,m7:()=>g,M3:()=>_}),s("../node_modules/core-js/modules/web.dom-collections.iterator.js");var o=s("../node_modules/lodash/orderBy.js"),n=s.n(o),i=s("./app/actionCreators/group.tsx"),r=s("./app/api.tsx"),a=s("./app/locale.tsx"),c=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");async function u(e,t,s,o,n,i){const r="latest"===o||"oldest"===o?"/issues/".concat(s,"/events/").concat(o,"/"):"/projects/".concat(t,"/").concat(i,"/events/").concat(o,"/"),a={};return 0!==n.length&&(a.environment=n),await e.requestPromise(r,{query:a})}function d(e,t,s,o){(0,i.Gv)(e,{orgId:t,projectId:s,itemIds:[o],failSilently:!0,data:{hasSeen:!0}},{})}function p(e,t){return(new r.KU).requestPromise("/issues/".concat(e,"/user-reports/"),{includeAllArgs:!0,query:t})}function l(e){const t=e.tags.find((({key:e})=>"environment"===e));return t?t.value:null}const h={commented:(0,a.t)("You're receiving workflow notifications because you have commented on this issue."),assigned:(0,a.t)("You're receiving workflow notifications because you were assigned to this issue."),bookmarked:(0,a.t)("You're receiving workflow notifications because you have bookmarked this issue."),changed_status:(0,a.t)("You're receiving workflow notifications because you have changed the status of this issue."),mentioned:(0,a.t)("You're receiving workflow notifications because you have been mentioned in this issue.")};function m(e,t=!1){if(e.subscriptionDetails&&e.subscriptionDetails.disabled)return(0,a._N)("You have [link:disabled workflow notifications] for this project.",{link:t?(0,c.tZ)("span",{}):(0,c.tZ)("a",{href:"/account/settings/notifications/"})});if(!e.isSubscribed)return(0,a.t)("Subscribe to workflow notifications for this issue");if(e.subscriptionDetails){const{reason:t}=e.subscriptionDetails;if("unknown"===t)return(0,a.t)("You're receiving workflow notifications because you are subscribed to this issue.");if(t&&h.hasOwnProperty(t))return h[t]}return(0,a._N)("You're receiving updates because you are [link:subscribed to workflow notifications] for this project.",{link:t?(0,c.tZ)("span",{}):(0,c.tZ)("a",{href:"/account/settings/notifications/"})})}function f(e){return n()([...e],(({dateCreated:e})=>new Date(e)),["desc"])[0]}let g;function _(e,t){const{status:s,count:o,activity:n}=e,i=Number(o);switch(s){case"reprocessing":return g.REPROCESSING;case"unresolved":{const e=null!=t?t:f(n);return"reprocess"===(null==e?void 0:e.type)?0===i?g.REPROCESSED_AND_HASNT_EVENT:g.REPROCESSED_AND_HAS_EVENT:g.NO_STATUS}default:return g.NO_STATUS}}!function(e){e.REPROCESSED_AND_HASNT_EVENT="reprocessed_and_hasnt_event",e.REPROCESSED_AND_HAS_EVENT="reprocessed_and_has_event",e.REPROCESSING="reprocessing",e.NO_STATUS="no_status"}(g||(g={}))},"../node_modules/lodash/orderBy.js":(e,t,s)=>{var o=s("../node_modules/lodash/_baseOrderBy.js"),n=s("../node_modules/lodash/isArray.js");e.exports=function(e,t,s,i){return null==e?[]:(n(t)||(t=null==t?[]:[t]),n(s=i?void 0:s)||(s=null==s?[]:[s]),o(e,t,s))}}}]);
//# sourceMappingURL=../sourcemaps/app_views_organizationGroupDetails_groupUserFeedback_tsx.acae62a3203478a2d5d501b61031ca7e.js.map