"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["app_views_settings_organizationIntegrations_configureIntegration_tsx"],{"./app/actions/repositoryActions.tsx":(t,e,n)=>{n.d(e,{Z:()=>s});var i=n("../node_modules/reflux/src/index.js");const s=n.n(i)().createActions(["resetRepositories","loadRepositories","loadRepositoriesError","loadRepositoriesSuccess"])},"./app/actions/settingsBreadcrumbActions.tsx":(t,e,n)=>{n.d(e,{Z:()=>s});var i=n("../node_modules/reflux/src/index.js");const s=n.n(i)().createActions(["mapTitle","trimMappings"])},"./app/views/organizationIntegrations/addIntegration.tsx":(t,e,n)=>{n.d(e,{Z:()=>l});var i=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),s=(n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),n("../node_modules/react/index.js")),r=n("../node_modules/query-string/index.js"),a=n("./app/actionCreators/indicator.tsx"),o=n("./app/locale.tsx"),d=n("./app/utils/integrationUtil.tsx");class l extends s.Component{constructor(...t){super(...t),(0,i.Z)(this,"dialog",null),(0,i.Z)(this,"openDialog",(t=>{const{account:e,analyticsParams:n,modalParams:i,organization:s,provider:a}=this.props;(0,d.Db)("integrations.installation_start",{integration:a.key,integration_type:"first_party",organization:s,...n});const{url:o,width:l,height:c}=a.setupDialog,{left:p,top:g}=this.computeCenteredWindow(l,c);let h={...t};e&&(h.account=e),i&&(h={...h,...i});const u="".concat(o,"?").concat(r.stringify(h)),m="scrollbars=yes,width=".concat(l,",height=").concat(c,",top=").concat(g,",left=").concat(p);this.dialog=window.open(u,"sentryAddIntegration",m),this.dialog&&this.dialog.focus()})),(0,i.Z)(this,"didReceiveMessage",(t=>{const{analyticsParams:e,onInstall:n,organization:i,provider:s}=this.props;if(t.origin!==document.location.origin)return;if(t.source!==this.dialog)return;const{success:r,data:l}=t.data;this.dialog=null,r?l&&((0,d.Db)("integrations.installation_complete",{integration:s.key,integration_type:"first_party",organization:i,...e}),(0,a.S9)((0,o.t)("%s added",s.name)),n(l)):(0,a.Iw)(l.error)}))}componentDidMount(){window.addEventListener("message",this.didReceiveMessage)}componentWillUnmount(){window.removeEventListener("message",this.didReceiveMessage),this.dialog&&this.dialog.close()}computeCenteredWindow(t,e){const n=void 0!==window.screenLeft?window.screenLeft:window.screenX,i=void 0!==window.screenTop?window.screenTop:window.screenY;return{left:(window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width)/2-t/2+n,top:(window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height)/2-e/2+i}}render(){const{children:t}=this.props;return t(this.openDialog)}}l.displayName="AddIntegration"},"./app/views/organizationIntegrations/integrationItem.tsx":(t,e,n)=>{n.d(e,{Z:()=>l});var i=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),s=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),r=n("../node_modules/react/index.js"),a=n("./app/styles/space.tsx"),o=n("./app/views/organizationIntegrations/integrationIcon.tsx"),d=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class l extends r.Component{render(){const{integration:t,compact:e}=this.props;return(0,d.BX)(c,{children:[(0,d.tZ)("div",{children:(0,d.tZ)(o.Z,{size:e?22:32,integration:t})}),(0,d.BX)(p,{compact:e,children:[(0,d.tZ)(g,{"data-test-id":"integration-name",children:t.name}),(0,d.tZ)(h,{compact:e,children:t.domainName})]})]})}}l.displayName="IntegrationItem",(0,i.Z)(l,"defaultProps",{compact:!1});const c=(0,s.Z)("div",{target:"e1k6l1f03"})({name:"zjik7",styles:"display:flex"}),p=(0,s.Z)("div",{target:"e1k6l1f02"})("box-sizing:border-box;display:flex;",(t=>t.compact?"align-items: center;":""),";flex-direction:",(t=>t.compact?"row":"column"),";padding-left:",(0,a.Z)(1),";min-width:0;justify-content:center;"),g=(0,s.Z)("div",{target:"e1k6l1f01"})({name:"rkiwex",styles:"font-size:1rem"}),h=(0,s.Z)("div",{target:"e1k6l1f00"})("color:",(t=>t.compact?t.theme.gray200:t.theme.gray400),";margin-left:",(t=>t.compact?(0,a.Z)(1):"inherit"),";margin-top:",(t=>t.compact?"inherit":(0,a.Z)(.25)),";font-size:0.875rem;line-height:1.2;overflow:hidden;text-overflow:ellipsis;")},"./app/views/settings/organizationIntegrations/configureIntegration.tsx":(t,e,n)=>{n.r(e),n.d(e,{default:()=>ve});var i=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),s=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),r=(n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),n("../node_modules/react/index.js")),a=n("./app/components/alert.tsx"),o=n("./app/components/button.tsx"),d=n("./app/components/list/index.tsx"),l=n("./app/components/list/listItem.tsx"),c=n("./app/components/navTabs.tsx"),p=n("./app/icons/index.tsx"),g=n("./app/locale.tsx"),h=n("./app/utils/integrationUtil.tsx"),u=n("./app/utils/marked.tsx"),m=n("./app/utils/withOrganization.tsx"),y=n("./app/views/asyncView.tsx"),Z=n("./app/views/organizationIntegrations/addIntegration.tsx"),f=n("./app/components/idBadge/projectBadge.tsx"),b=n("./app/components/panels/index.tsx"),v=n("./app/utils/withProjects.tsx"),x=n("./app/views/settings/components/emptyMessage.tsx"),w=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const S=({projects:t,organization:e})=>(0,w.BX)(b.s_,{children:[(0,w.tZ)(b.V9,{children:(0,g.t)("Project Configuration")}),(0,w.BX)(b.N,{children:[0===t.length&&(0,w.tZ)(x.Z,{size:"large",children:(0,g.t)("You have no projects to add Alert Rules to")}),t.map((t=>(0,w.BX)(z,{children:[(0,w.tZ)(f.Z,{project:t,avatarSize:16}),(0,w.tZ)(o.ZP,{to:"/organizations/".concat(e.slug,"/alerts/").concat(t.slug,"/wizard/"),size:"xsmall",children:(0,g.t)("Add Alert Rule")})]},t.slug)))]})]});S.displayName="IntegrationAlertRules";const z=(0,s.Z)(b.Lv,{target:"ewafxrk0"})({name:"1tz8p38",styles:"align-items:center;justify-content:space-between"}),k=(0,m.Z)((0,v.Z)(S));var _=n("../node_modules/lodash/sortBy.js"),C=n.n(_),I=n("../node_modules/query-string/index.js"),B=n("./app/actionCreators/indicator.tsx"),M=n("./app/actionCreators/modal.tsx"),R=n("./app/components/acl/access.tsx"),D=n("./app/components/asyncComponent.tsx"),j=n("./app/components/links/externalLink.tsx"),E=n("../node_modules/lodash/pick.js"),N=n.n(E),F=n("./app/views/settings/components/forms/index.tsx"),P=n("./app/views/settings/components/forms/form.tsx");class T extends r.Component{get initialData(){const{existingConfig:t,integration:e}=this.props;return{defaultBranch:"master",stackRoot:"",sourceRoot:"",repositoryId:null==t?void 0:t.repoId,integrationId:e.id,...N()(t,["projectId","defaultBranch","stackRoot","sourceRoot"])}}get formFields(){const{projects:t,repos:e}=this.props,n=e.map((({name:t,id:e})=>({value:e,label:t})));return[{name:"projectId",type:"sentry_project_selector",required:!0,label:(0,g.t)("Project"),projects:t},{name:"repositoryId",type:"select",required:!0,label:(0,g.t)("Repo"),placeholder:(0,g.t)("Choose repo"),options:n},{name:"defaultBranch",type:"string",required:!0,label:(0,g.t)("Branch"),placeholder:(0,g.t)("Type your branch"),showHelpInTooltip:!0,help:(0,g.t)("If an event does not have a release tied to a commit, we will use this branch when linking to your source code.")},{name:"stackRoot",type:"string",required:!1,label:(0,g.t)("Stack Trace Root"),placeholder:(0,g.t)("Type root path of your stack traces"),showHelpInTooltip:!0,help:(0,g.t)("Any stack trace starting with this path will be mapped with this rule. An empty string will match all paths.")},{name:"sourceRoot",type:"string",required:!1,label:(0,g.t)("Source Code Root"),placeholder:(0,g.t)("Type root path of your source code, e.g. `src/`."),showHelpInTooltip:!0,help:(0,g.t)("When a rule matches, the stack trace root is replaced with this path to get the path in your repository. Leaving this empty means replacing the stack trace root with an empty string.")}]}handlePreSubmit(){(0,h.Db)("integrations.stacktrace_submit_config",{setup_type:"manual",view:"integration_configuration_detail",provider:this.props.integration.provider.key,organization:this.props.organization})}render(){const{organization:t,onSubmitSuccess:e,onCancel:n,existingConfig:i}=this.props,s="/organizations/".concat(t.slug,"/code-mappings/"),r=i?"".concat(s).concat(i.id,"/"):s,a=i?"PUT":"POST";return(0,w.tZ)(P.Z,{onSubmitSuccess:e,onPreSubmit:()=>this.handlePreSubmit(),initialData:this.initialData,apiEndpoint:r,apiMethod:a,onCancel:n,children:this.formFields.map((t=>(0,w.tZ)(F.Ff,{field:t,inline:!1,stacked:!0,flexibleControlStateSize:!0},t.name)))})}}T.displayName="RepositoryProjectPathConfigForm";var q=n("./app/components/confirm.tsx"),L=n("./app/components/idBadge/index.tsx"),A=n("./app/components/tooltip.tsx"),X=n("./app/styles/space.tsx");class U extends r.Component{render(){const{pathConfig:t,project:e,onEdit:n,onDelete:i}=this.props;return(0,w.tZ)(R.Z,{access:["org:integrations"],children:({hasAccess:s})=>(0,w.BX)(r.Fragment,{children:[(0,w.tZ)(G,{children:(0,w.BX)(O,{children:[(0,w.tZ)(H,{children:t.repoName}),(0,w.BX)(W,{children:[(0,w.tZ)(L.Z,{project:e,avatarSize:14,displayName:e.slug,avatarProps:{consistentWidth:!0}}),(0,w.BX)(Y,{children:[" | ",t.defaultBranch]})]})]})}),(0,w.tZ)(K,{children:t.sourceRoot}),(0,w.tZ)(Q,{children:t.stackRoot}),(0,w.tZ)($,{children:(0,w.BX)(A.Z,{title:(0,g.t)("You must be an organization owner, manager or admin to edit or remove a code mapping."),disabled:s,children:[(0,w.tZ)(V,{size:"small",icon:(0,w.tZ)(p.yl,{size:"sm"}),label:(0,g.t)("edit"),disabled:!s,onClick:()=>n(t)}),(0,w.tZ)(q.Z,{disabled:!s,onConfirm:()=>i(t),message:(0,g.t)("Are you sure you want to remove this code mapping?"),children:(0,w.tZ)(V,{size:"small",icon:(0,w.tZ)(p.Fz,{size:"sm"}),label:(0,g.t)("delete"),disabled:!s})})]})})]})})}}U.displayName="RepositoryProjectPathConfigRow";const O=(0,s.Z)("div",{target:"e1b0hdd39"})({name:"1fttcpj",styles:"display:flex;flex-direction:column"}),H=(0,s.Z)("span",{target:"e1b0hdd38"})("padding-bottom:",(0,X.Z)(1),";"),V=(0,s.Z)(o.ZP,{target:"e1b0hdd37"})("margin:",(0,X.Z)(.5),";"),W=(0,s.Z)("div",{target:"e1b0hdd36"})("display:flex;flex-direction:row;color:",(t=>t.theme.gray300),";"),Y=(0,s.Z)("div",{target:"e1b0hdd35"})({name:"oid971",styles:"line-height:1.2"}),J=(0,s.Z)("span",{target:"e1b0hdd34"})({name:"8w0o20",styles:"overflow:hidden;overflow-wrap:break-word"}),G=(0,s.Z)(J,{target:"e1b0hdd33"})({name:"75sbk5",styles:"grid-area:name-repo"}),K=(0,s.Z)(J,{target:"e1b0hdd32"})({name:"13u5yj5",styles:"grid-area:output-path"}),Q=(0,s.Z)(J,{target:"e1b0hdd31"})({name:"ewbb63",styles:"grid-area:input-path"}),$=(0,s.Z)(J,{target:"e1b0hdd30"})({name:"1dm7zwj",styles:"grid-area:button;text-align:right"});var tt=n("./app/views/settings/components/text/textBlock.tsx");class et extends D.Z{constructor(...t){super(...t),(0,i.Z)(this,"handleDelete",(async t=>{const{organization:e}=this.props,n="/organizations/".concat(e.slug,"/code-mappings/").concat(t.id,"/");try{await this.api.requestPromise(n,{method:"DELETE"});let{pathConfigs:e}=this.state;e=e.filter((e=>e.id!==t.id)),this.setState({pathConfigs:e}),(0,B.S9)((0,g.t)("Deletion successful"))}catch(t){(0,B.Iw)((0,g._N)("[status]: [text]",{status:t.statusText,text:t.responseText}))}})),(0,i.Z)(this,"handleSubmitSuccess",(t=>{(0,h.Db)("integrations.stacktrace_complete_setup",{setup_type:"manual",view:"integration_configuration_detail",provider:this.props.integration.provider.key,organization:this.props.organization});let{pathConfigs:e}=this.state;e=e.filter((e=>e.id!==t.id)),e=e.concat([t]),this.setState({pathConfigs:e}),this.setState({pathConfig:void 0})})),(0,i.Z)(this,"openModal",(t=>{const{organization:e,projects:n,integration:i}=this.props;(0,h.Db)("integrations.stacktrace_start_setup",{setup_type:"manual",view:"integration_configuration_detail",provider:this.props.integration.provider.key,organization:this.props.organization}),(0,M.openModal)((({Body:s,Header:a,closeModal:o})=>(0,w.BX)(r.Fragment,{children:[(0,w.tZ)(a,{closeButton:!0,children:(0,g.t)("Configure code path mapping")}),(0,w.tZ)(s,{children:(0,w.tZ)(T,{organization:e,integration:i,projects:n,repos:this.repos,onSubmitSuccess:t=>{this.handleSubmitSuccess(t),o()},existingConfig:t,onCancel:o})})]})))}))}getDefaultState(){return{...super.getDefaultState(),pathConfigs:[],repos:[]}}get integrationId(){return this.props.integration.id}get pathConfigs(){return C()(this.state.pathConfigs,[({projectSlug:t})=>t,({id:t})=>parseInt(t,10)])}get repos(){return this.state.repos.filter((t=>t.integrationId===this.integrationId))}getEndpoints(){const t=this.props.organization.slug;return[["pathConfigs","/organizations/".concat(t,"/code-mappings/"),{query:{integrationId:this.integrationId}}],["repos","/organizations/".concat(t,"/repos/"),{query:{status:"active"}}]]}getMatchingProject(t){return this.props.projects.find((e=>e.id===t.projectId))}componentDidMount(){const{referrer:t}=I.parse(window.location.search)||{},e="stacktrace-issue-details"!==t;(0,h.Db)("integrations.code_mappings_viewed",{integration:this.props.integration.provider.key,integration_type:"first_party",organization:this.props.organization},{startSession:e})}renderBody(){const t=this.pathConfigs,{integration:e}=this.props;return(0,w.BX)(r.Fragment,{children:[(0,w.tZ)(tt.Z,{children:(0,g._N)("Code Mappings are used to map stack trace file paths to source code file paths. These mappings are the basis for features like Stack Trace Linking. To learn more, [link: read the docs].",{link:(0,w.tZ)(j.Z,{href:"https://docs.sentry.io/product/integrations/source-code-mgmt/gitlab/#stack-trace-linking"})})}),(0,w.BX)(b.s_,{children:[(0,w.tZ)(b.V9,{disablePadding:!0,hasButtons:!0,children:(0,w.BX)(rt,{children:[(0,w.tZ)(G,{children:(0,g.t)("Code Mappings")}),(0,w.tZ)(Q,{children:(0,g.t)("Stack Trace Root")}),(0,w.tZ)(K,{children:(0,g.t)("Source Code Root")}),(0,w.tZ)(R.Z,{access:["org:integrations"],children:({hasAccess:t})=>(0,w.tZ)($,{children:(0,w.tZ)(A.Z,{title:(0,g.t)("You must be an organization owner, manager or admin to edit or remove a code mapping."),disabled:t,children:(0,w.tZ)(it,{"data-test-id":"add-mapping-button",onClick:()=>this.openModal(),size:"xsmall",icon:(0,w.tZ)(p.N_,{size:"xs",isCircled:!0}),disabled:!t,children:(0,g.t)("Add Code Mapping")})})})})]})}),(0,w.BX)(b.N,{children:[0===t.length&&(0,w.tZ)(x.Z,{icon:(0,h.Y6)(e.provider.key,"lg"),action:(0,w.tZ)(o.ZP,{href:"https://docs.sentry.io/product/integrations/".concat(e.provider.key,"/#stack-trace-linking"),size:"small",onClick:()=>{(0,h.Db)("integrations.stacktrace_docs_clicked",{view:"integration_configuration_detail",provider:this.props.integration.provider.key,organization:this.props.organization})},children:"View Documentation"}),children:"Set up stack trace linking by adding a code mapping."}),t.map((t=>{const e=this.getMatchingProject(t);return e?(0,w.tZ)(at,{children:(0,w.tZ)(st,{children:(0,w.tZ)(U,{pathConfig:t,project:e,onEdit:this.openModal,onDelete:this.handleDelete})})},t.id):null})).filter((t=>!!t))]})]})]})}}const nt=(0,v.Z)((0,m.Z)(et)),it=(0,s.Z)(o.ZP,{target:"el6tkql3"})(""),st=(0,s.Z)("div",{target:"el6tkql2"})("display:grid;grid-column-gap:",(0,X.Z)(1),";width:100%;align-items:center;grid-template-columns:4.5fr 2.5fr 2.5fr 1.6fr;grid-template-areas:'name-repo input-path output-path button';"),rt=(0,s.Z)(st,{target:"el6tkql1"})("align-items:center;margin:0;margin-left:",(0,X.Z)(2),";"),at=(0,s.Z)(b.Lv,{target:"el6tkql0"})("");var ot=n("../node_modules/react-router/es/index.js"),dt=n("../node_modules/lodash/capitalize.js"),lt=n.n(dt);class ct extends r.Component{get initialData(){const{integration:t,mapping:e}=this.props;return{externalName:"",userId:"",teamId:"",sentryName:"",provider:t.provider.key,integrationId:t.id,...N()(e,["externalName","userId","sentryName","teamId"])}}get formFields(){const{type:t,sentryNamesMapper:e,url:n,mapping:i}=this.props,s=t=>t.map((({name:t,id:e})=>({value:e,label:t}))),r=[{name:"externalName",type:"string",required:!0,label:(0,g._N)("External [type]",{type:lt()(t)}),placeholder:(0,g.t)("".concat("team"===t?"@org/teamname":"@username"))}];return"user"===t&&r.push({name:"userId",type:"select_async",required:!0,label:(0,g._N)("Sentry [type]",{type:lt()(t)}),placeholder:(0,g.t)("Choose your Sentry User"),url:n,onResults:t=>{var n,r;return i&&!t.find((({user:t})=>t.id===i.userId))&&(t=[{id:i.userId,name:i.sentryName},...t]),null===(n=(r=this.props).onResults)||void 0===n||n.call(r,t),s(e(t))}}),"team"===t&&r.push({name:"teamId",type:"select_async",required:!0,label:(0,g._N)("Sentry [type]",{type:lt()(t)}),placeholder:(0,g.t)("Choose your Sentry Team"),url:n,onResults:t=>{var n,r;return i&&!t.find((({id:t})=>t===i.teamId))&&(t=[{id:i.teamId,name:i.sentryName},...t]),null===(n=(r=this.props).onResults)||void 0===n||n.call(r,t),s(e(t))}}),r}render(){const{onSubmitSuccess:t,onCancel:e,mapping:n,baseEndpoint:i,onSubmit:s}=this.props,r=i?n?"".concat(i).concat(n.id,"/"):i:void 0,a=i?n?"PUT":"POST":void 0;return(0,w.tZ)(pt,{children:(0,w.tZ)(P.Z,{requireChanges:!0,onSubmitSuccess:t,initialData:this.initialData,apiEndpoint:r,apiMethod:a,onCancel:e,onSubmit:s,children:this.formFields.map((t=>(0,w.tZ)(F.Ff,{field:t,inline:!1,stacked:!0,flexibleControlStateSize:!0},t.name)))})})}}ct.displayName="IntegrationExternalMappingForm";const pt=(0,s.Z)("div",{target:"e184qk3m0"})({name:"bjn8wh",styles:"position:relative"});var gt=n("./app/components/pagination.tsx");class ht extends r.Component{render(){const{integration:t,mappings:e,type:n,onCreateOrEdit:i,onDelete:s,pageLinks:a}=this.props;return(0,w.BX)(r.Fragment,{children:[(0,w.BX)(b.s_,{children:[(0,w.tZ)(b.V9,{disablePadding:!0,hasButtons:!0,children:(0,w.BX)(Zt,{children:[(0,w.tZ)(xt,{children:(0,g._N)("External [type]",{type:n})}),(0,w.tZ)(wt,{children:(0,g._N)("Sentry [type]",{type:n})}),(0,w.tZ)(R.Z,{access:["org:integrations"],children:({hasAccess:t})=>(0,w.tZ)(St,{children:(0,w.tZ)(A.Z,{title:(0,g._N)("You must be an organization owner, manager or admin to edit or remove a [type] mapping.",{type:n}),disabled:t,children:(0,w.tZ)(mt,{"data-test-id":"add-mapping-button",onClick:()=>i(),size:"xsmall",icon:(0,w.tZ)(p.N_,{size:"xs",isCircled:!0}),disabled:!t,children:(0,g._N)("Add [type] Mapping",{type:n})})})})})]})}),(0,w.BX)(b.N,{children:[!e.length&&(0,w.tZ)(x.Z,{icon:(0,h.Y6)(t.provider.key,"lg"),children:(0,g._N)("Set up External [type] Mappings.",{type:lt()(n)})}),e.map((t=>(0,w.tZ)(R.Z,{access:["org:integrations"],children:({hasAccess:e})=>(0,w.tZ)(ft,{children:(0,w.BX)(yt,{children:[(0,w.tZ)(xt,{children:t.externalName}),(0,w.tZ)(wt,{children:t.sentryName}),(0,w.tZ)(St,{children:(0,w.BX)(A.Z,{title:(0,g.t)("You must be an organization owner, manager or admin to edit or remove an external user mapping."),disabled:e,children:[(0,w.tZ)(bt,{size:"small",icon:(0,w.tZ)(p.yl,{size:"sm"}),label:(0,g.t)("edit"),disabled:!e,onClick:()=>i(t)}),(0,w.tZ)(q.Z,{disabled:!e,onConfirm:()=>s(t),message:(0,g.t)("Are you sure you want to remove this external user mapping?"),children:(0,w.tZ)(bt,{size:"small",icon:(0,w.tZ)(p.Fz,{size:"sm"}),label:(0,g.t)("delete"),disabled:!e})})]})})]})})},t.id)))]})]}),(0,w.tZ)(gt.Z,{pageLinks:a})]})}}ht.displayName="IntegrationExternalMappings";const ut=ht,mt=(0,s.Z)(o.ZP,{target:"e1hxzko48"})({name:"kff9ir",styles:"text-transform:capitalize"}),yt=(0,s.Z)("div",{target:"e1hxzko47"})("display:grid;grid-column-gap:",(0,X.Z)(1),";width:100%;align-items:center;grid-template-columns:2.5fr 2.5fr 1fr;grid-template-areas:'external-name sentry-name button';"),Zt=(0,s.Z)(yt,{target:"e1hxzko46"})("align-items:center;margin:0;margin-left:",(0,X.Z)(2),";text-transform:uppercase;"),ft=(0,s.Z)(b.Lv,{target:"e1hxzko45"})(""),bt=(0,s.Z)(o.ZP,{target:"e1hxzko44"})("margin:",(0,X.Z)(.5),";"),vt=(0,s.Z)("span",{target:"e1hxzko43"})({name:"8w0o20",styles:"overflow:hidden;overflow-wrap:break-word"}),xt=(0,s.Z)(vt,{target:"e1hxzko42"})({name:"1fuspc1",styles:"grid-area:external-name"}),wt=(0,s.Z)(vt,{target:"e1hxzko41"})({name:"1ot62tp",styles:"grid-area:sentry-name"}),St=(0,s.Z)(vt,{target:"e1hxzko40"})({name:"1dm7zwj",styles:"grid-area:button;text-align:right"});class zt extends D.Z{constructor(...t){super(...t),(0,i.Z)(this,"handleDelete",(async t=>{try{const{organization:e}=this.props,{teams:n}=this.state,i=n.find((e=>e.id===t.teamId));if(!i)throw new Error("Cannot find correct team slug.");const s="/teams/".concat(e.slug,"/").concat(i.slug,"/external-teams/").concat(t.id,"/");await this.api.requestPromise(s,{method:"DELETE"}),(0,B.S9)((0,g.t)("Deletion successful")),this.fetchData()}catch{(0,B.Iw)((0,g.t)("An error occurred"))}})),(0,i.Z)(this,"handleSubmitSuccess",(()=>{this.fetchData()})),(0,i.Z)(this,"handleSubmit",((t,e,n,i,s,r)=>{try{const{organization:i}=this.props,{queryResults:a}=this.state,o=a.find((e=>e.id===t.teamId));if(!o)throw new Error("Cannot find team slug.");const d="/teams/".concat(i.slug,"/").concat(o.slug,"/external-teams/"),l=r?"".concat(d).concat(r.id,"/"):d,c=r?"PUT":"POST";s.setFormOptions({onSubmitSuccess:e,onSubmitError:n,apiEndpoint:l,apiMethod:c}),s.saveForm()}catch{(0,B.Iw)((0,g.t)("An error occurred"))}})),(0,i.Z)(this,"openModal",(t=>{const{organization:e,integration:n}=this.props;(0,M.openModal)((({Body:i,Header:s,closeModal:a})=>(0,w.BX)(r.Fragment,{children:[(0,w.tZ)(s,{closeButton:!0,children:(0,g.t)("Configure External Team Mapping")}),(0,w.tZ)(i,{children:(0,w.tZ)(ct,{organization:e,integration:n,onSubmitSuccess:()=>{this.handleSubmitSuccess(),a()},mapping:t,sentryNamesMapper:this.sentryNamesMapper,type:"team",url:"/organizations/".concat(e.slug,"/teams/"),onCancel:a,onSubmit:(...e)=>this.handleSubmit(...e,t),onResults:t=>this.setState({queryResults:t})})})]})))}))}getDefaultState(){return{...super.getDefaultState(),teams:[],queryResults:[]}}getEndpoints(){const{organization:t,location:e}=this.props;return[["teams","/organizations/".concat(t.slug,"/teams/"),{query:{...null==e?void 0:e.query,query:"hasExternalTeams:true"}}]]}get mappings(){const{integration:t}=this.props,{teams:e}=this.state;return e.reduce(((e,n)=>{const{externalTeams:i}=n;return e.push(...i.filter((e=>e.provider===t.provider.key)).map((t=>({...t,sentryName:n.slug})))),e}),[]).sort(((t,e)=>parseInt(t.id,10)-parseInt(e.id,10)))}sentryNamesMapper(t){return t.map((({id:t,slug:e})=>({id:t,name:e})))}renderBody(){const{integration:t}=this.props,{teamsPageLinks:e}=this.state;return(0,w.tZ)(ut,{integration:t,type:"team",mappings:this.mappings,onCreateOrEdit:this.openModal,onDelete:this.handleDelete,pageLinks:e})}}const kt=(0,ot.withRouter)((0,m.Z)(zt));class _t extends D.Z{constructor(...t){super(...t),(0,i.Z)(this,"handleDelete",(async t=>{const{organization:e}=this.props,n="/organizations/".concat(e.slug,"/external-users/").concat(t.id,"/");try{await this.api.requestPromise(n,{method:"DELETE"}),(0,B.S9)((0,g.t)("Deletion successful")),this.fetchData()}catch{(0,B.Iw)((0,g.t)("An error occurred"))}})),(0,i.Z)(this,"handleSubmitSuccess",(()=>{this.fetchData()})),(0,i.Z)(this,"openModal",(t=>{const{organization:e,integration:n}=this.props;(0,M.openModal)((({Body:i,Header:s,closeModal:a})=>(0,w.BX)(r.Fragment,{children:[(0,w.tZ)(s,{closeButton:!0,children:(0,g.t)("Configure External User Mapping")}),(0,w.tZ)(i,{children:(0,w.tZ)(ct,{organization:e,integration:n,onSubmitSuccess:()=>{this.handleSubmitSuccess(),a()},mapping:t,sentryNamesMapper:this.sentryNamesMapper,type:"user",url:"/organizations/".concat(e.slug,"/members/"),onCancel:a,baseEndpoint:"/organizations/".concat(e.slug,"/external-users/")})})]})))}))}getEndpoints(){const{organization:t}=this.props;return[["members","/organizations/".concat(t.slug,"/members/"),{query:{query:"hasExternalUsers:true",expand:"externalUsers"}}]]}get mappings(){const{integration:t}=this.props,{members:e}=this.state;return e.reduce(((e,n)=>{const{externalUsers:i,user:s}=n;return e.push(...i.filter((e=>e.provider===t.provider.key)).map((t=>({...t,sentryName:s.name})))),e}),[]).sort(((t,e)=>parseInt(t.id,10)-parseInt(e.id,10)))}sentryNamesMapper(t){return t.filter((t=>t.user)).map((({user:{id:t},email:e,name:n})=>({id:t,name:e!==n?"".concat(n," - ").concat(e):"".concat(e)})))}renderBody(){const{integration:t}=this.props,{membersPageLinks:e}=this.state;return(0,w.tZ)(r.Fragment,{children:(0,w.tZ)(ut,{integration:t,type:"user",mappings:this.mappings,onCreateOrEdit:this.openModal,onDelete:this.handleDelete,pageLinks:e})})}}const Ct=(0,ot.withRouter)((0,m.Z)(_t));var It=n("./app/views/organizationIntegrations/integrationItem.tsx"),Bt=n("./app/views/settings/components/forms/jsonForm.tsx");class Mt extends r.Component{constructor(...t){super(...t),(0,i.Z)(this,"state",{integration:this.props.integration}),(0,i.Z)(this,"handleSubmitSuccess",(t=>{(0,B.S9)((0,g.t)("Integration updated.")),this.props.onUpdate(),this.setState({integration:t})}))}get initialData(){const{integration:t}=this.props;return{name:t.name,domain:t.domainName||""}}get formFields(){return[{name:"name",type:"string",required:!1,label:(0,g.t)("Integration Name")},{name:"domain",type:"string",required:!1,label:(0,g.t)("Full URL")}]}render(){const{integration:t}=this.state,{organization:e}=this.props;return(0,w.tZ)(P.Z,{initialData:this.initialData,apiMethod:"PUT",apiEndpoint:"/organizations/".concat(e.slug,"/integrations/").concat(t.id,"/"),onSubmitSuccess:this.handleSubmitSuccess,submitLabel:(0,g.t)("Save Settings"),children:(0,w.tZ)(Bt.Z,{fields:this.formFields})})}}Mt.displayName="IntegrationMainSettings";const Rt=Mt;var Dt=n("../node_modules/lodash/debounce.js"),jt=n.n(Dt),Et=n("./app/actionCreators/integrations.tsx"),Nt=n("./app/actions/repositoryActions.tsx"),Ft=n("./app/components/dropdownAutoComplete/index.tsx"),Pt=n("./app/components/dropdownButton.tsx"),Tt=n("./app/components/repositoryRow.tsx"),qt=n("./app/styles/overflowEllipsis.tsx");class Lt extends D.Z{constructor(...t){super(...t),(0,i.Z)(this,"onRepositoryChange",(t=>{const e=this.state.itemList;e.forEach((e=>{e.id===t.id&&(e.status=t.status,e.url=void 0===t.url?e.url:t.url,e.name=t.name||e.name)})),this.setState({itemList:e}),Nt.Z.resetRepositories()})),(0,i.Z)(this,"debouncedSearchRepositoriesRequest",jt()((t=>this.searchRepositoriesRequest(t)),200)),(0,i.Z)(this,"searchRepositoriesRequest",(t=>{const e=this.props.organization.slug,n={search:t},i="/organizations/".concat(e,"/integrations/").concat(this.props.integration.id,"/repos/");return this.api.request(i,{method:"GET",query:n,success:t=>{this.setState({integrationRepos:t,dropdownBusy:!1})},error:()=>{this.setState({dropdownBusy:!1})}})})),(0,i.Z)(this,"handleSearchRepositories",(t=>{this.setState({dropdownBusy:!0}),this.debouncedSearchRepositoriesRequest(t.target.value)}))}getDefaultState(){return{...super.getDefaultState(),adding:!1,itemList:[],integrationRepos:{repos:[],searchable:!1},dropdownBusy:!1}}getEndpoints(){const t=this.props.organization.slug;return[["itemList","/organizations/".concat(t,"/repos/"),{query:{status:""}}],["integrationRepos","/organizations/".concat(t,"/integrations/").concat(this.props.integration.id,"/repos/")]]}getIntegrationRepos(){const t=this.props.integration.id;return this.state.itemList.filter((e=>e.integrationId===t))}addRepo(t){const{integration:e}=this.props,{itemList:n}=this.state,i=this.props.organization.slug;this.setState({adding:!0});const s=n.filter((e=>!(!t.value||!e.externalSlug)&&t.value===e.externalSlug))[0];let r;r=s?(0,Et.Ag)(this.api,i,s.id,e):(0,Et.eg)(this.api,i,t.value,e),r.then((t=>{this.setState({adding:!1,itemList:n.concat(t)}),Nt.Z.resetRepositories()}),(()=>this.setState({adding:!1})))}renderDropdown(){if(!new Set(this.props.organization.access).has("org:integrations"))return(0,w.tZ)(Pt.Z,{disabled:!0,title:(0,g.t)("You must be an organization owner, manager or admin to add repositories"),isOpen:!1,size:"xsmall",children:(0,g.t)("Add Repository")});const t=new Set(this.state.itemList.filter((t=>t.integrationId)).map((t=>t.externalSlug))),e=(this.state.integrationRepos.repos||[]).filter((e=>!t.has(e.identifier))).map((t=>({searchKey:t.name,value:t.identifier,label:(0,w.tZ)(Ht,{children:(0,w.tZ)(Vt,{children:t.name})})}))),n=(0,w.tZ)(Ot,{children:(0,g.t)("Repositories")}),i=this.state.integrationRepos.searchable?this.handleSearchRepositories:void 0;return(0,w.tZ)(Ft.Z,{items:e,onSelect:this.addRepo.bind(this),onChange:i,menuHeader:n,emptyMessage:(0,g.t)("No repositories available"),noResultsMessage:(0,g.t)("No repositories found"),busy:this.state.dropdownBusy,alignMenu:"right",children:({isOpen:t})=>(0,w.tZ)(Pt.Z,{isOpen:t,size:"xsmall",busy:this.state.adding,children:(0,g.t)("Add Repository")})})}renderError(t){return Object.values(this.state.errors).find((t=>t&&400===t.status))?(0,w.tZ)(a.Z,{type:"error",icon:(0,w.tZ)(p.Gy,{size:"md"}),children:(0,g.t)("We were unable to fetch repositories for this integration. Try again later. If this error continues, please reconnect this integration by uninstalling and then reinstalling.")}):super.renderError(t)}renderBody(){const{itemListPageLinks:t}=this.state,e=this.props.organization.slug,n=this.getIntegrationRepos()||[],i=(0,w.BX)(b.V9,{disablePadding:!0,hasButtons:!0,children:[(0,w.tZ)(Xt,{children:(0,g.t)("Repositories")}),(0,w.tZ)(Ut,{children:this.renderDropdown()})]});return(0,w.BX)(r.Fragment,{children:[(0,w.BX)(b.s_,{children:[i,(0,w.BX)(b.N,{children:[0===n.length&&(0,w.tZ)(x.Z,{icon:(0,w.tZ)(p.J3,{}),title:(0,g.t)("Sentry is better with commit data"),description:(0,g.t)("Add a repository to begin tracking its commit data. Then, set up release tracking to unlock features like suspect commits, suggested issue owners, and deploy emails."),action:(0,w.tZ)(o.ZP,{href:"https://docs.sentry.io/product/releases/",children:(0,g.t)("Learn More")})}),n.map((t=>(0,w.tZ)(Tt.Z,{repository:t,orgId:e,api:this.api,onRepositoryChange:this.onRepositoryChange},t.id)))]})]}),t&&(0,w.tZ)(gt.Z,{pageLinks:t,...this.props})]})}}const At=(0,m.Z)(Lt),Xt=(0,s.Z)("div",{target:"e14eb1ye4"})("padding-left:",(0,X.Z)(2),";flex:1;"),Ut=(0,s.Z)("div",{target:"e14eb1ye3"})("padding-right:",(0,X.Z)(1),";text-transform:none;"),Ot=(0,s.Z)("div",{target:"e14eb1ye2"})("width:250px;font-size:0.875em;padding:",(0,X.Z)(1)," 0;text-transform:uppercase;"),Ht=(0,s.Z)("div",{target:"e14eb1ye1"})("display:flex;align-items:center;padding:",(0,X.Z)(.5),";"),Vt=(0,s.Z)("div",{target:"e14eb1ye0"})("flex-shrink:1;min-width:0;",qt.Z,";");var Wt=n("./app/components/switchButton.tsx"),Yt=n("./app/utils/withApi.tsx");class Jt extends r.Component{constructor(...t){super(...t),(0,i.Z)(this,"state",{submitting:!1}),(0,i.Z)(this,"recordAction",(t=>{(0,h.Db)("integrations.serverless_function_action",{integration:this.props.integration.provider.key,integration_type:"first_party",action:t,organization:this.props.organization})})),(0,i.Z)(this,"toggleEnable",(async()=>{const{serverlessFunction:t}=this.props,e=this.enabled?"disable":"enable",n={action:e,target:t.name};try{(0,B.E3)(),this.setState({submitting:!0}),this.props.onUpdateFunction({enabled:!this.enabled}),this.recordAction(e);const t=await this.props.api.requestPromise(this.endpoint,{method:"POST",data:n});this.props.onUpdateFunction(t),(0,B.S9)((0,g.t)("Success"))}catch(e){var i,s;this.props.onUpdateFunction(t),(0,B.Iw)(null!==(i=null===(s=e.responseJSON)||void 0===s?void 0:s.detail)&&void 0!==i?i:(0,g.t)("Error occurred"))}this.setState({submitting:!1})})),(0,i.Z)(this,"updateVersion",(async()=>{const{serverlessFunction:t}=this.props,e={action:"updateVersion",target:t.name};try{this.setState({submitting:!0}),this.props.onUpdateFunction({outOfDate:!1}),(0,B.E3)(),this.recordAction("updateVersion");const t=await this.props.api.requestPromise(this.endpoint,{method:"POST",data:e});this.props.onUpdateFunction(t),(0,B.S9)((0,g.t)("Success"))}catch(e){var n,i;this.props.onUpdateFunction(t),(0,B.Iw)(null!==(n=null===(i=e.responseJSON)||void 0===i?void 0:i.detail)&&void 0!==n?n:(0,g.t)("Error occurred"))}this.setState({submitting:!1})}))}get enabled(){return this.props.serverlessFunction.enabled}get endpoint(){const t=this.props.organization.slug;return"/organizations/".concat(t,"/integrations/").concat(this.props.integration.id,"/serverless-functions/")}renderLayerStatus(){const{serverlessFunction:t}=this.props;return t.outOfDate?(0,w.tZ)(ne,{size:"small",priority:"primary",onClick:this.updateVersion,children:(0,g.t)("Update")}):this.enabled?(0,g.t)("Latest"):(0,g.t)("Disabled")}render(){const{serverlessFunction:t}=this.props,{version:e}=t,n=this.enabled&&e>0?(0,w.BX)(r.Fragment,{children:[" | v",e]}):null;return(0,w.BX)(Kt,{children:[(0,w.tZ)($t,{children:(0,w.BX)(ie,{children:[(0,w.tZ)(se,{children:t.name}),(0,w.BX)(re,{children:[(0,w.tZ)(ae,{children:t.runtime}),(0,w.tZ)(ae,{children:n})]})]})}),(0,w.tZ)(te,{children:this.renderLayerStatus()}),(0,w.tZ)(ee,{isActive:this.enabled,isDisabled:this.state.submitting,size:"sm",toggle:this.toggleEnable})]})}}Jt.displayName="IntegrationServerlessRow";const Gt=(0,Yt.Z)(Jt),Kt=(0,s.Z)("div",{target:"ey3r97y9"})("padding:",(0,X.Z)(2),";&:not(:last-child){border-bottom:1px solid ",(t=>t.theme.innerBorder),";}display:grid;grid-column-gap:",(0,X.Z)(1),";align-items:center;grid-template-columns:2fr 1fr 0.5fr;grid-template-areas:'function-name layer-status enable-switch';"),Qt=(0,s.Z)("span",{target:"ey3r97y8"})({name:"5l2w6y",styles:"height:32px;vertical-align:middle;display:flex;align-items:center"}),$t=(0,s.Z)(Qt,{target:"ey3r97y7"})({name:"gs1e4l",styles:"grid-area:function-name"}),te=(0,s.Z)(Qt,{target:"ey3r97y6"})({name:"12cfrml",styles:"grid-area:layer-status"}),ee=(0,s.Z)(Wt.Z,{target:"ey3r97y5"})({name:"uxilq9",styles:"grid-area:enable-switch"}),ne=(0,s.Z)(o.ZP,{target:"ey3r97y4"})(""),ie=(0,s.Z)("div",{target:"ey3r97y3"})({name:"1fttcpj",styles:"display:flex;flex-direction:column"}),se=(0,s.Z)("span",{target:"ey3r97y2"})("padding-bottom:",(0,X.Z)(1),";"),re=(0,s.Z)("div",{target:"ey3r97y1"})("display:flex;flex-direction:row;color:",(t=>t.theme.gray300),";"),ae=(0,s.Z)("div",{target:"ey3r97y0"})({name:"oid971",styles:"line-height:1.2"});class oe extends D.Z{constructor(...t){super(...t),(0,i.Z)(this,"handleFunctionUpdate",((t,e)=>{const n=[...this.serverlessFunctions],i={...n[e],...t};n[e]=i,this.setState({serverlessFunctions:n})}))}getDefaultState(){return{...super.getDefaultState(),serverlessFunctions:[]}}getEndpoints(){const t=this.props.organization.slug;return[["serverlessFunctions","/organizations/".concat(t,"/integrations/").concat(this.props.integration.id,"/serverless-functions/")]]}get serverlessFunctions(){return this.state.serverlessFunctions}onLoadAllEndpointsSuccess(){(0,h.Db)("integrations.serverless_functions_viewed",{integration:this.props.integration.provider.key,integration_type:"first_party",num_functions:this.serverlessFunctions.length,organization:this.props.organization})}renderBody(){return(0,w.BX)(r.Fragment,{children:[(0,w.tZ)(a.Z,{type:"info",children:(0,g.t)("Manage your AWS Lambda functions below. Only Node and Python runtimes are currently supported.")}),(0,w.BX)(b.s_,{children:[(0,w.BX)(le,{disablePadding:!0,hasButtons:!0,children:[(0,w.tZ)(ge,{children:(0,g.t)("Name")}),(0,w.tZ)(he,{children:(0,g.t)("Layer Status")}),(0,w.tZ)(ue,{children:(0,g.t)("Enabled")})]}),(0,w.tZ)(pe,{children:this.serverlessFunctions.map(((t,e)=>(0,w.tZ)(Gt,{serverlessFunction:t,onUpdateFunction:t=>this.handleFunctionUpdate(t,e),...this.props},t.name)))})]})]})}}const de=(0,m.Z)(oe),le=(0,s.Z)(b.V9,{target:"e92pouk5"})("padding:",(0,X.Z)(2),";display:grid;grid-column-gap:",(0,X.Z)(1),";align-items:center;grid-template-columns:2fr 1fr 0.5fr;grid-template-areas:'function-name layer-status enable-switch';"),ce=(0,s.Z)("div",{target:"e92pouk4"})({name:"82a6rk",styles:"flex:1"}),pe=(0,s.Z)(b.N,{target:"e92pouk3"})(""),ge=(0,s.Z)(ce,{target:"e92pouk2"})({name:"gs1e4l",styles:"grid-area:function-name"}),he=(0,s.Z)(ce,{target:"e92pouk1"})({name:"12cfrml",styles:"grid-area:layer-status"}),ue=(0,s.Z)(ce,{target:"e92pouk0"})({name:"uxilq9",styles:"grid-area:enable-switch"});var me=n("./app/actions/settingsBreadcrumbActions.tsx");class ye extends r.Component{componentDidMount(){me.Z.mapTitle(this.props)}render(){return null}}ye.displayName="BreadcrumbTitle";const Ze=ye;var fe=n("./app/views/settings/components/settingsPageHeader.tsx");class be extends y.Z{constructor(...t){super(...t),(0,i.Z)(this,"onTabChange",(t=>{this.setState({tab:t})})),(0,i.Z)(this,"onUpdateIntegration",(()=>{this.setState(this.getDefaultState(),this.fetchData)})),(0,i.Z)(this,"getAction",(t=>{const{integration:e}=this.state;return t&&"pagerduty"===t.key?(0,w.tZ)(Z.Z,{provider:t,onInstall:this.onUpdateIntegration,account:e.domainName,organization:this.props.organization,children:t=>(0,w.tZ)(o.ZP,{priority:"primary",size:"small",icon:(0,w.tZ)(p.N_,{size:"xs",isCircled:!0}),onClick:()=>t(),children:(0,g.t)("Add Services")})}):null}))}getEndpoints(){const{orgId:t,integrationId:e}=this.props.params;return[["config","/organizations/".concat(t,"/config/integrations/")],["integration","/organizations/".concat(t,"/integrations/").concat(e,"/")]]}componentDidMount(){const{location:t}=this.props,e=["codeMappings","userMappings","teamMappings"].find((e=>e===t.query.tab))||"repos";this.setState({tab:e})}onRequestSuccess({stateKey:t,data:e}){"integration"===t&&(0,h.Db)("integrations.details_viewed",{integration:e.provider.key,integration_type:"first_party",organization:this.props.organization})}getTitle(){return this.state.integration?this.state.integration.provider.name:"Configure Integration"}hasStacktraceLinking(t){return t.features.includes("stacktrace-link")&&this.props.organization.features.includes("integrations-stacktrace-link")}hasCodeOwners(){return this.props.organization.features.includes("integrations-codeowners")}isCustomIntegration(){const{integration:t}=this.state,{organization:e}=this.props;return e.features.includes("integrations-custom-scm")&&"custom_scm"===t.provider.key}get tab(){return this.state.tab||"repos"}renderMainTab(t){var e,n,i,s;const{orgId:o}=this.props.params,{integration:c}=this.state,h=null===(e=c.dynamicDisplayInformation)||void 0===e||null===(n=e.configure_integration)||void 0===n?void 0:n.instructions;return(0,w.BX)(r.Fragment,{children:[(0,w.tZ)(Ze,{routes:this.props.routes,title:c.provider.name}),c.configOrganization.length>0&&(0,w.tZ)(P.Z,{hideFooter:!0,saveOnBlur:!0,allowUndo:!0,apiMethod:"POST",initialData:c.configData||{},apiEndpoint:"/organizations/".concat(o,"/integrations/").concat(c.id,"/"),children:(0,w.tZ)(Bt.Z,{fields:c.configOrganization,title:(null===(i=c.provider.aspects.configure_integration)||void 0===i?void 0:i.title)||(0,g.t)("Organization Integration Settings")})}),h&&h.length>0&&(0,w.tZ)(a.Z,{type:"info",children:1===(null==h?void 0:h.length)?(0,w.tZ)("span",{dangerouslySetInnerHTML:{__html:(0,u.A)(h[0])}}):(0,w.tZ)(d.Z,{symbol:(0,w.tZ)(p.CC,{size:"xs",direction:"right"}),children:null!==(s=null==h?void 0:h.map(((t,e)=>(0,w.tZ)(l.Z,{children:(0,w.tZ)("span",{dangerouslySetInnerHTML:{__html:(0,u.A)(t)}})},e))))&&void 0!==s?s:[]})}),t.features.includes("alert-rule")&&(0,w.tZ)(k,{}),t.features.includes("commits")&&(0,w.tZ)(At,{...this.props,integration:c}),t.features.includes("serverless")&&(0,w.tZ)(de,{integration:c})]})}renderBody(){const{integration:t}=this.state,e=this.state.config.providers.find((e=>e.key===t.provider.key));if(!e)return null;const n=(0,w.tZ)(It.Z,{integration:t}),i=(0,w.tZ)(fe.Z,{noTitleStyles:!0,title:n,action:this.getAction(e)});return(0,w.BX)(r.Fragment,{children:[i,this.renderMainContent(e)]})}renderMainContent(t){if(!this.hasStacktraceLinking(t))return this.renderMainTab(t);const e=[["repos",(0,g.t)("Repositories")],["codeMappings",(0,g.t)("Code Mappings")],...this.hasCodeOwners()?[["userMappings",(0,g.t)("User Mappings")]]:[],...this.hasCodeOwners()?[["teamMappings",(0,g.t)("Team Mappings")]]:[]];return this.isCustomIntegration()&&e.unshift(["settings",(0,g.t)("Settings")]),(0,w.BX)(r.Fragment,{children:[(0,w.tZ)(c.Z,{underlined:!0,children:e.map((t=>(0,w.tZ)("li",{className:this.tab===t[0]?"active":"",onClick:()=>this.onTabChange(t[0]),children:(0,w.tZ)(xe,{children:t[1]})},t[0])))}),this.renderTabContent(this.tab,t)]})}renderTabContent(t,e){const{integration:n}=this.state,{organization:i}=this.props;switch(t){case"codeMappings":return(0,w.tZ)(nt,{integration:n});case"repos":return this.renderMainTab(e);case"userMappings":return(0,w.tZ)(Ct,{integration:n});case"teamMappings":return(0,w.tZ)(kt,{integration:n});case"settings":return(0,w.tZ)(Rt,{onUpdate:this.onUpdateIntegration,organization:i,integration:n});default:return this.renderMainTab(e)}}}const ve=(0,m.Z)(be),xe=(0,s.Z)("a",{target:"e16tqr840"})({name:"kff9ir",styles:"text-transform:capitalize"})}}]);
//# sourceMappingURL=../sourcemaps/app_views_settings_organizationIntegrations_configureIntegration_tsx.4906650e6681fa0a915f4972380df619.js.map