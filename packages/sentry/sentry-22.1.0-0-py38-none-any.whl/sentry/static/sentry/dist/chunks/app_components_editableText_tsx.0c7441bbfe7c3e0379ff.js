"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["app_components_editableText_tsx"],{"./app/components/editableText.tsx":(e,t,n)=>{n.d(t,{Z:()=>f});var s=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=(n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),n("../node_modules/core-js/modules/es.string.trim.js"),n("../node_modules/react/index.js")),r=n("./app/actionCreators/indicator.tsx"),i=n("./app/components/textOverflow.tsx"),a=n("./app/icons/iconEdit.tsx"),d=n("./app/styles/space.tsx"),c=n("./app/utils.tsx");const u=function(e){const[t,n]=(0,o.useState)(!1);return(0,o.useEffect)((()=>{function t({key:t}){t===e&&n(!0)}function s({key:t}){t===e&&n(!1)}return window.addEventListener("keydown",t),window.addEventListener("keyup",s),()=>{window.removeEventListener("keydown",t),window.removeEventListener("keyup",s)}}),[e]),t};var l=n("./app/views/settings/components/forms/controls/input.tsx"),p=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function m({value:e,onChange:t,name:n,errorMessage:s,successMessage:i,isDisabled:d=!1}){const[l,m]=(0,o.useState)(!1),[f,k]=(0,o.useState)(e),Z=!f.trim(),E=(0,o.useRef)(null),y=(0,o.useRef)(null),j=(0,o.useRef)(null),C=u("Enter"),L=u("Escape");function _(){e!==f&&k(e),l&&m(!1)}var z,D;z=E,D=()=>{l&&(Z?T("error"):(f!==e&&(t(f),T("success")),m(!1)))},(0,o.useEffect)((()=>{const e=e=>{const t=null==z?void 0:z.current;t&&!t.contains(e.target)&&D(e)};return document.addEventListener("mousedown",e),document.addEventListener("touchstart",e),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("touchstart",e)}}),[z,D]);const R=(0,o.useCallback)((()=>{if(C){if(Z)return void T("error");f!==e&&(t(f),T("success")),m(!1)}}),[C,f,t]),S=(0,o.useCallback)((()=>{L&&_()}),[L]);function T(e){"error"!==e?i&&(0,r.S9)(i):s&&(0,r.Iw)(s)}return(0,o.useEffect)((()=>{_()}),[d,e]),(0,o.useEffect)((()=>{if(l){const e=j.current;(0,c.ri)(e)&&e.focus()}}),[l]),(0,o.useEffect)((()=>{l&&(R(),S())}),[R,S,l]),(0,p.tZ)(x,{isDisabled:d,isEditing:l,children:l?(0,p.BX)(g,{ref:E,isEmpty:Z,"data-test-id":"editable-text-input",children:[(0,p.tZ)(v,{name:n,ref:j,value:f,onChange:function(e){k(e.target.value)}}),(0,p.tZ)(h,{children:f})]}):(0,p.BX)(b,{onClick:d?void 0:function(){m(!0)},ref:y,isDisabled:d,"data-test-id":"editable-text-label",children:[(0,p.tZ)(w,{children:f}),!d&&(0,p.tZ)(a.y,{})]})})}m.displayName="EditableText";const f=m,b=(0,s.Z)("div",{target:"e1nzw5k75"})("display:grid;grid-auto-flow:column;align-items:center;gap:",(0,d.Z)(1),";cursor:",(e=>e.isDisabled?"default":"pointer"),";"),w=(0,s.Z)(i.Z,{target:"e1nzw5k74"})("border-top:1px solid transparent;border-bottom:1px dotted ",(e=>e.theme.gray200),";"),g=(0,s.Z)("div",{target:"e1nzw5k73"})("display:inline-block;background:",(e=>e.theme.gray100),";border-radius:",(e=>e.theme.borderRadius),";margin:-",(0,d.Z)(.5)," -",(0,d.Z)(1),";max-width:calc(100% + ",(0,d.Z)(2),");"),v=(0,s.Z)(l.Z,{target:"e1nzw5k72"})("border:none!important;background:transparent;height:auto;min-height:34px;padding:",(0,d.Z)(.5)," ",(0,d.Z)(1),";&,&:focus,&:active,&:hover{box-shadow:none;}"),h=(0,s.Z)("div",{target:"e1nzw5k71"})("height:0;opacity:0;white-space:pre;padding:0 ",(0,d.Z)(1),";"),x=(0,s.Z)("div",{target:"e1nzw5k70"})("display:flex;",(e=>e.isDisabled&&"\n      ".concat(w," {\n        border-bottom-color: transparent;\n      }\n    ")),";")}}]);
//# sourceMappingURL=../sourcemaps/app_components_editableText_tsx.c65d55f256477e00e2df0185ea9cd5b2.js.map