"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["app_views_settings_account_apiApplications_index_tsx"],{"./app/views/asyncView.tsx":(e,t,i)=>{i.d(t,{Z:()=>o}),i("../node_modules/react/index.js");var s=i("./app/components/asyncComponent.tsx"),n=i("./app/components/sentryDocumentTitle.tsx"),a=i("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class o extends s.Z{getTitle(){return""}render(){return(0,a.tZ)(n.Z,{title:this.getTitle(),children:this.renderComponent()})}}o.displayName="AsyncView"},"./app/views/settings/account/apiApplications/index.tsx":(e,t,i)=>{i.r(t),i.d(t,{default:()=>C});var s=i("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),n=(i("../node_modules/core-js/modules/web.dom-collections.iterator.js"),i("./app/actionCreators/indicator.tsx")),a=i("./app/components/button.tsx"),o=i("./app/components/panels/index.tsx"),p=i("./app/icons/index.tsx"),r=i("./app/locale.tsx"),c=i("./app/views/asyncView.tsx"),l=i("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),d=i("../node_modules/react/index.js"),m=i("./app/components/links/link.tsx"),h=i("./app/styles/space.tsx"),u=i("./app/utils/getDynamicText.tsx"),x=i("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class Z extends d.Component{constructor(...e){super(...e),(0,s.Z)(this,"state",{loading:!1}),(0,s.Z)(this,"handleRemove",(()=>{if(this.state.loading)return;const{api:e,app:t,onRemove:i}=this.props;this.setState({loading:!0},(async()=>{(0,n.E3)();try{await e.requestPromise("/api-applications/".concat(t.id,"/"),{method:"DELETE"}),(0,n.B8)(),i(t)}catch(e){(0,n.Iw)((0,r.t)("Unable to remove application. Please try again."))}}))}))}render(){const{app:e}=this.props;return(0,x.BX)(g,{children:[(0,x.BX)(y,{children:[(0,x.tZ)(v,{to:"".concat("/settings/account/api/","applications/").concat(e.id,"/"),children:(0,u.Z)({value:e.name,fixed:"CI_APPLICATION_NAME"})}),(0,x.tZ)(w,{children:(0,u.Z)({value:e.clientID,fixed:"CI_CLIENT_ID"})})]}),(0,x.tZ)(a.ZP,{"aria-label":"Remove",onClick:this.handleRemove,disabled:this.state.loading,icon:(0,x.tZ)(p.Fz,{})})]})}}Z.displayName="Row";const g=(0,l.Z)(o.Lv,{target:"ek7lf4i3"})("padding:",(0,h.Z)(2),";align-items:center;"),y=(0,l.Z)("div",{target:"ek7lf4i2"})("display:flex;flex-direction:column;flex:1;margin-right:",(0,h.Z)(1),";"),v=(0,l.Z)(m.Z,{target:"ek7lf4i1"})("font-size:",(e=>e.theme.headerFontSize),";font-weight:bold;margin-bottom:",(0,h.Z)(.5),";"),w=(0,l.Z)("div",{target:"ek7lf4i0"})("color:",(e=>e.theme.gray200),";font-size:",(e=>e.theme.fontSizeMedium),";"),f=Z;var _=i("./app/views/settings/components/emptyMessage.tsx"),A=i("./app/views/settings/components/settingsPageHeader.tsx");class b extends c.Z{constructor(...e){super(...e),(0,s.Z)(this,"handleCreateApplication",(async()=>{(0,n.E3)();try{const e=await this.api.requestPromise("/api-applications/",{method:"POST"});(0,n.S9)((0,r.t)("Created a new API Application")),this.props.router.push("".concat("/settings/account/api/","applications/").concat(e.id,"/"))}catch(e){(0,n.Iw)((0,r.t)("Unable to remove application. Please try again."))}})),(0,s.Z)(this,"handleRemoveApplication",(e=>{this.setState({appList:this.state.appList.filter((t=>t.id!==e.id))})}))}getEndpoints(){return[["appList","/api-applications/"]]}getTitle(){return(0,r.t)("API Applications")}renderBody(){const e=(0,x.tZ)(a.ZP,{priority:"primary",size:"small",onClick:this.handleCreateApplication,icon:(0,x.tZ)(p.N_,{size:"xs",isCircled:!0}),children:(0,r.t)("Create New Application")}),t=0===this.state.appList.length;return(0,x.BX)("div",{children:[(0,x.tZ)(A.Z,{title:"API Applications",action:e}),(0,x.BX)(o.s_,{children:[(0,x.tZ)(o.V9,{children:(0,r.t)("Application Name")}),(0,x.tZ)(o.N,{children:t?(0,x.tZ)(_.Z,{children:(0,r.t)("You haven't created any applications yet.")}):this.state.appList.map((e=>(0,x.tZ)(f,{api:this.api,app:e,onRemove:this.handleRemoveApplication},e.id)))})]})]})}}const C=b}}]);
//# sourceMappingURL=../sourcemaps/app_views_settings_account_apiApplications_index_tsx.6ad9a5c447c4859b83209e2579e1ed2d.js.map