"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["app_views_settings_account_accountSecurity_accountSecurityWrapper_tsx"],{"./app/views/settings/account/accountSecurity/accountSecurityWrapper.tsx":(e,t,s)=>{s.r(t),s.d(t,{default:()=>u});var a=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),n=(s("../node_modules/core-js/modules/web.dom-collections.iterator.js"),s("../node_modules/react/index.js")),i=s("./app/actionCreators/indicator.tsx"),o=s("./app/components/asyncComponent.tsx"),r=s("./app/locale.tsx"),c=s("./app/utils.tsx");const l="/users/me/authenticators/";class h extends o.Z{constructor(...e){super(...e),(0,a.Z)(this,"handleDisable",(async e=>{if(e&&e.authId){this.setState({loading:!0});try{await this.api.requestPromise("".concat(l).concat(e.authId,"/"),{method:"DELETE"}),this.remountComponent()}catch(t){this.setState({loading:!1}),(0,i.Iw)((0,r.t)("Error disabling %s",e.name))}}})),(0,a.Z)(this,"handleRegenerateBackupCodes",(async()=>{this.setState({loading:!0});try{await this.api.requestPromise("".concat(l).concat(this.props.params.authId,"/"),{method:"PUT"}),this.remountComponent()}catch(e){this.setState({loading:!1}),(0,i.Iw)((0,r.t)("Error regenerating backup codes"))}})),(0,a.Z)(this,"handleRefresh",(()=>{this.fetchData()}))}getEndpoints(){return[["authenticators",l],["organizations","/organizations/"],["emails","/users/me/emails/"]]}renderBody(){const{children:e}=this.props,{authenticators:t,organizations:s,emails:a}=this.state,i=((null==t?void 0:t.filter((e=>e.isEnrolled&&!e.isBackupInterface)))||[]).length,o=(null==s?void 0:s.filter((e=>e.require2FA)))||[],r=o.length>0&&1===i,l=!(null==a||!a.find((({isVerified:e})=>e)));return(0,c.ri)(e)?n.cloneElement(this.props.children,{onDisable:this.handleDisable,onRegenerateBackupCodes:this.handleRegenerateBackupCodes,authenticators:t,deleteDisabled:r,orgsRequire2fa:o,countEnrolled:i,hasVerifiedEmail:l,handleRefresh:this.handleRefresh}):null}}const u=h}}]);
//# sourceMappingURL=../sourcemaps/app_views_settings_account_accountSecurity_accountSecurityWrapper_tsx.22ef4c706eff33c6b715fcff445feab6.js.map