"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["app_views_settings_projectAlerts_settings_tsx"],{"./app/components/alertLink.tsx":(e,t,n)=>{n.d(t,{Z:()=>u});var s=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),i=(n("../node_modules/react/index.js"),n("../node_modules/lodash/omit.js")),o=n.n(i),a=n("./app/components/links/externalLink.tsx"),r=n("./app/components/links/link.tsx"),l=n("./app/icons/index.tsx"),p=n("./app/styles/space.tsx"),d=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function c({size:e="normal",priority:t="warning",icon:n,children:s,onClick:i,withoutMarginBottom:o=!1,openInNewTab:a=!1,to:r,href:p,"data-test-id":c}){return(0,d.BX)(m,{"data-test-id":c,to:r,href:p,onClick:i,size:e,priority:t,withoutMarginBottom:o,openInNewTab:a,children:[n&&(0,d.tZ)(g,{children:n}),(0,d.tZ)(x,{children:s}),(0,d.tZ)(h,{children:(0,d.tZ)(l.g6,{direction:"right"})})]})}c.displayName="AlertLink";const u=c,m=(0,s.Z)((({openInNewTab:e,to:t,href:n,...s})=>{const i=o()(s,["withoutMarginBottom","priority","size"]);return n?(0,d.tZ)(a.Z,{...i,href:n,openInNewTab:e}):(0,d.tZ)(r.Z,{...i,to:t||""})}),{target:"ear9tuy3"})("display:flex;background-color:",(e=>e.theme.alert[e.priority].backgroundLight),";color:",(e=>e.theme.textColor),";border:1px dashed ",(e=>e.theme.alert[e.priority].border),";padding:",(e=>"small"===e.size?"".concat((0,p.Z)(1)," ").concat((0,p.Z)(1.5)):(0,p.Z)(2)),";margin-bottom:",(e=>e.withoutMarginBottom?0:(0,p.Z)(3)),";border-radius:0.25em;transition:0.2s border-color;&.focus-visible{outline:none;box-shadow:",(e=>e.theme.alert[e.priority].border),"7f 0 0 0 2px;}"),g=(0,s.Z)("span",{target:"ear9tuy2"})("display:flex;margin:",(0,p.Z)(.5)," ",(0,p.Z)(1.5)," ",(0,p.Z)(.5)," 0;"),h=(0,s.Z)(g,{target:"ear9tuy1"})("margin:",(0,p.Z)(.5)," 0;"),x=(0,s.Z)("div",{target:"ear9tuy0"})({name:"19lh9qo",styles:"line-height:1.5;flex-grow:1"})},"./app/components/pluginList.tsx":(e,t,n)=>{n.d(t,{Z:()=>y});var s=n("./app/actionCreators/plugins.tsx"),i=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=n("./app/components/panels/index.tsx"),a=n("./app/components/textOverflow.tsx"),r=n("./app/locale.tsx"),l=n("./app/plugins/components/pluginIcon.tsx"),p=n("./app/styles/space.tsx"),d=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const c=({plugins:e,onEnablePlugin:t})=>0===e.length?null:(0,d.BX)(o.s_,{children:[(0,d.tZ)(o.V9,{children:(0,r.t)("Inactive Integrations")}),(0,d.tZ)(o.N,{children:(0,d.tZ)(u,{children:e.map((e=>(0,d.tZ)(m,{onClick:()=>t(e),className:"ref-plugin-enable-".concat(e.id),children:(0,d.BX)(g,{children:[(0,d.tZ)(h,{pluginId:e.id}),(0,d.tZ)(a.Z,{children:e.shortName||e.name})]})},e.id)))})})]});c.displayName="InactivePlugins";const u=(0,i.Z)("div",{target:"e4awzvo3"})("display:flex;padding:",(0,p.Z)(1),";flex:1;flex-wrap:wrap;"),m=(0,i.Z)("button",{target:"e4awzvo2"})("margin:",(0,p.Z)(1),";width:175px;text-align:center;font-size:",(e=>e.theme.fontSizeSmall),";color:#889ab0;letter-spacing:0.1px;font-weight:600;text-transform:uppercase;border:1px solid #eee;background:inherit;border-radius:",(e=>e.theme.borderRadius),";padding:10px;&:hover{border-color:#ccc;}"),g=(0,i.Z)("div",{target:"e4awzvo1"})({name:"1wnowod",styles:"display:flex;align-items:center;justify-content:center"}),h=(0,i.Z)(l.ZP,{target:"e4awzvo0"})("margin-right:",(0,p.Z)(1),";"),x=c;var b=n("./app/components/pluginConfig.tsx");const Z=({organization:e,project:t,pluginList:n,onDisablePlugin:i=(()=>{}),onEnablePlugin:a=(()=>{})})=>{const l=n=>{(0,s.rR)({projectId:t.slug,orgId:e.slug,pluginId:n.slug}),i(n)};return n.length?(0,d.BX)("div",{children:[n.filter((e=>e.enabled)).map((n=>(0,d.tZ)(b.Z,{data:n,organization:e,project:t,onDisablePlugin:l},n.id))),(0,d.tZ)(x,{plugins:n.filter((e=>!e.enabled&&!e.isHidden)),onEnablePlugin:n=>{(0,s.Cg)({projectId:t.slug,orgId:e.slug,pluginId:n.slug}),a(n)}})]}):(0,d.tZ)(o.s_,{children:(0,d.tZ)(o.Lv,{children:(0,r.t)("Oops! Looks like there aren't any available integrations installed.")})})};Z.displayName="PluginList";const y=Z},"./app/data/forms/projectAlerts.tsx":(e,t,n)=>{n.r(t),n.d(t,{route:()=>i,fields:()=>a});var s=n("./app/locale.tsx");const i="/settings/:orgId/projects/:projectId/alerts/",o=e=>(e=Number(e)/60,(0,s.tn)("%s minute","%s minutes",e)),a={subjectTemplate:{name:"subjectTemplate",type:"string",label:(0,s.t)("Subject Template"),placeholder:"e.g. $shortID - $title",help:(0,s.t)("The email subject to use (excluding the prefix) for individual alerts. Usable variables include: $title, $shortID, $projectID, $orgID, and ${tag:key}, such as ${tag:environment} or ${tag:release}.")},digestsMinDelay:{name:"digestsMinDelay",type:"range",min:60,max:3600,step:60,defaultValue:300,label:(0,s.t)("Minimum delivery interval"),help:(0,s.t)("Notifications will be delivered at most this often."),formatLabel:o},digestsMaxDelay:{name:"digestsMaxDelay",type:"range",min:60,max:3600,step:60,defaultValue:300,label:(0,s.t)("Maximum delivery interval"),help:(0,s.t)("Notifications will be delivered at least this often."),formatLabel:o}}},"./app/utils/routeTitle.tsx":(e,t,n)=>{n.d(t,{Z:()=>s});const s=function(e,t,n=!0,s){const i="".concat(e," - ").concat(t),o=s?"".concat(i," - ").concat(s):i;return n?"".concat(o," - Sentry"):o}},"./app/views/asyncView.tsx":(e,t,n)=>{n.d(t,{Z:()=>a}),n("../node_modules/react/index.js");var s=n("./app/components/asyncComponent.tsx"),i=n("./app/components/sentryDocumentTitle.tsx"),o=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class a extends s.Z{getTitle(){return""}render(){return(0,o.tZ)(i.Z,{title:this.getTitle(),children:this.renderComponent()})}}a.displayName="AsyncView"},"./app/views/settings/project/permissionAlert.tsx":(e,t,n)=>{n.d(t,{Z:()=>p}),n("../node_modules/react/index.js");var s=n("./app/components/acl/access.tsx"),i=n("./app/components/alert.tsx"),o=n("./app/icons/index.tsx"),a=n("./app/locale.tsx"),r=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const l=({access:e=["project:write"],...t})=>(0,r.tZ)(s.Z,{access:e,children:({hasAccess:e})=>!e&&(0,r.tZ)(i.Z,{type:"warning",icon:(0,r.tZ)(o.FC,{size:"xs"}),...t,children:(0,a.t)("These settings can only be edited by users with the organization owner, manager, or admin role.")})});l.displayName="PermissionAlert";const p=l},"./app/views/settings/projectAlerts/settings.tsx":(e,t,n)=>{n.r(t),n.d(t,{default:()=>f});var s=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),i=(n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),n("../node_modules/react/index.js")),o=n("./app/components/alertLink.tsx"),a=n("./app/components/button.tsx"),r=n("./app/components/panels/index.tsx"),l=n("./app/components/pluginList.tsx"),p=n("./app/data/forms/projectAlerts.tsx"),d=n("./app/icons/index.tsx"),c=n("./app/locale.tsx"),u=n("./app/utils/routeTitle.tsx"),m=n("./app/views/asyncView.tsx"),g=n("./app/views/settings/components/forms/form.tsx"),h=n("./app/views/settings/components/forms/jsonForm.tsx"),x=n("./app/views/settings/components/settingsPageHeader.tsx"),b=n("./app/views/settings/project/permissionAlert.tsx"),Z=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class y extends m.Z{constructor(...e){super(...e),(0,s.Z)(this,"handleEnablePlugin",(e=>{this.setState((t=>{var n;return{pluginList:(null!==(n=t.pluginList)&&void 0!==n?n:[]).map((t=>t.id!==e.id?t:{...e,enabled:!0}))}}))})),(0,s.Z)(this,"handleDisablePlugin",(e=>{this.setState((t=>{var n;return{pluginList:(null!==(n=t.pluginList)&&void 0!==n?n:[]).map((t=>t.id!==e.id?t:{...e,enabled:!1}))}}))}))}getDefaultState(){return{...super.getDefaultState(),project:null,pluginList:[]}}getProjectEndpoint({orgId:e,projectId:t}){return"/projects/".concat(e,"/").concat(t,"/")}getEndpoints(){const{params:e}=this.props,{orgId:t,projectId:n}=e;return[["project",this.getProjectEndpoint(e)],["pluginList","/projects/".concat(t,"/").concat(n,"/plugins/")]]}getTitle(){const{projectId:e}=this.props.params;return(0,u.Z)((0,c.t)("Alerts Settings"),e,!1)}renderBody(){const{canEditRule:e,organization:t,params:n}=this.props,{orgId:s}=n,{project:u,pluginList:m}=this.state;if(!u)return null;const y=this.getProjectEndpoint(n);return(0,Z.BX)(i.Fragment,{children:[(0,Z.tZ)(x.Z,{title:(0,c.t)("Alerts Settings"),action:(0,Z.tZ)(a.ZP,{to:{pathname:"/organizations/".concat(s,"/alerts/rules/"),query:{project:u.id}},size:"small",children:(0,c.t)("View Alert Rules")})}),(0,Z.tZ)(b.Z,{}),(0,Z.tZ)(o.Z,{to:"/settings/account/notifications/",icon:(0,Z.tZ)(d.h,{}),children:(0,c.t)("Looking to fine-tune your personal notification preferences? Visit your Account Settings")}),(0,Z.BX)(g.Z,{saveOnBlur:!0,allowUndo:!0,initialData:{subjectTemplate:u.subjectTemplate,digestsMinDelay:u.digestsMinDelay,digestsMaxDelay:u.digestsMaxDelay},apiMethod:"PUT",apiEndpoint:y,children:[(0,Z.tZ)(h.Z,{disabled:!e,title:(0,c.t)("Email Settings"),fields:[p.fields.subjectTemplate]}),(0,Z.tZ)(h.Z,{title:(0,c.t)("Digests"),disabled:!e,fields:[p.fields.digestsMinDelay,p.fields.digestsMaxDelay],renderHeader:()=>(0,Z.tZ)(r.aU,{type:"info",children:(0,c.t)("Sentry will automatically digest alerts sent by some services to avoid flooding your inbox with individual issue notifications. To control how frequently notifications are delivered, use the sliders below.")})})]}),e&&(0,Z.tZ)(l.Z,{organization:t,project:u,pluginList:(null!=m?m:[]).filter((e=>"notification"===e.type&&e.hasConfiguration)),onEnablePlugin:this.handleEnablePlugin,onDisablePlugin:this.handleDisablePlugin})]})}}const f=y}}]);
//# sourceMappingURL=../sourcemaps/app_views_settings_projectAlerts_settings_tsx.b57d9fc8cbb088cec662cfb1849b4c17.js.map