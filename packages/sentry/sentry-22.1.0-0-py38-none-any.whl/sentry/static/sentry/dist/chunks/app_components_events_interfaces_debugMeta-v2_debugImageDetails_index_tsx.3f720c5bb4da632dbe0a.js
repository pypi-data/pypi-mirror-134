"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["app_components_events_interfaces_debugMeta-v2_debugImageDetails_index_tsx"],{"./app/components/events/interfaces/debugMeta-v2/debugImageDetails/index.tsx":(e,t,n)=>{n.r(t),n.d(t,{default:()=>at,modalCss:()=>ct});var s=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),i=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),a=(n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),n("../node_modules/react/index.js")),o=n("../node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),r=n("../node_modules/lodash/partition.js"),l=n.n(r),d=n("../node_modules/lodash/sortBy.js"),c=n.n(d),u=n("./app/actionCreators/indicator.tsx"),p=n("./app/components/asyncComponent.tsx"),m=n("./app/components/button.tsx"),h=n("./app/components/buttonBar.tsx"),g=n("./app/locale.tsx"),f=n("./app/styles/space.tsx"),b=n("./app/types/debugFiles.tsx"),Z=n("./app/types/debugImage.tsx"),y=n("./app/utils/displayReprocessEventAction.tsx"),v=n("./app/utils/theme.tsx"),w=n("./app/views/settings/projectDebugFiles/utils.tsx"),x=n("./app/components/events/interfaces/debugMeta-v2/utils.tsx"),S=(n("../node_modules/core-js/modules/es.string.trim.js"),n("../node_modules/core-js/modules/es.string.replace.js"),n("../node_modules/core-js/modules/es.array.unscopables.flat-map.js"),n("../node_modules/lodash/debounce.js")),D=n.n(S),_=n("../node_modules/lodash/isEqual.js"),E=n.n(_),T=n("../node_modules/lodash/pick.js"),k=n.n(T),C=n("./app/components/links/externalLink.tsx"),B=n("./app/components/panels/panelTable.tsx"),F=n("./app/components/questionTooltip.tsx"),N=n("./app/utils.tsx"),O=n("./app/components/events/interfaces/searchBarAction/index.tsx"),j=n("./app/components/events/interfaces/searchBarAction/searchBarActionFilter.tsx"),R=n("../node_modules/@sentry/minimal/esm/index.js"),z=n("../node_modules/@sentry/types/esm/severity.js"),I=n("./app/components/tag.tsx"),U=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const A=function({status:e}){switch(e){case Z.il.OK:return(0,U.tZ)(I.Z,{type:"success",children:(0,g.t)("Ok")});case Z.il.ERROR:case Z.il.MALFORMED:return(0,U.tZ)(I.Z,{type:"error",children:(0,g.t)("Failed")});case Z.il.NOT_FOUND:return(0,U.tZ)(I.Z,{children:(0,g.t)("Not Found")});case Z.il.NO_PERMISSION:return(0,U.tZ)(I.Z,{type:"highlight",children:(0,g.t)("Permissions")});case Z.il.DELETED:return(0,U.tZ)(I.Z,{type:"success",children:(0,g.t)("Deleted")});case Z.il.UNAPPLIED:return(0,U.tZ)(I.Z,{type:"warning",children:(0,g.t)("Unapplied")});default:return R.$e((e=>{e.setLevel(z.z.Warning),R.Tb(new Error("Unknown image candidate download status"))})),(0,U.tZ)(I.Z,{children:(0,g.t)("Unknown")})}},L="sentry:project",P="sentry://project_debug_file/";n("../node_modules/core-js/modules/es.symbol.description.js");var M=n("./app/components/tooltip.tsx");function X({candidate:e,hasReprocessWarning:t}){const{download:n}=e,{label:s,description:i,disabled:a}=function(e,t){const{download:n,location:s,source:i}=e;switch(n.status){case Z.il.OK:return{label:(0,g.t)("Download Details"),description:s,disabled:!s||i===L};case Z.il.ERROR:case Z.il.MALFORMED:{const{details:e}=n;return{label:(0,g.t)("Download Details"),description:e,disabled:!e}}case Z.il.NOT_FOUND:return{};case Z.il.NO_PERMISSION:{const{details:e}=n;return{label:(0,g.t)("Permission Error"),description:e,disabled:!e}}case Z.il.DELETED:return{label:(0,g.t)("This file was deleted after the issue was processed.")};case Z.il.UNAPPLIED:return{label:t?(0,g.t)("This issue was processed before this debug information file was available. To apply new debug information, reprocess this issue."):(0,g.t)("This issue was processed before this debug information file was available")};default:return R.$e((e=>{e.setLevel(z.z.Warning),R.Tb(new Error("Unknown image candidate download status"))})),{}}}(e,t);return(0,U.tZ)(M.Z,{title:s&&(0,U.BX)(q,{children:[(0,U.tZ)(K,{children:s}),i&&(0,U.tZ)("div",{children:i})]}),disabled:a,children:(0,U.tZ)(A,{status:n.status})})}X.displayName="StatusTooltip";const W=X,q=(0,i.Z)("div",{target:"exze6f61"})({name:"1flj9lk",styles:"text-align:left"}),K=(0,i.Z)("div",{target:"exze6f60"})("display:inline-block;margin-bottom:",(0,f.Z)(.25),";");var G=n("./app/components/acl/access.tsx"),J=n("./app/components/acl/role.tsx"),Y=n("./app/components/actions/button.tsx"),$=n("./app/components/actions/menuItemActionLink.tsx"),H=n("./app/components/confirm.tsx"),V=n("./app/components/dropdownLink.tsx"),Q=n("./app/icons/index.tsx");const ee=(0,g.t)("You do not have permission to download debug files"),te=(0,g.t)("You do not have permission to delete debug files"),ne=(0,g.t)("Are you sure you wish to delete this file?");function se({candidate:e,organization:t,isInternalSource:n,baseUrl:s,projSlug:i,onDelete:o}){const{download:r,location:l}=e,{status:d}=r;if(!l||!n)return null;const c=d===Z.il.DELETED,u="".concat(s,"/projects/").concat(t.slug,"/").concat(i,"/files/dsyms/?id=").concat(l),p=(0,U.tZ)(J.Z,{role:t.debugFilesRole,organization:t,children:({hasRole:e})=>(0,U.tZ)(G.Z,{access:["project:write"],organization:t,children:({hasAccess:t})=>(0,U.BX)(a.Fragment,{children:[(0,U.BX)(ae,{caret:!1,customTitle:(0,U.tZ)(Y.Z,{label:(0,g.t)("Actions"),disabled:c,icon:(0,U.tZ)(Q.YR,{size:"sm"})}),anchorRight:!0,children:[(0,U.tZ)(M.Z,{disabled:e,title:ee,children:(0,U.tZ)($.Z,{shouldConfirm:!1,icon:(0,U.tZ)(Q.Dj,{size:"xs"}),title:(0,g.t)("Download"),href:u,onClick:e=>{c&&e.preventDefault()},disabled:!e||c,children:(0,g.t)("Download")})}),(0,U.tZ)(M.Z,{disabled:t,title:te,children:(0,U.tZ)($.Z,{onAction:()=>o(l),message:ne,title:(0,g.t)("Delete"),disabled:!t||c,shouldConfirm:!0,children:(0,g.t)("Delete")})})]}),(0,U.BX)(oe,{gap:1,children:[(0,U.tZ)(M.Z,{disabled:e,title:ee,children:(0,U.tZ)(m.ZP,{size:"xsmall",icon:(0,U.tZ)(Q.Dj,{size:"xs"}),href:u,disabled:!e,children:(0,g.t)("Download")})}),(0,U.tZ)(M.Z,{disabled:t,title:te,children:(0,U.tZ)(H.Z,{confirmText:(0,g.t)("Delete"),message:ne,onConfirm:()=>o(l),disabled:!t,children:(0,U.tZ)(m.ZP,{priority:"danger",icon:(0,U.tZ)(Q.Fz,{size:"xs"}),size:"xsmall",disabled:!t})})})]})]})})});return c?(0,U.tZ)(M.Z,{title:(0,g.t)("Actions not available because this debug file was deleted"),children:p}):p}se.displayName="Actions";const ie=se,ae=(0,i.Z)(V.Z,{target:"e1yh202n1"})("display:none;@media (min-width: ",(e=>e.theme.breakpoints[4]),"){display:flex;align-items:center;transition:none;}"),oe=(0,i.Z)(h.ZP,{target:"e1yh202n0"})("@media (min-width: ",(e=>e.theme.breakpoints[4]),"){display:none;}");var re=n("../node_modules/lodash/capitalize.js"),le=n.n(re),de=n("../node_modules/moment-timezone/index.js"),ce=n.n(de),ue=n("./app/components/dateTime.tsx"),pe=n("./app/components/fileSize.tsx"),me=n("./app/components/timeSince.tsx"),he=n("./app/components/events/interfaces/debugMeta-v2/processing/item.tsx"),ge=n("./app/components/events/interfaces/debugMeta-v2/processing/list.tsx");function fe(){return(0,U.tZ)(Ze,{children:"|"})}fe.displayName="Divider";const be=fe,Ze=(0,i.Z)("div",{target:"e12uydbn0"})("color:",(e=>e.theme.gray200),";");function ye({download:e}){let t=[];return e.status!==Z.il.OK&&e.status!==Z.il.DELETED&&e.status!==Z.il.UNAPPLIED||(t=Object.keys(e.features).filter((t=>e.features[t]))),(0,U.tZ)(a.Fragment,{children:Object.keys(Z.xe).map((e=>{const{label:n,description:s}=function(e){switch(e){case Z.xe.has_debug_info:return{label:(0,g.t)("debug"),description:(0,g.t)("Debug information provides function names and resolves inlined frames during symbolication")};case Z.xe.has_sources:return{label:(0,g.t)("sources"),description:(0,g.t)("Source code information allows Sentry to display source code context for stack frames")};case Z.xe.has_symbols:return{label:(0,g.t)("symtab"),description:(0,g.t)("Symbol tables are used as a fallback when full debug information is not available")};case Z.xe.has_unwind_info:return{label:(0,g.t)("unwind"),description:(0,g.t)("Stack unwinding information improves the quality of stack traces extracted from minidumps")};default:return R.$e((e=>{e.setLevel(z.z.Warning),R.Tb(new Error("Unknown image candidate feature"))})),{}}}(e),i=!t.includes(e);return(0,U.tZ)(we,{disabled:i,tooltipText:i?void 0:s,children:n},n)}))})}ye.displayName="Features";const ve=ye,we=(0,i.Z)(I.Z,{target:"e18zsjal0"})("opacity:",(e=>e.disabled?"0.35":1),";"),xe=function({processingInfo:e}){switch(e.status){case Z.kJ.OK:return(0,U.tZ)(Q.DL,{color:"green300",size:"xs"});case Z.kJ.ERROR:{const{details:t}=e;return(0,U.tZ)(M.Z,{title:t,disabled:!t,children:(0,U.tZ)(Q.bM,{color:"red300",size:"xs"})})}case Z.kJ.MALFORMED:{const{details:t}=e;return(0,U.tZ)(M.Z,{title:t,disabled:!t,children:(0,U.tZ)(Q.FC,{color:"yellow300",size:"xs"})})}default:return R.$e((e=>{e.setLevel(z.z.Warning),R.Tb(new Error("Unknown image candidate ProcessingIcon status"))})),null}};function Se({candidate:e,isInternalSource:t,hasReprocessWarning:n,eventDateReceived:s}){const{source_name:i,source:o,location:r,download:l}=e,d=function(){if(e.download.status===Z.il.UNAPPLIED||e.download.status===Z.il.OK&&t){const{symbolType:t,filename:n}=e;return t===Z.Ko.PROGUARD&&"proguard-mapping"===n?null:n}return r&&!t?r:null}();return(0,U.BX)(_e,{children:[(0,U.BX)("div",{children:[(0,U.tZ)("strong",{"data-test-id":"source_name",children:i?le()(i):(0,g.t)("Unknown")}),d&&(0,U.tZ)(Ee,{children:d})]}),(0,U.BX)(Te,{children:[function(){if(e.download.status!==Z.il.UNAPPLIED&&e.download.status!==Z.il.OK||o!==L)return null;const{symbolType:t,fileType:i,cpuName:r,size:l,dateCreated:d}=e,{tooltipDesc:c,displayIcon:u}=function(t){const i=(0,U.tZ)(ue.Z,{date:t});return e.download.status!==Z.il.UNAPPLIED?{tooltipDesc:i,displayIcon:!1}:ce()(t).isBefore(s)?n?{tooltipDesc:(0,U.BX)(a.Fragment,{children:[(0,g._N)("This debug file was uploaded [when] before this event. It takes up to 1 hour for new files to propagate. To apply new debug information, reprocess this issue.",{when:ce()(s).from(t,!0)}),(0,U.tZ)(Ce,{children:i})]}),displayIcon:!0}:ce()(s).diff(t,"minutes")>=60?{tooltipDesc:i,displayIcon:!1}:{tooltipDesc:(0,U.BX)(a.Fragment,{children:[(0,g._N)("This debug file was uploaded [when] before this event. It takes up to 1 hour for new files to propagate.",{when:ce()(s).from(t,!0)}),(0,U.tZ)(Ce,{children:i})]}),displayIcon:!0}:n?{tooltipDesc:(0,U.BX)(a.Fragment,{children:[(0,g._N)("This debug file was uploaded [when] after this event. To apply new debug information, reprocess this issue.",{when:ce()(t).from(s,!0)}),(0,U.tZ)(Ce,{children:i})]}),displayIcon:!0}:{tooltipDesc:(0,U.BX)(a.Fragment,{children:[(0,g._N)("This debug file was uploaded [when] after this event.",{when:ce()(s).from(t,!0)}),(0,U.tZ)(Ce,{children:i})]}),displayIcon:!0}}(d);return(0,U.BX)(a.Fragment,{children:[(0,U.tZ)(M.Z,{title:c,children:(0,U.BX)(ke,{children:[u&&(0,U.tZ)(Q.FC,{color:"red300",size:"xs"}),(0,g._N)("Uploaded [timesince]",{timesince:(0,U.tZ)(me.Z,{disabledAbsoluteTooltip:!0,date:d})})]})}),(0,U.tZ)(be,{}),(0,U.tZ)(pe.Z,{bytes:l}),(0,U.tZ)(be,{}),(0,U.tZ)("span",{children:t===Z.Ko.PROGUARD&&"any"===r?(0,g.t)("proguard mapping"):"".concat(t).concat(i?" ".concat(i):"")}),(0,U.tZ)(be,{})]})}(),function(){if(e.download.status!==Z.il.OK&&e.download.status!==Z.il.DELETED)return null;const t=[],{debug:n,unwind:s}=e;return n&&t.push((0,U.tZ)(he.Z,{type:"symbolication",icon:(0,U.tZ)(xe,{processingInfo:n})},"symbolication")),s&&t.push((0,U.tZ)(he.Z,{type:"stack_unwinding",icon:(0,U.tZ)(xe,{processingInfo:s})},"stack_unwinding")),t.length?(0,U.BX)(a.Fragment,{children:[(0,U.tZ)(Be,{items:t}),(0,U.tZ)(be,{})]}):null}(),(0,U.tZ)(ve,{download:l})]})]})}Se.displayName="Information";const De=Se,_e=(0,i.Z)("div",{target:"ehqoafm5"})({name:"2w899g",styles:"white-space:pre-wrap;word-break:break-all;max-width:100%"}),Ee=(0,i.Z)("span",{target:"ehqoafm4"})("padding-left:",(0,f.Z)(1),";font-size:",(e=>e.theme.fontSizeSmall),";"),Te=(0,i.Z)("div",{target:"ehqoafm3"})("display:grid;grid-auto-flow:column;grid-auto-columns:max-content;gap:",(0,f.Z)(1),";color:",(e=>e.theme.gray400),";font-size:",(e=>e.theme.fontSizeSmall),";"),ke=(0,i.Z)("div",{target:"ehqoafm2"})("display:grid;grid-template-columns:max-content 1fr;align-items:center;gap:",(0,f.Z)(.5),";font-variant-numeric:tabular-nums;"),Ce=(0,i.Z)("div",{target:"ehqoafm1"})("padding-top:",(0,f.Z)(1),";font-variant-numeric:tabular-nums;"),Be=(0,i.Z)(ge.Z,{target:"ehqoafm0"})("display:grid;grid-auto-flow:column;grid-auto-columns:max-content;gap:",(0,f.Z)(1),";");function Fe({candidate:e,organization:t,projSlug:n,baseUrl:s,haveCandidatesAtLeastOneAction:i,hasReprocessWarning:o,onDelete:r,eventDateReceived:l}){const{source:d}=e,c=d===L;return(0,U.BX)(a.Fragment,{children:[(0,U.tZ)(Oe,{children:(0,U.tZ)(W,{candidate:e,hasReprocessWarning:o})}),(0,U.tZ)(je,{children:(0,U.tZ)(De,{candidate:e,isInternalSource:c,eventDateReceived:l,hasReprocessWarning:o})}),i&&(0,U.tZ)(Re,{children:(0,U.tZ)(ie,{onDelete:r,baseUrl:s,projSlug:n,organization:t,candidate:e,isInternalSource:c})})]})}Fe.displayName="Candidate";const Ne=Fe,Oe=(0,i.Z)("div",{target:"e19z2lid2"})({name:"s5xdrg",styles:"display:flex;align-items:center"}),je=(0,i.Z)(Oe,{target:"e19z2lid1"})({name:"1ejri1g",styles:"flex-direction:column;align-items:flex-start"}),Re=(0,i.Z)(Oe,{target:"e19z2lid0"})({name:"1f60if8",styles:"justify-content:flex-end"}),ze=(0,g.t)("Status"),Ie=(0,g.t)("Source");class Ue extends a.Component{constructor(...e){super(...e),(0,s.Z)(this,"state",{searchTerm:"",filterOptions:{},filteredCandidatesBySearch:[],filteredCandidatesByFilter:[]}),(0,s.Z)(this,"doSearch",D()(this.filterCandidatesBySearch,300)),(0,s.Z)(this,"handleChangeSearchTerm",((e="")=>{this.setState({searchTerm:e})})),(0,s.Z)(this,"handleChangeFilter",(e=>{const{filteredCandidatesBySearch:t}=this.state,n=this.getFilteredCandidatedByFilter(t,e);this.setState({filterOptions:e,filteredCandidatesByFilter:n})})),(0,s.Z)(this,"handleResetFilter",(()=>{const{filterOptions:e}=this.state;this.setState({filterOptions:Object.keys(e).reduce(((t,n)=>(t[n]=e[n].map((e=>({...e,isChecked:!1}))),t)),{})},this.filterCandidatesBySearch)})),(0,s.Z)(this,"handleResetSearchBar",(()=>{const{candidates:e}=this.props;this.setState({searchTerm:"",filteredCandidatesByFilter:e,filteredCandidatesBySearch:e})}))}componentDidMount(){this.getFilters()}componentDidUpdate(e,t){E()(e.candidates,this.props.candidates)?t.searchTerm!==this.state.searchTerm&&this.doSearch():this.getFilters()}filterCandidatesBySearch(){const{searchTerm:e,filterOptions:t}=this.state,{candidates:n}=this.props;if(!e.trim()){const e=this.getFilteredCandidatedByFilter(n,t);return void this.setState({filteredCandidatesBySearch:n,filteredCandidatesByFilter:e})}const s=JSON.stringify(e).replace(/((^")|("$))/g,"").toLocaleLowerCase(),i=n.filter((e=>Object.keys(k()(e,["source_name","location"])).some((t=>{const n=e[t];return("location"!==t||"number"!=typeof Number(n))&&!(!(0,N.ri)(n)||!String(n).trim())&&JSON.stringify(n).replace(/((^")|("$))/g,"").toLocaleLowerCase().trim().includes(s)})))),a=this.getFilteredCandidatedByFilter(i,t);this.setState({filteredCandidatesBySearch:i,filteredCandidatesByFilter:a})}getFilters(){const e=[...this.props.candidates],t=this.getFilterOptions(e);this.setState({filterOptions:t,filteredCandidatesBySearch:e,filteredCandidatesByFilter:this.getFilteredCandidatedByFilter(e,t)})}getFilterOptions(e){const{imageStatus:t}=this.props,n={},s=[...new Set(e.map((e=>e.download.status)))];s.length>1&&(n[ze]=s.map((e=>({id:e,symbol:(0,U.tZ)(A,{status:e}),isChecked:e!==Z.il.NOT_FOUND||t===Z.zu.MISSING}))));const i=[...new Set(e.map((e=>{var t;return null!==(t=e.source_name)&&void 0!==t?t:(0,g.t)("Unknown")})))];return i.length>1&&(n[Ie]=i.map((e=>({id:e,symbol:e,isChecked:!1})))),n}getFilteredCandidatedByFilter(e,t){var n,s;const i=new Set(null===(n=t[ze])||void 0===n?void 0:n.filter((e=>e.isChecked)).map((e=>e.id))),a=new Set(null===(s=t[Ie])||void 0===s?void 0:s.filter((e=>e.isChecked)).map((e=>e.id)));if(0===i.size&&0===a.size)return e;if(i.size>0){const t=e.filter((e=>i.has(e.download.status)));return 0===a.size?t:t.filter((e=>{var t;return a.has(null!==(t=null==e?void 0:e.source_name)&&void 0!==t?t:"")}))}return e.filter((e=>{var t;return a.has(null!==(t=null==e?void 0:e.source_name)&&void 0!==t?t:"")}))}getEmptyMessage(){const{searchTerm:e,filteredCandidatesByFilter:t,filterOptions:n}=this.state;if(t.length)return{};const s=Object.values(n).flatMap((e=>e)).find((e=>e.isChecked));return e||s?{emptyMessage:(0,g.t)("Sorry, no debug files match your search query"),emptyAction:s?(0,U.tZ)(m.ZP,{onClick:this.handleResetFilter,priority:"primary",children:(0,g.t)("Reset filter")}):(0,U.tZ)(m.ZP,{onClick:this.handleResetSearchBar,priority:"primary",children:(0,g.t)("Clear search bar")})}:{emptyMessage:(0,g.t)("There are no debug files to be displayed")}}render(){const{organization:e,projSlug:t,baseUrl:n,onDelete:s,isLoading:i,candidates:a,eventDateReceived:o,hasReprocessWarning:r}=this.props,{searchTerm:l,filterOptions:d,filteredCandidatesByFilter:c}=this.state,u=a.some((e=>e.download.status===Z.il.OK&&e.source===L||e.download.status===Z.il.DELETED))||r;return(0,U.BX)(Le,{children:[(0,U.BX)(Pe,{children:[(0,U.BX)(Me,{children:[(0,g.t)("Debug File Candidates"),(0,U.tZ)(F.Z,{title:(0,g._N)("These are the Debug Information Files (DIFs) corresponding to this image which have been looked up on [docLink:symbol servers] during the processing of the stacktrace.",{docLink:(0,U.tZ)(C.Z,{href:"https://docs.sentry.io/platforms/native/data-management/debug-files/symbol-servers/"})}),size:"xs",position:"top",isHoverable:!0})]}),!!a.length&&(0,U.tZ)(We,{query:l,onChange:e=>this.handleChangeSearchTerm(e),placeholder:(0,g.t)("Search debug file candidates"),filter:(0,U.tZ)(j.Z,{options:d,onChange:this.handleChangeFilter})})]}),(0,U.tZ)(Xe,{headers:u?[(0,g.t)("Status"),(0,g.t)("Information"),""]:[(0,g.t)("Status"),(0,g.t)("Information")],isEmpty:!c.length,isLoading:i,...this.getEmptyMessage(),children:c.map(((i,a)=>(0,U.tZ)(Ne,{candidate:i,organization:e,baseUrl:n,projSlug:t,eventDateReceived:o,hasReprocessWarning:r,haveCandidatesAtLeastOneAction:u,onDelete:s},a)))})]})}}Ue.displayName="Candidates";const Ae=Ue,Le=(0,i.Z)("div",{target:"eex5oi54"})({name:"vetbs0",styles:"display:grid"}),Pe=(0,i.Z)("div",{target:"eex5oi53"})("display:flex;flex-direction:column;@media (min-width: ",(e=>e.theme.breakpoints[0]),"){flex-wrap:wrap;flex-direction:row;}"),Me=(0,i.Z)("div",{target:"eex5oi52"})("padding-right:",(0,f.Z)(4),";display:grid;gap:",(0,f.Z)(.5),";grid-template-columns:repeat(2, max-content);align-items:center;font-weight:600;color:",(e=>e.theme.gray400),";height:32px;flex:1;@media (min-width: ",(e=>e.theme.breakpoints[0]),"){margin-bottom:",(0,f.Z)(1),";}"),Xe=(0,i.Z)(B.Z,{target:"eex5oi51"})("grid-template-columns:",(e=>3===e.headers.length?"max-content 1fr max-content":"max-content 1fr"),";height:100%;@media (min-width: ",(e=>e.theme.breakpoints[4]),"){overflow:visible;}"),We=(0,i.Z)(O.Z,{target:"eex5oi50"})("margin-bottom:",(0,f.Z)(1.5),";");var qe=n("./app/components/notAvailable.tsx"),Ke=n("./app/components/events/interfaces/debugMeta-v2/debugImage/processings.tsx");function Ge({image:e}){const{debug_id:t,debug_file:n,code_id:s,code_file:i,arch:a,unwind_status:o,debug_status:r}=null!=e?e:{},l=e?(0,x.a$)(e):void 0;return(0,U.BX)(Ye,{children:[(0,U.tZ)($e,{coloredBg:!0,children:(0,g.t)("Address Range")}),(0,U.tZ)(He,{coloredBg:!0,children:null!=l?l:(0,U.tZ)(qe.Z,{})}),(0,U.tZ)($e,{children:(0,g.t)("Debug ID")}),(0,U.tZ)(He,{children:null!=t?t:(0,U.tZ)(qe.Z,{})}),(0,U.tZ)($e,{coloredBg:!0,children:(0,g.t)("Debug File")}),(0,U.tZ)(He,{coloredBg:!0,children:null!=n?n:(0,U.tZ)(qe.Z,{})}),(0,U.tZ)($e,{children:(0,g.t)("Code ID")}),(0,U.tZ)(He,{children:null!=s?s:(0,U.tZ)(qe.Z,{})}),(0,U.tZ)($e,{coloredBg:!0,children:(0,g.t)("Code File")}),(0,U.tZ)(He,{coloredBg:!0,children:null!=i?i:(0,U.tZ)(qe.Z,{})}),(0,U.tZ)($e,{children:(0,g.t)("Architecture")}),(0,U.tZ)(He,{children:null!=a?a:(0,U.tZ)(qe.Z,{})}),(0,U.tZ)($e,{coloredBg:!0,children:(0,g.t)("Processing")}),(0,U.tZ)(He,{coloredBg:!0,children:o||r?(0,U.tZ)(Ke.Z,{unwind_status:o,debug_status:r}):(0,U.tZ)(qe.Z,{})})]})}Ge.displayName="GeneralInfo";const Je=Ge,Ye=(0,i.Z)("div",{target:"eqrtww2"})({name:"24qvpm",styles:"display:grid;grid-template-columns:max-content 1fr"}),$e=(0,i.Z)("div",{target:"eqrtww1"})("color:",(e=>e.theme.textColor),";padding:",(0,f.Z)(1)," ",(0,f.Z)(1.5)," ",(0,f.Z)(1)," ",(0,f.Z)(1),";",(e=>e.coloredBg&&"background-color: ".concat(e.theme.backgroundSecondary,";")),";"),He=(0,i.Z)($e,{target:"eqrtww0"})("white-space:pre-wrap;word-break:break-all;color:",(e=>e.theme.subText),";padding:",(0,f.Z)(1),";font-family:",(e=>e.theme.text.familyMono),";",(e=>e.coloredBg&&"background-color: ".concat(e.theme.backgroundSecondary,";")),";");var Ve,Qe=n("./app/components/alert.tsx"),et=n("./app/components/alertLink.tsx");function tt({onReprocessEvent:e,api:t,orgSlug:n,projSlug:s,eventId:i}){const[o,r]=(0,a.useState)();if((0,a.useEffect)((()=>{!async function(){try{const e=await t.requestPromise("/projects/".concat(n,"/").concat(s,"/events/").concat(i,"/reprocessable/"));r(e)}catch{}}()}),[]),!o)return null;const{reprocessable:l,reason:d}=o;return l?(0,U.tZ)(et.Z,{priority:"warning",size:"small",onClick:e,withoutMarginBottom:!0,children:(0,g.t)("You’ve uploaded new debug files. Reprocess events in this issue to view a better stack trace")}):(0,U.tZ)(st,{type:"info",children:function(){switch(d){case Ve.EVENT_NOT_FOUND:return(0,g.t)("This event cannot be reprocessed because the event has not been found");case Ve.ATTACHMENT_NOT_FOUND:return(0,g.t)("This event cannot be reprocessed because a required attachment is missing");case Ve.UNPROCESSED_EVENT_NOT_FOUND:default:return(0,g.t)("This event cannot be reprocessed")}}()})}!function(e){e.UNPROCESSED_EVENT_NOT_FOUND="unprocessed_event.not_found",e.EVENT_NOT_FOUND="event.not_found",e.ATTACHMENT_NOT_FOUND="attachment.not_found"}(Ve||(Ve={})),tt.displayName="ReprocessAlert";const nt=tt,st=(0,i.Z)(Qe.Z,{target:"ednr7s70"})({name:"1ykowef",styles:"margin-bottom:0"});class it extends p.Z{constructor(...e){super(...e),(0,s.Z)(this,"handleDelete",(async e=>{const{organization:t,projSlug:n}=this.props;this.setState({loading:!0});try{await this.api.requestPromise("/projects/".concat(t.slug,"/").concat(n,"/files/dsyms/?id=").concat(e),{method:"DELETE"}),this.fetchData()}catch{(0,u.Iw)((0,g.t)("An error occurred while deleting the debug file.")),this.setState({loading:!1})}}))}getDefaultState(){return{...super.getDefaultState(),debugFiles:[]}}componentDidUpdate(e,t){!e.image&&this.props.image&&this.remountComponent(),super.componentDidUpdate(e,t)}getUplodedDebugFiles(e){return e.find((e=>e.source===L))}getEndpoints(){const{organization:e,projSlug:t,image:n}=this.props;if(!n)return[];const{debug_id:s,candidates:i=[]}=n,a=[];return this.getUplodedDebugFiles(i)&&a.push(["debugFiles","/projects/".concat(e.slug,"/").concat(t,"/files/dsyms/?debug_id=").concat(s),{query:{file_formats:["breakpad","macho","elf","pe","pdb","sourcebundle"]}}]),a}sortCandidates(e,t){const[n,s]=l()(e,(e=>e.download.status===Z.il.NO_PERMISSION)),[i,a]=l()(s,(e=>e.download.status===Z.il.MALFORMED)),[o,r]=l()(a,(e=>e.download.status===Z.il.ERROR)),[d,u]=l()(r,(e=>e.download.status===Z.il.OK)),[p,m]=l()(u,(e=>e.download.status===Z.il.DELETED));return[...c()(n,["source_name","location"]),...c()(i,["source_name","location"]),...c()(o,["source_name","location"]),...c()(d,["source_name","location"]),...c()(p,["source_name","location"]),...c()(t,["source_name","location"]),...c()(m,["source_name","location"])]}getCandidates(){const{debugFiles:e,loading:t}=this.state,{image:n}=this.props,{candidates:s=[]}=null!=n?n:{};if(!e||t)return s;const i=s.map((({location:e,...t})=>({...t,location:null!=e&&e.includes(P)?e.split(P)[1]:e}))),a=new Set(i.map((({location:e})=>e)).filter((e=>!!e))),[o,r]=l()(e,(e=>!a.has(e.id))),d=o.map((e=>{var t;const{data:n,symbolType:s,objectName:i,id:a,size:o,dateCreated:r,cpuName:l}=e,d=null!==(t=null==n?void 0:n.features)&&void 0!==t?t:[];return{download:{status:Z.il.UNAPPLIED,features:{has_sources:d.includes(b.Wi.SOURCES),has_debug_info:d.includes(b.Wi.DEBUG),has_unwind_info:d.includes(b.Wi.UNWIND),has_symbols:d.includes(b.Wi.SYMTAB)}},cpuName:l,location:a,filename:i,size:o,dateCreated:r,symbolType:s,fileType:(0,w.J)(e),source:L,source_name:(0,g.t)("Sentry")}})),[c,u]=l()(i,(e=>e.download.status===Z.il.OK&&e.source===L)),p=c.map((e=>{const t=r.find((t=>t.id===e.location));if(!t)return{...e,download:{...e.download,status:Z.il.DELETED}};const{symbolType:n,objectName:s,id:i,size:a,dateCreated:o,cpuName:l}=t;return{...e,cpuName:l,location:i,filename:s,size:a,dateCreated:o,symbolType:n,fileType:(0,w.J)(t)}}));return this.sortCandidates([...p,...u],d)}getDebugFilesSettingsLink(){const{organization:e,projSlug:t,image:n}=this.props,s=e.slug,i=null==n?void 0:n.debug_id;if(s&&t&&i)return"/settings/".concat(s,"/projects/").concat(t,"/debug-symbols/?query=").concat(i)}renderBody(){const{Header:e,Body:t,Footer:n,image:s,organization:i,projSlug:o,event:r,onReprocessEvent:l}=this.props,{loading:d}=this.state,{code_file:c,status:u}=null!=s?s:{},p=this.getDebugFilesSettingsLink(),h=this.getCandidates(),f=this.api.baseUrl,b=(0,x.UO)(c),v=h.some((e=>e.download.status===Z.il.UNAPPLIED))&&(0,y.B)(i.features,r)&&!!l;return(0,U.BX)(a.Fragment,{children:[(0,U.tZ)(e,{closeButton:!0,children:(0,U.BX)(rt,{children:[(0,g.t)("Image"),(0,U.tZ)(lt,{children:null!=b?b:(0,g.t)("Unknown")})]})}),(0,U.tZ)(t,{children:(0,U.BX)(ot,{children:[(0,U.tZ)(Je,{image:s}),v&&(0,U.tZ)(nt,{api:this.api,orgSlug:i.slug,projSlug:o,eventId:r.id,onReprocessEvent:l}),(0,U.tZ)(Ae,{imageStatus:u,candidates:h,organization:i,projSlug:o,baseUrl:f,isLoading:d,eventDateReceived:r.dateReceived,onDelete:this.handleDelete,hasReprocessWarning:v})]})}),(0,U.tZ)(n,{children:(0,U.BX)(dt,{gap:1,children:[(0,U.tZ)(m.ZP,{href:"https://docs.sentry.io/platforms/native/data-management/debug-files/",external:!0,children:(0,g.t)("Read the docs")}),p&&(0,U.tZ)(m.ZP,{title:(0,g.t)("Search for this debug file in all images for the %s project",o),to:p,children:(0,g.t)("Open in Settings")})]})})]})}}const at=it,ot=(0,i.Z)("div",{target:"ez3htky3"})("display:grid;gap:",(0,f.Z)(3),";font-size:",(e=>e.theme.fontSizeMedium),";"),rt=(0,i.Z)("div",{target:"ez3htky2"})("display:grid;grid-template-columns:max-content 1fr;gap:",(0,f.Z)(1),";align-items:center;font-size:",(e=>e.theme.fontSizeExtraLarge),";max-width:calc(100% - 40px);word-break:break-all;"),lt=(0,i.Z)("span",{target:"ez3htky1"})("font-family:",(e=>e.theme.text.familyMono),";"),dt=(0,i.Z)(h.ZP,{target:"ez3htky0"})({name:"1bmnxg7",styles:"white-space:nowrap"}),ct=(0,o.iv)("[role='document']{overflow:initial;}@media (min-width: ",v.ZP.breakpoints[0],"){width:90%;}@media (min-width: ",v.ZP.breakpoints[3],"){width:70%;}@media (min-width: ",v.ZP.breakpoints[4],"){width:50%;}","")},"./app/types/debugFiles.tsx":(e,t,n)=>{let s,i,a;n.d(t,{BQ:()=>s,Wi:()=>i,Et:()=>a}),function(e){e.EXE="exe",e.DBG="dbg",e.LIB="lib"}(s||(s={})),function(e){e.SYMTAB="symtab",e.DEBUG="debug",e.UNWIND="unwind",e.SOURCES="sources"}(i||(i={})),function(e){e.HTTP="http",e.S3="s3",e.GCS="gcs",e.APP_STORE_CONNECT="appStoreConnect"}(a||(a={}))},"./app/utils/displayReprocessEventAction.tsx":(e,t,n)=>{n.d(t,{B:()=>o}),n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),n("../node_modules/core-js/modules/es.array.unscopables.flat-map.js");var s=n("./app/types/index.tsx");const i=["cocoa","native"];function a(e){var t,n,s;const i=null!==(t=null==e?void 0:e.frames)&&void 0!==t?t:[],a=null!==(n=null==e||null===(s=e.stacktrace)||void 0===s?void 0:s.frames)&&void 0!==n?n:[];return i.length||a.length?[...i,...a].map((e=>e.platform)).filter((e=>!!e)):[]}function o(e,t){if(!t||!e.includes("reprocessing-v2"))return!1;const{entries:n}=t,o=n.find((e=>e.type===s.UZ.EXCEPTION));return!!o&&!!(function(e){var t;const{data:n}=e;return(null!==(t=n.values)&&void 0!==t?t:[]).some((e=>{var t;return"minidump"===(null===(t=e.mechanism)||void 0===t?void 0:t.type)}))}(o)||function(e){var t;const{data:n}=e;return(null!==(t=n.values)&&void 0!==t?t:[]).some((e=>{var t;return"applecrashreport"===(null===(t=e.mechanism)||void 0===t?void 0:t.type)}))}(o)||function(e,t){const{platform:n}=e;if(n&&i.includes(n))return!0;const o=function(e,t){var n,i,o,r,l;const d=(null!==(n=t.data.values)&&void 0!==n?n:[]).flatMap(a),c=null!==(i=null===(o=e.entries.find((e=>e.type===s.UZ.STACKTRACE)))||void 0===o?void 0:o.data)&&void 0!==i?i:{},u=Object.keys(c).flatMap((e=>a(c[e]))),p=(null!==(r=null===(l=e.entries.find((e=>e.type===s.UZ.THREADS)))||void 0===l?void 0:l.data.values)&&void 0!==r?r:[]).flatMap((({stacktrace:e})=>a(e)));return new Set([...d,...u,...p])}(e,t);return i.some((e=>o.has(e)))}(t,o))}},"./app/views/settings/projectDebugFiles/utils.tsx":(e,t,n)=>{n.d(t,{J:()=>a,V:()=>o});var s=n("./app/locale.tsx"),i=n("./app/types/debugFiles.tsx");function a(e){var t;switch(null===(t=e.data)||void 0===t?void 0:t.type){case i.BQ.EXE:return(0,s.t)("executable");case i.BQ.DBG:return(0,s.t)("debug companion");case i.BQ.LIB:return(0,s.t)("dynamic library");default:return null}}function o(e){switch(e){case i.Wi.SYMTAB:return(0,s.t)("Symbol tables are used as a fallback when full debug information is not available");case i.Wi.DEBUG:return(0,s.t)("Debug information provides function names and resolves inlined frames during symbolication");case i.Wi.UNWIND:return(0,s.t)("Stack unwinding information improves the quality of stack traces extracted from minidumps");case i.Wi.SOURCES:return(0,s.t)("Source code information allows Sentry to display source code context for stack frames");default:return null}}}}]);
//# sourceMappingURL=../sourcemaps/app_components_events_interfaces_debugMeta-v2_debugImageDetails_index_tsx.3ea26afe48c8327b244dd7be74371851.js.map