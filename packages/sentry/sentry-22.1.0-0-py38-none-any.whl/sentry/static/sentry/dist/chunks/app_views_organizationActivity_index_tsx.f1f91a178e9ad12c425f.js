"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["app_views_organizationActivity_index_tsx"],{"./app/components/activity/item/avatar.tsx":(e,t,s)=>{s.d(t,{Z:()=>c});var n=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),i=s("./app/components/avatar/userAvatar.tsx"),r=s("./app/components/placeholder.tsx"),o=s("./app/icons/index.tsx"),a=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function d({className:e,type:t,user:s,size:n=38}){return s?(0,a.tZ)(i.Z,{user:s,size:n,className:e}):"system"===t?(0,a.tZ)(l,{className:e,size:n,children:(0,a.tZ)(u,{size:"md"})}):(0,a.tZ)(r.Z,{className:e,width:"".concat(n,"px"),height:"".concat(n,"px"),shape:"circle"})}d.displayName="ActivityAvatar";const c=d,l=(0,n.Z)("span",{target:"ety7k0b1"})("display:flex;justify-content:center;align-items:center;width:",(e=>e.size),"px;height:",(e=>e.size),"px;background-color:",(e=>e.theme.textColor),";color:",(e=>e.theme.background),";border-radius:50%;"),u=(0,n.Z)(o.iW,{target:"ety7k0b0"})({name:"1p2ly5v",styles:"padding-bottom:3px"})},"./app/components/commitLink.tsx":(e,t,s)=>{s.d(t,{Z:()=>l}),s("../node_modules/react/index.js");var n=s("./app/components/button.tsx"),i=s("./app/components/links/externalLink.tsx"),r=s("./app/icons/index.tsx"),o=s("./app/locale.tsx"),a=s("./app/utils.tsx"),d=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const c=[{icon:(0,d.tZ)(r.Uv,{size:"xs"}),providerIds:["github","integrations:github","integrations:github_enterprise"],commitUrl:({baseUrl:e,commitId:t})=>"".concat(e,"/commit/").concat(t)},{icon:(0,d.tZ)(r.Ub,{size:"xs"}),providerIds:["bitbucket","integrations:bitbucket"],commitUrl:({baseUrl:e,commitId:t})=>"".concat(e,"/commits/").concat(t)},{icon:(0,d.tZ)(r.mT,{size:"xs"}),providerIds:["visualstudio","integrations:vsts"],commitUrl:({baseUrl:e,commitId:t})=>"".concat(e,"/commit/").concat(t)},{icon:(0,d.tZ)(r.Et,{size:"xs"}),providerIds:["gitlab","integrations:gitlab"],commitUrl:({baseUrl:e,commitId:t})=>"".concat(e,"/commit/").concat(t)}],l=function({inline:e,commitId:t,repository:s}){if(!t||!s)return(0,d.tZ)("span",{children:(0,o.t)("Unknown Commit")});const r=(0,a.e4)(t),l=c.find((e=>!!s.provider&&e.providerIds.includes(s.provider.id)));if(void 0===l)return(0,d.tZ)("span",{children:r});const u=s.url&&l.commitUrl({commitId:t,baseUrl:s.url});return e?(0,d.BX)(i.Z,{className:"inline-commit",href:u,children:[l.icon," "+r]}):(0,d.tZ)(n.ZP,{external:!0,href:u,size:"small",icon:l.icon,children:r})}},"./app/components/events/errorLevel.tsx":(e,t,s)=>{s.d(t,{Z:()=>r});var n=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js");const i="13px",r=(0,n.Z)("span",{target:"e145dcfe0"})("padding:0;position:relative;width:",(e=>e.size||i),";height:",(e=>e.size||i),";text-indent:-9999em;display:inline-block;border-radius:50%;flex-shrink:0;background-color:",(e=>e.level?e.theme.level[e.level]:e.theme.level.error),";")},"./app/components/events/eventMessage.tsx":(e,t,s)=>{s.d(t,{Z:()=>p});var n=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),i=(s("../node_modules/react/index.js"),s("./app/components/events/errorLevel.tsx")),r=s("./app/styles/overflowEllipsis.tsx"),o=s("./app/styles/space.tsx"),a=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const d=({className:e,level:t,levelIndicatorSize:s,message:n,annotations:i})=>(0,a.BX)("div",{className:e,children:[t&&(0,a.tZ)(l,{size:s,level:t,children:t}),n&&(0,a.tZ)(u,{children:n}),i]});d.displayName="BaseEventMessage";const c=(0,n.Z)(d,{target:"e1rp796r2"})({name:"1go2o7p",styles:"display:flex;align-items:center;position:relative;line-height:1.2;overflow:hidden"}),l=(0,n.Z)(i.Z,{target:"e1rp796r1"})("margin-right:",(0,o.Z)(1),";"),u=(0,n.Z)("span",{target:"e1rp796r0"})(r.Z," width:auto;max-height:38px;"),p=c},"./app/components/pullRequestLink.tsx":(e,t,s)=>{s.d(t,{Z:()=>a});var n=s("./app/components/links/externalLink.tsx"),i=s("./app/icons/index.tsx"),r=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function o(e){if(!e.provider)return null;const{id:t}=e.provider;switch(t.includes(":")?t.split(":").pop():t){case"github":return(0,r.tZ)(i.Uv,{size:"xs"});case"gitlab":return(0,r.tZ)(i.Et,{size:"xs"});case"bitbucket":return(0,r.tZ)(i.Ub,{size:"xs"});default:return null}}const a=({pullRequest:e,repository:t,inline:s})=>{const i="".concat(t.name," #").concat(e.id,": ").concat(e.title);return e.externalUrl?(0,r.BX)(n.Z,{className:s?"inline-commit":"btn btn-default btn-sm",href:e.externalUrl,children:[o(t),s?"":" ",i]}):(0,r.tZ)("span",{children:i})}},"./app/utils/routeTitle.tsx":(e,t,s)=>{s.d(t,{Z:()=>n});const n=function(e,t,s=!0,n){const i="".concat(e," - ").concat(t),r=n?"".concat(i," - ").concat(n):i;return s?"".concat(r," - Sentry"):r}},"./app/views/asyncView.tsx":(e,t,s)=>{s.d(t,{Z:()=>o}),s("../node_modules/react/index.js");var n=s("./app/components/asyncComponent.tsx"),i=s("./app/components/sentryDocumentTitle.tsx"),r=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class o extends n.Z{getTitle(){return""}render(){return(0,r.tZ)(i.Z,{title:this.getTitle(),children:this.renderComponent()})}}o.displayName="AsyncView"},"./app/views/organizationActivity/index.tsx":(e,t,s)=>{s.r(t),s.d(t,{default:()=>ne});var n=s("../node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),i=s("../node_modules/react/index.js"),r=s("./app/components/emptyStateWarning.tsx"),o=s("./app/components/errorBoundary.tsx"),a=s("./app/components/loadingIndicator.tsx"),d=s("./app/components/pageHeading.tsx"),c=s("./app/components/pagination.tsx"),l=s("./app/components/panels/index.tsx"),u=s("./app/locale.tsx"),p=s("./app/styles/organization.tsx"),m=s("./app/styles/space.tsx"),h=s("./app/utils/routeTitle.tsx"),g=s("./app/utils/withOrganization.tsx"),v=s("./app/views/asyncView.tsx"),Z=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),x=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),y=(s("../node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./app/components/activity/item/avatar.tsx")),b=s("./app/components/commitLink.tsx"),_=s("./app/components/duration.tsx"),f=s("../node_modules/classnames/index.js"),k=s.n(f),w=s("./app/components/count.tsx"),N=s("./app/components/eventOrGroupTitle.tsx"),z=s("./app/components/events/eventAnnotation.tsx"),j=s("./app/components/events/eventMessage.tsx"),B=s("./app/components/hovercard.tsx"),I=s("./app/components/links/link.tsx"),U=s("./app/components/timeSince.tsx"),S=s("./app/styles/overflowEllipsis.tsx"),C=s("./app/utils/events.tsx"),L=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const q=({children:e,orgId:t,issue:s,to:n,card:r=!0})=>{if(!r)return(0,L.tZ)(I.Z,{to:n,children:e});const o=(0,C.FC)(s),a=k()({isBookmarked:s.isBookmarked,hasSeen:s.hasSeen,isResolved:"resolved"===s.status}),d="/organizations/".concat(t,"/issues/"),c=(0,L.BX)("div",{className:a,children:[(0,L.BX)(A,{children:[(0,L.tZ)(R,{children:(0,L.tZ)(N.Z,{data:s})}),(0,L.tZ)(T,{level:s.level,levelIndicatorSize:"9px",message:o,annotations:(0,L.BX)(i.Fragment,{children:[s.logger&&(0,L.tZ)(z.Z,{children:(0,L.tZ)(I.Z,{to:{pathname:d,query:{query:"logger:".concat(s.logger)}},children:s.logger})}),s.annotations.map(((e,t)=>(0,L.tZ)(z.Z,{dangerouslySetInnerHTML:{__html:e}},t)))]})})]}),(0,L.BX)(E,{children:[(0,L.BX)("div",{children:[(0,L.tZ)(M,{children:(0,u.t)("First Seen")}),(0,L.tZ)(H,{date:s.firstSeen})]}),(0,L.BX)("div",{children:[(0,L.tZ)(M,{children:(0,u.t)("Last Seen")}),(0,L.tZ)(H,{date:s.lastSeen})]}),(0,L.BX)("div",{children:[(0,L.tZ)(M,{children:(0,u.t)("Occurrences")}),(0,L.tZ)(w.Z,{value:s.count})]}),(0,L.BX)("div",{children:[(0,L.tZ)(M,{children:(0,u.t)("Users Affected")}),(0,L.tZ)(w.Z,{value:s.userCount})]})]})]});return(0,L.tZ)(B.ZP,{body:c,header:s.shortId,children:(0,L.tZ)(I.Z,{to:n,children:e})})};q.displayName="IssueLink";const X=q,R=(0,x.Z)("h3",{target:"e12d9cgd5"})("font-size:",(e=>e.theme.fontSizeMedium),";margin:0 0 ",(0,m.Z)(.5),";",S.Z,";em{font-style:normal;font-weight:400;color:",(e=>e.theme.gray300),";font-size:90%;}"),A=(0,x.Z)("section",{target:"e12d9cgd4"})("margin-bottom:",(0,m.Z)(2),";"),E=(0,x.Z)("div",{target:"e12d9cgd3"})("display:grid;grid-template-columns:1fr 1fr;gap:",(0,m.Z)(2),";"),T=(0,x.Z)(j.Z,{target:"e12d9cgd2"})({name:"rnnx2x",styles:"font-size:12px"}),M=(0,x.Z)("h5",{target:"e12d9cgd1"})("color:",(e=>e.theme.gray300),";font-size:11px;margin-bottom:",(0,m.Z)(.5),";text-transform:uppercase;"),H=(0,x.Z)(U.Z,{target:"e12d9cgd0"})({name:"opde7s",styles:"color:inherit"});var $=s("./app/components/links/externalLink.tsx"),P=s("./app/components/pullRequestLink.tsx"),V=s("./app/components/version.tsx"),W=s("./app/components/versionHoverCard.tsx"),D=s("./app/stores/memberListStore.tsx"),O=s("./app/stores/teamStore.tsx"),F=s("./app/utils/marked.tsx");class G extends i.Component{constructor(...e){super(...e),(0,Z.Z)(this,"state",{clipped:this.props.defaultClipped}),(0,Z.Z)(this,"activityBubbleRef",(0,i.createRef)()),(0,Z.Z)(this,"formatProjectActivity",((e,t)=>{const s=t.data,{organization:n}=this.props,i=n.slug,r=t.issue,o="/organizations/".concat(i,"/issues/"),a=r?(0,L.tZ)(X,{orgId:i,issue:r,to:"".concat(o).concat(r.id,"/"),card:!0,children:r.shortId}):null,d=this.renderVersionLink(s.version,t);switch(t.type){case"note":return(0,u._N)("[author] commented on [issue]",{author:e,issue:(0,L.tZ)(X,{card:!0,orgId:i,issue:r,to:"".concat(o).concat(r.id,"/activity/#event_").concat(t.id),children:r.shortId})});case"set_resolved":return(0,u._N)("[author] marked [issue] as resolved",{author:e,issue:a});case"set_resolved_by_age":return(0,u._N)("[author] marked [issue] as resolved due to age",{author:e,issue:a});case"set_resolved_in_release":const{current_release_version:n,version:c}=t.data;return n?(0,u._N)("[author] marked [issue] as resolved in releases greater than [version]",{author:e,version:this.renderVersionLink(n,t),issue:a}):c?(0,u._N)("[author] marked [issue] as resolved in [version]",{author:e,version:d,issue:a}):(0,u._N)("[author] marked [issue] as resolved in the upcoming release",{author:e,issue:a});case"set_resolved_in_commit":return(0,u._N)("[author] marked [issue] as resolved in [version]",{author:e,version:(0,L.tZ)(b.Z,{inline:!0,commitId:s.commit&&s.commit.id,repository:s.commit&&s.commit.repository}),issue:a});case"set_resolved_in_pull_request":return(0,u._N)("[author] marked [issue] as resolved in [version]",{author:e,version:(0,L.tZ)(P.Z,{inline:!0,pullRequest:s.pullRequest,repository:s.pullRequest&&s.pullRequest.repository}),issue:a});case"set_unresolved":return(0,u._N)("[author] marked [issue] as unresolved",{author:e,issue:a});case"set_ignored":return s.ignoreDuration?(0,u._N)("[author] ignored [issue] for [duration]",{author:e,duration:(0,L.tZ)(_.Z,{seconds:60*s.ignoreDuration}),issue:a}):s.ignoreCount&&s.ignoreWindow?(0,u._N)("[author] ignored [issue] until it happens [count] time(s) in [duration]",{author:e,count:s.ignoreCount,duration:(0,L.tZ)(_.Z,{seconds:60*s.ignoreWindow}),issue:a}):s.ignoreCount?(0,u._N)("[author] ignored [issue] until it happens [count] time(s)",{author:e,count:s.ignoreCount,issue:a}):s.ignoreUserCount&&s.ignoreUserWindow?(0,u._N)("[author] ignored [issue] until it affects [count] user(s) in [duration]",{author:e,count:s.ignoreUserCount,duration:(0,L.tZ)(_.Z,{seconds:60*s.ignoreUserWindow}),issue:a}):s.ignoreUserCount?(0,u._N)("[author] ignored [issue] until it affects [count] user(s)",{author:e,count:s.ignoreUserCount,issue:a}):(0,u._N)("[author] ignored [issue]",{author:e,issue:a});case"set_public":return(0,u._N)("[author] made [issue] public",{author:e,issue:a});case"set_private":return(0,u._N)("[author] made [issue] private",{author:e,issue:a});case"set_regression":return s.version?(0,u._N)("[author] marked [issue] as a regression in [version]",{author:e,version:d,issue:a}):(0,u._N)("[author] marked [issue] as a regression",{author:e,issue:a});case"create_issue":return(0,u._N)("[author] linked [issue] on [provider]",{author:e,provider:s.provider,issue:a});case"unmerge_destination":return(0,u.tn)("%2$s migrated %1$s fingerprint from %3$s to %4$s","%2$s migrated %1$s fingerprints from %3$s to %4$s",s.fingerprints.length,e,s.source?(0,L.tZ)("a",{href:"".concat(o).concat(s.source.id),children:s.source.shortId}):(0,u.t)("a group"),a);case"first_seen":return(0,u._N)("[author] saw [link:issue]",{author:e,issue:a});case"assigned":let l;if("team"===s.assigneeType){const t=O.Z.getById(s.assignee);return l=t?t.slug:"<unknown-team>",(0,u._N)("[author] assigned [issue] to #[assignee]",{author:e,issue:a,assignee:l})}return t.user&&s.assignee===t.user.id?(0,u._N)("[author] assigned [issue] to themselves",{author:e,issue:a}):(l=D.Z.getById(s.assignee),l&&l.email?(0,u._N)("[author] assigned [issue] to [assignee]",{author:e,assignee:(0,L.tZ)("span",{title:l.email,children:l.name}),issue:a}):s.assigneeEmail?(0,u._N)("[author] assigned [issue] to [assignee]",{author:e,assignee:s.assigneeEmail,issue:a}):(0,u._N)("[author] assigned [issue] to an [help:unknown user]",{author:e,help:(0,L.tZ)("span",{title:s.assignee}),issue:a}));case"unassigned":return(0,u._N)("[author] unassigned [issue]",{author:e,issue:a});case"merge":return(0,u._N)("[author] merged [count] [link:issues]",{author:e,count:s.issues.length+1,link:(0,L.tZ)(I.Z,{to:"".concat(o).concat(r.id,"/")})});case"release":return(0,u._N)("[author] released version [version]",{author:e,version:d});case"deploy":return(0,u._N)("[author] deployed version [version] to [environment].",{author:e,version:d,environment:s.environment||"Default Environment"});case"mark_reviewed":return(0,u._N)("[author] marked [issue] as reviewed",{author:e,issue:a});default:return""}}))}componentDidMount(){this.activityBubbleRef.current&&this.activityBubbleRef.current.offsetHeight>this.props.clipHeight&&this.setState({clipped:!0})}renderVersionLink(e,t){const{organization:s}=this.props,{project:n}=t;return e?(0,L.tZ)(W.Z,{organization:s,projectSlug:n.slug,releaseVersion:e,children:(0,L.tZ)(V.Z,{version:e,projectId:n.id})}):null}render(){var e;const{className:t,item:s}=this.props,n=(0,L.tZ)(y.Z,{type:s.user?"user":"system",user:null!==(e=s.user)&&void 0!==e?e:void 0,size:36}),i={name:s.user?s.user.name:"Sentry",avatar:n},r=["note","create_issue"].includes(s.type),o={..."note"===s.type?{dangerouslySetInnerHTML:{__html:(0,F.Z)(s.data.text)}}:{},..."create_issue"===s.type?{children:(0,L.tZ)($.Z,{href:s.data.location,children:s.data.title})}:{}};return(0,L.BX)("div",{className:t,children:[i.avatar,(0,L.BX)("div",{children:[this.formatProjectActivity((0,L.tZ)("span",{children:(0,L.tZ)(K,{children:i.name})}),s),r&&(0,L.tZ)(ee,{ref:this.activityBubbleRef,clipped:this.state.clipped,...o}),(0,L.BX)(Q,{children:[(0,L.tZ)(Y,{children:s.project.slug}),(0,L.tZ)(te,{date:s.dateCreated})]})]})]})}}G.displayName="ActivityItem",(0,Z.Z)(G,"defaultProps",{defaultClipped:!1,clipHeight:68});const J=(0,x.Z)(G,{target:"eha57q15"})("display:grid;gap:",(0,m.Z)(1),";grid-template-columns:max-content auto;position:relative;margin:0;padding:",(0,m.Z)(1),";border-bottom:1px solid ",(e=>e.theme.innerBorder),";line-height:1.4;font-size:",(e=>e.theme.fontSizeMedium),";"),K=(0,x.Z)("span",{target:"eha57q14"})({name:"16ceglb",styles:"font-weight:600"}),Q=(0,x.Z)("div",{target:"eha57q13"})("color:",(e=>e.theme.textColor),";font-size:",(e=>e.theme.fontSizeRelativeSmall),";"),Y=(0,x.Z)("span",{target:"eha57q12"})({name:"1efi8gv",styles:"font-weight:bold"}),ee=(0,x.Z)("div",{target:"eha57q11"})("background:",(e=>e.theme.backgroundSecondary),";margin:",(0,m.Z)(.5)," 0;padding:",(0,m.Z)(1)," ",(0,m.Z)(2),";border:1px solid ",(e=>e.theme.border),";border-radius:3px;box-shadow:0 1px 1px rgba(0, 0, 0, 0.04);position:relative;overflow:hidden;a{max-width:100%;overflow-x:hidden;text-overflow:ellipsis;}p{&:last-child{margin-bottom:0;}}",(e=>e.clipped&&"\n    max-height: 68px;\n\n    &:after {\n      position: absolute;\n      content: '';\n      display: block;\n      bottom: 0;\n      right: 0;\n      left: 0;\n      height: 36px;\n      background-image: linear-gradient(180deg, rgba(255, 255, 255, 0.15), rgba(255, 255, 255, 1));\n      border-bottom: 6px solid #fff;\n      border-radius: 0 0 3px 3px;\n      pointer-events: none;\n    }\n  "),";"),te=(0,x.Z)(U.Z,{target:"eha57q10"})("color:",(e=>e.theme.gray300),";padding-left:",(0,m.Z)(1),";");class se extends v.Z{getTitle(){const{orgId:e}=this.props.params;return(0,h.Z)((0,u.t)("Activity"),e,!1)}getEndpoints(){return[["activity","/organizations/".concat(this.props.params.orgId,"/activity/")]]}renderLoading(){return this.renderBody()}renderEmpty(){return(0,L.tZ)(r.Z,{children:(0,L.tZ)("p",{children:(0,u.t)("Nothing to show here, move along.")})})}renderError(e,t=!1){const{errors:s}=this.state;return Object.values(s).find((e=>e&&404===e.status))?this.renderBody():super.renderError(e,t)}renderBody(){const{loading:e,activity:t,activityPageLinks:s}=this.state;return(0,L.BX)(p.JH,{children:[(0,L.tZ)(d.Z,{withMargins:!0,children:(0,u.t)("Activity")}),(0,L.BX)(l.s_,{children:[e&&(0,L.tZ)(a.Z,{}),!e&&!(null!=t&&t.length)&&this.renderEmpty(),!e&&(null==t?void 0:t.length)>0&&(0,L.tZ)("div",{"data-test-id":"activity-feed-list",children:t.map((e=>(0,L.tZ)(o.Z,{mini:!0,css:(0,n.iv)({marginBottom:(0,m.Z)(1),borderRadius:0},"",""),children:(0,L.tZ)(J,{organization:this.props.organization,item:e})},e.id)))})]}),s&&(0,L.tZ)(c.Z,{pageLinks:s,...this.props})]})}}const ne=(0,g.Z)(se)}}]);
//# sourceMappingURL=../sourcemaps/app_views_organizationActivity_index_tsx.6c1f590789b67999ad397e3de9fbbd9a.js.map