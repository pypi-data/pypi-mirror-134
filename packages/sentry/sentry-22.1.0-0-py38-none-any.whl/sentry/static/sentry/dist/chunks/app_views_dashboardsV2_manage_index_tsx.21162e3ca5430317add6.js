"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["app_views_dashboardsV2_manage_index_tsx"],{"./app/components/activity/item/avatar.tsx":(e,t,a)=>{a.d(t,{Z:()=>l});var r=a("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),s=a("./app/components/avatar/userAvatar.tsx"),i=a("./app/components/placeholder.tsx"),n=a("./app/icons/index.tsx"),o=a("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function d({className:e,type:t,user:a,size:r=38}){return a?(0,o.tZ)(s.Z,{user:a,size:r,className:e}):"system"===t?(0,o.tZ)(p,{className:e,size:r,children:(0,o.tZ)(m,{size:"md"})}):(0,o.tZ)(i.Z,{className:e,width:"".concat(r,"px"),height:"".concat(r,"px"),shape:"circle"})}d.displayName="ActivityAvatar";const l=d,p=(0,r.Z)("span",{target:"ety7k0b1"})("display:flex;justify-content:center;align-items:center;width:",(e=>e.size),"px;height:",(e=>e.size),"px;background-color:",(e=>e.theme.textColor),";color:",(e=>e.theme.background),";border-radius:50%;"),m=(0,r.Z)(n.iW,{target:"ety7k0b0"})({name:"1p2ly5v",styles:"padding-bottom:3px"})},"./app/views/asyncView.tsx":(e,t,a)=>{a.d(t,{Z:()=>n}),a("../node_modules/react/index.js");var r=a("./app/components/asyncComponent.tsx"),s=a("./app/components/sentryDocumentTitle.tsx"),i=a("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class n extends r.Z{getTitle(){return""}render(){return(0,i.tZ)(s.Z,{title:this.getTitle(),children:this.renderComponent()})}}n.displayName="AsyncView"},"./app/views/dashboardsV2/data.tsx":(e,t,a)=>{a.d(t,{R7:()=>n,CS:()=>o,L3:()=>d,GY:()=>l});var r=a("./app/locale.tsx"),s=a("./app/utils/guid.tsx"),i=a("./app/views/dashboardsV2/types.tsx");const n={id:"",dateCreated:"",createdBy:void 0,title:(0,r.t)("Untitled dashboard"),widgets:[]},o=[{id:"default-template",dateCreated:"",createdBy:void 0,title:(0,r.t)("Default"),widgets:[{title:(0,r.t)("Number of Errors"),displayType:i.FO.BIG_NUMBER,interval:"5m",queries:[{name:"",conditions:"!event.type:transaction",fields:["count()"],orderby:"count()"}],tempId:(0,s.E)()},{title:(0,r.t)("Number of Issues"),displayType:i.FO.BIG_NUMBER,interval:"5m",queries:[{name:"",conditions:"!event.type:transaction",fields:["count_unique(issue)"],orderby:"count_unique(issue)"}],tempId:(0,s.E)()},{title:(0,r.t)("Events"),displayType:i.FO.LINE,interval:"5m",queries:[{name:(0,r.t)("Events"),conditions:"!event.type:transaction",fields:["count()"],orderby:"count()"}],tempId:(0,s.E)()},{title:(0,r.t)("Affected Users"),displayType:i.FO.LINE,interval:"5m",queries:[{name:(0,r.t)("Known Users"),conditions:"has:user.email !event.type:transaction",fields:["count_unique(user)"],orderby:"count_unique(user)"},{name:(0,r.t)("Anonymous Users"),conditions:"!has:user.email !event.type:transaction",fields:["count_unique(user)"],orderby:"count_unique(user)"}],tempId:(0,s.E)()},{title:(0,r.t)("Handled vs. Unhandled"),displayType:i.FO.LINE,interval:"5m",queries:[{name:(0,r.t)("Handled"),conditions:"error.handled:true",fields:["count()"],orderby:"count()"},{name:(0,r.t)("Unhandled"),conditions:"error.handled:false",fields:["count()"],orderby:"count()"}],tempId:(0,s.E)()},{title:(0,r.t)("Errors by Country"),displayType:i.FO.WORLD_MAP,interval:"5m",queries:[{name:(0,r.t)("Error counts"),conditions:"!event.type:transaction has:geo.country_code",fields:["count()"],orderby:"count()"}],tempId:(0,s.E)()},{title:(0,r.t)("Errors by Browser"),displayType:i.FO.TABLE,interval:"5m",queries:[{name:"",conditions:"!event.type:transaction has:browser.name",fields:["browser.name","count()"],orderby:"-count"}],tempId:(0,s.E)()}]},{id:"frontend-template",title:(0,r.t)("Frontend"),dateCreated:"",createdBy:void 0,widgets:[{title:(0,r.t)("Overall LCP"),displayType:i.FO.BIG_NUMBER,interval:"5m",queries:[{name:"",conditions:"event.type:transaction",fields:["p75(measurements.lcp)"],orderby:"measurements.lcp"}],tempId:(0,s.E)()},{title:(0,r.t)("Overall FCP"),displayType:i.FO.BIG_NUMBER,interval:"5m",queries:[{name:"",conditions:"event.type:transaction",fields:["p75(measurements.fcp)"],orderby:"measurements.fcp"}],tempId:(0,s.E)()},{title:(0,r.t)("Overall FID"),displayType:i.FO.BIG_NUMBER,interval:"5m",queries:[{name:"",conditions:"event.type:transaction",fields:["p75(measurements.fid)"],orderby:"measurements.fid"}],tempId:(0,s.E)()},{title:(0,r.t)("LCP over time"),displayType:i.FO.LINE,interval:"5m",queries:[{name:(0,r.t)("LCP"),conditions:"event.type:transaction",fields:["p75(measurements.lcp)"],orderby:"measurements.lcp"}],tempId:(0,s.E)()},{title:(0,r.t)("FCP over time"),displayType:i.FO.LINE,interval:"5m",queries:[{name:(0,r.t)("FCP"),conditions:"event.type:transaction",fields:["p75(measurements.fcp)"],orderby:"measurements.fcp"}],tempId:(0,s.E)()},{title:(0,r.t)("FID over time"),displayType:i.FO.LINE,interval:"5m",queries:[{name:(0,r.t)("FID"),conditions:"event.type:transaction",fields:["p75(measurements.fid)"],orderby:"measurements.fid"}],tempId:(0,s.E)()}]},{id:"backend-template",title:(0,r.t)("Backend"),dateCreated:"",createdBy:void 0,widgets:[{title:(0,r.t)("Overall Apdex"),displayType:i.FO.BIG_NUMBER,interval:"5m",queries:[{name:"",conditions:"event.type:transaction",fields:["apdex()"],orderby:"apdex"}],tempId:(0,s.E)()},{title:(0,r.t)("Failing Transactions"),displayType:i.FO.BIG_NUMBER,interval:"5m",queries:[{name:"",conditions:"event.type:transaction",fields:["failure_count()"],orderby:"failure_count"}],tempId:(0,s.E)()},{title:(0,r.t)("Overall Misery"),displayType:i.FO.BIG_NUMBER,interval:"5m",queries:[{name:"",conditions:"event.type:transaction",fields:["user_misery()"],orderby:"user_misery"}],tempId:(0,s.E)()},{title:(0,r.t)("Apdex over time"),displayType:i.FO.LINE,interval:"5m",queries:[{name:(0,r.t)("Apdex"),conditions:"event.type:transaction",fields:["apdex()"],orderby:"apdex"}],tempId:(0,s.E)()},{title:(0,r.t)("Failure Transactions over time"),displayType:i.FO.LINE,interval:"5m",queries:[{name:(0,r.t)("Failing Transactions"),conditions:"event.type:transaction",fields:["failure_count()"],orderby:"failure_count"}],tempId:(0,s.E)()},{title:(0,r.t)("Misery over time"),displayType:i.FO.LINE,interval:"5m",queries:[{name:(0,r.t)("Miserable Users"),conditions:"event.type:transaction",fields:["user_misery()"],orderby:"user_misery"}],tempId:(0,s.E)()}]},{id:"mobile-template",title:(0,r.t)("Mobile"),dateCreated:"",createdBy:void 0,widgets:[{title:(0,r.t)("Total Crashes"),displayType:i.FO.BIG_NUMBER,interval:"5m",queries:[{name:"",fields:["count()"],conditions:"error.handled:false event.type:error",orderby:""}],tempId:(0,s.E)()},{title:(0,r.t)("Unique Users Who Crashed"),displayType:i.FO.BIG_NUMBER,interval:"5m",queries:[{name:"",fields:["count_unique(user)"],conditions:"error.handled:false event.type:error",orderby:""}],tempId:(0,s.E)()},{title:(0,r.t)("Overall Number of Errors"),displayType:i.FO.BIG_NUMBER,interval:"5m",queries:[{name:"",fields:["count()"],conditions:"event.type:error",orderby:""}],tempId:(0,s.E)()},{title:(0,r.t)("Issues Causing Crashes"),displayType:i.FO.TABLE,interval:"5m",queries:[{name:"",fields:["issue","count()","count_unique(user)"],conditions:"error.handled:false",orderby:"-count_unique_user"}],tempId:(0,s.E)()},{title:(0,r.t)("Crashes Over Time"),displayType:i.FO.LINE,interval:"5m",queries:[{name:(0,r.t)("Crashes"),fields:["count()","count_unique(user)"],conditions:"error.handled:false",orderby:""}],tempId:(0,s.E)()},{title:(0,r.t)("Crashes by OS"),displayType:i.FO.TABLE,interval:"5m",queries:[{name:"",fields:["os","count()"],conditions:"has:os error.handled:false",orderby:"-count"}],tempId:(0,s.E)()},{title:(0,r.t)("Overall Warm Startup Time"),displayType:i.FO.BIG_NUMBER,interval:"5m",queries:[{name:"",fields:["p75(measurements.app_start_warm)"],conditions:"has:measurements.app_start_warm",orderby:""}],tempId:(0,s.E)()},{title:(0,r.t)("Overall Cold Startup Time"),displayType:i.FO.BIG_NUMBER,interval:"5m",queries:[{name:"",fields:["p75(measurements.app_start_cold)"],conditions:"has:measurements.app_start_cold",orderby:""}],tempId:(0,s.E)()},{title:(0,r.t)("Overall Throughput"),displayType:i.FO.BIG_NUMBER,interval:"5m",queries:[{name:"",fields:["epm()"],conditions:"",orderby:""}],tempId:(0,s.E)()},{title:(0,r.t)("Warm Startup Times"),displayType:i.FO.TABLE,interval:"5m",queries:[{name:"",fields:["transaction","p75(measurements.app_start_warm)"],conditions:"has:measurements.app_start_warm",orderby:""}],tempId:(0,s.E)()},{title:(0,r.t)("Cold Startup Times"),displayType:i.FO.TABLE,interval:"5m",queries:[{name:"",fields:["transaction","p75(measurements.app_start_cold)"],conditions:"has:measurements.app_start_cold",orderby:""}],tempId:(0,s.E)()},{title:(0,r.t)("Throughput Over Time"),displayType:i.FO.LINE,interval:"5m",queries:[{name:"",fields:["epm()"],conditions:"",orderby:""}],tempId:(0,s.E)()},{title:(0,r.t)("Frozen Frames Over Time"),displayType:i.FO.BIG_NUMBER,interval:"5m",queries:[{name:"",fields:["p75(measurements.frames_frozen_rate)"],conditions:"",orderby:""}],tempId:(0,s.E)()},{title:(0,r.t)("Frozen Frames Rate"),displayType:i.FO.TABLE,interval:"5m",queries:[{name:"",fields:["transaction","p75(measurements.frames_frozen_rate)"],conditions:"has:measurements.frames_frozen_rate",orderby:"-p75_measurements_frames_frozen_rate"}],tempId:(0,s.E)()}]}],d=[{label:(0,r.t)("Area Chart"),value:"area"},{label:(0,r.t)("Bar Chart"),value:"bar"},{label:(0,r.t)("Line Chart"),value:"line"},{label:(0,r.t)("Table"),value:"table"},{label:(0,r.t)("World Map"),value:"world_map"},{label:(0,r.t)("Big Number"),value:"big_number"},{label:(0,r.t)("Top 5 Events"),value:"top_n"}],l=((0,r.t)("1 Minute"),(0,r.t)("5 Minutes"),(0,r.t)("15 Minutes"),(0,r.t)("30 Minutes"),(0,r.t)("1 Hour"),(0,r.t)("1 Day"),"24h")},"./app/views/dashboardsV2/manage/index.tsx":(e,t,a)=>{a.r(t),a.d(t,{default:()=>Ae});var r=a("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),s=a("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),i=(a("../node_modules/core-js/modules/web.dom-collections.iterator.js"),a("../node_modules/react-router/es/index.js")),n=a("../node_modules/lodash/pick.js"),o=a.n(n),d=a("./app/actionCreators/dashboards.tsx"),l=a("./app/components/acl/feature.tsx"),p=a("./app/components/alert.tsx"),m=a("./app/components/button.tsx"),c=a("./app/components/dropdownControl.tsx"),u=a("./app/components/loadingIndicator.tsx"),h=a("./app/components/noProjectMessage.tsx"),y=a("./app/components/searchBar.tsx"),g=a("./app/components/sentryDocumentTitle.tsx"),b=a("./app/components/switchButton.tsx"),v=a("./app/icons/index.tsx"),Z=a("./app/locale.tsx"),f=a("./app/styles/organization.tsx"),x=a("./app/styles/space.tsx"),w=a("./app/utils/analytics/trackAdvancedAnalyticsEvent.tsx"),_=a("./app/utils/queryString.tsx"),E=a("./app/utils/withApi.tsx"),I=a("./app/utils/withOrganization.tsx"),z=a("./app/views/asyncView.tsx"),q=a("./app/views/dashboardsV2/data.tsx"),B=a("../node_modules/react/index.js"),C=a("./images/dashboard/widget-area.svg"),T=a("./images/dashboard/widget-bar.svg"),k=a("./images/dashboard/widget-big-number.svg"),O=a("./images/dashboard/widget-line-1.svg"),F=a("./images/dashboard/widget-table.svg"),D=a("./images/dashboard/widget-world-map.svg"),N=a("./app/actionCreators/indicator.tsx"),A=a("./app/components/confirm.tsx"),S=a("./app/components/emptyStateWarning.tsx"),M=a("./app/components/menuItem.tsx"),L=a("./app/components/pagination.tsx"),R=a("./app/components/timeSince.tsx"),j=a("./app/utils/analytics.tsx"),P=a("./app/views/dashboardsV2/types.tsx"),U=a("./app/views/dashboardsV2/contextMenu.tsx"),G=a("./app/views/dashboardsV2/utils.tsx"),X=a("./app/components/activity/item/avatar.tsx"),V=a("./app/components/card.tsx"),H=a("./app/components/links/link.tsx"),W=a("./app/styles/overflowEllipsis.tsx"),J=a("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function K({title:e,detail:t,createdBy:a,renderWidgets:r,dateStatus:s,to:i,onEventClick:n,renderContextMenu:o}){return(0,J.tZ)(H.Z,{"data-test-id":"card-".concat(e),onClick:function(){null==n||n()},to:i,children:(0,J.BX)($,{interactive:!0,children:[(0,J.BX)(ee,{children:[(0,J.BX)(Y,{children:[(0,J.tZ)(te,{children:e}),(0,J.tZ)(ae,{children:t})]}),(0,J.tZ)(Q,{children:a?(0,J.tZ)(X.Z,{type:"user",user:a,size:34}):(0,J.tZ)(X.Z,{type:"system",size:34})})]}),(0,J.tZ)(re,{children:r()}),(0,J.BX)(se,{children:[(0,J.tZ)(ie,{children:s?(0,J.BX)(ne,{children:[(0,Z.t)("Created")," ",s]}):(0,J.tZ)(ne,{})}),o&&o()]})]})})}K.displayName="DashboardCard";const Q=(0,s.Z)("span",{target:"emkzkq79"})("border:3px solid ",(e=>e.theme.border),";border-radius:50%;height:min-content;"),Y=(0,s.Z)("div",{target:"emkzkq78"})("flex-grow:1;overflow:hidden;margin-right:",(0,x.Z)(1),";"),$=(0,s.Z)(V.Z,{target:"emkzkq77"})({name:"1h9y2eg",styles:"justify-content:space-between;height:100%;&:focus,&:hover{top:-1px;}"}),ee=(0,s.Z)("div",{target:"emkzkq76"})("display:flex;padding:",(0,x.Z)(1.5)," ",(0,x.Z)(2),";"),te=(0,s.Z)("div",{target:"emkzkq75"})("color:",(e=>e.theme.textColor),";",W.Z,";"),ae=(0,s.Z)("div",{target:"emkzkq74"})("font-family:",(e=>e.theme.text.familyMono),";font-size:",(e=>e.theme.fontSizeSmall),";color:",(e=>e.theme.gray300),";",W.Z,";line-height:1.5;"),re=(0,s.Z)("div",{target:"emkzkq73"})("background:",(e=>e.theme.gray100),";padding:",(0,x.Z)(1.5)," ",(0,x.Z)(2),";max-height:150px;min-height:150px;overflow:hidden;"),se=(0,s.Z)("div",{target:"emkzkq72"})("display:flex;justify-content:space-between;align-items:center;padding:",(0,x.Z)(1)," ",(0,x.Z)(2),";"),ie=(0,s.Z)("div",{target:"emkzkq71"})("font-size:",(e=>e.theme.fontSizeSmall),";display:grid;grid-column-gap:",(0,x.Z)(1),";color:",(e=>e.theme.textColor),";",W.Z,";"),ne=(0,s.Z)("span",{target:"emkzkq70"})("color:",(e=>e.theme.purple300),";padding-left:",(0,x.Z)(1),";"),oe=K;function de({api:e,organization:t,location:a,dashboards:r,pageLinks:s,onDashboardsChange:n}){function o(e){switch(e){case P.FO.BAR:return T;case P.FO.AREA:case P.FO.TOP_N:return C;case P.FO.BIG_NUMBER:return k;case P.FO.TABLE:return F;case P.FO.WORLD_MAP:return D;case P.FO.LINE:default:return O}}return(0,J.BX)(B.Fragment,{children:[null!=r&&r.length?(0,J.tZ)(le,{children:null==r?void 0:r.map(((s,i)=>(0,J.tZ)(oe,{title:"default-overview"===s.id?"Default Dashboard":s.title,to:{pathname:"/organizations/".concat(t.slug,"/dashboard/").concat(s.id,"/"),query:{...a.query}},detail:(0,Z.tn)("%s widget","%s widgets",s.widgetDisplay.length),dateStatus:s.dateCreated?(0,J.tZ)(R.Z,{date:s.dateCreated}):void 0,createdBy:s.createdBy,renderWidgets:()=>(0,J.tZ)(pe,{children:s.widgetDisplay.map(((e,t)=>e===P.FO.BIG_NUMBER?(0,J.tZ)(me,{children:(0,J.tZ)(ue,{src:o(e)})},"".concat(t,"-").concat(e)):(0,J.tZ)(ce,{children:(0,J.tZ)(ue,{src:o(e)})},"".concat(t,"-").concat(e))))}),renderContextMenu:()=>(0,J.BX)(U.Z,{children:[(0,J.tZ)(M.Z,{"data-test-id":"dashboard-delete",disabled:r.length<=1,onClick:a=>{a.preventDefault(),(0,A._)({message:(0,Z.t)("Are you sure you want to delete this dashboard?"),priority:"danger",onConfirm:()=>function(a){(0,d.iM)(e,t.slug,a.id).then((()=>{(0,j.ec)({eventKey:"dashboards_manage.delete",eventName:"Dashboards Manager: Dashboard Deleted",organization_id:parseInt(t.id,10),dashboard_id:parseInt(a.id,10)}),n(),(0,N.S9)((0,Z.t)("Dashboard deleted"))})).catch((()=>{(0,N.Iw)((0,Z.t)("Error deleting Dashboard"))}))}(s)})},children:(0,Z.t)("Delete")}),(0,J.tZ)(M.Z,{"data-test-id":"dashboard-duplicate",onClick:a=>{a.preventDefault(),function(a){(0,d.AK)(e,t.slug,a.id).then((r=>{const s=(0,G.qk)(r);s.widgets.map((e=>e.id=void 0)),(0,d.JR)(e,t.slug,s,!0).then((()=>{(0,j.ec)({eventKey:"dashboards_manage.duplicate",eventName:"Dashboards Manager: Dashboard Duplicated",organization_id:parseInt(t.id,10),dashboard_id:parseInt(a.id,10)}),n(),(0,N.S9)((0,Z.t)("Dashboard duplicated"))}))})).catch((()=>(0,N.Iw)((0,Z.t)("Error duplicating Dashboard"))))}(s)},children:(0,Z.t)("Duplicate")})]})},"".concat(i,"-").concat(s.id))))}):(0,J.tZ)(S.Z,{children:(0,J.tZ)("p",{children:(0,Z.t)("Sorry, no Dashboards match your filters.")})}),(0,J.tZ)(he,{pageLinks:s,onCursor:(e,a,r,s)=>{var n,o,d;const l={...r,cursor:e};Number(null!==(n=null==e||null===(o=e.split)||void 0===o||null===(d=o.call(e,":"))||void 0===d?void 0:d[1])&&void 0!==n?n:0)<=0&&-1===s&&delete l.cursor,(0,j.ec)({eventKey:"dashboards_manage.paginate",eventName:"Dashboards Manager: Paginate",organization_id:parseInt(t.id,10)}),i.browserHistory.push({pathname:a,query:l})}})]})}de.displayName="DashboardList";const le=(0,s.Z)("div",{target:"e8t3ebt5"})("display:grid;grid-template-columns:minmax(100px, 1fr);grid-template-rows:repeat(3, max-content);gap:",(0,x.Z)(2),";@media (min-width: ",(e=>e.theme.breakpoints[1]),"){grid-template-columns:repeat(2, minmax(100px, 1fr));}@media (min-width: ",(e=>e.theme.breakpoints[2]),"){grid-template-columns:repeat(3, minmax(100px, 1fr));}"),pe=(0,s.Z)("div",{target:"e8t3ebt4"})("display:grid;grid-template-columns:repeat(2, minmax(0, 1fr));grid-auto-flow:row dense;gap:",(0,x.Z)(.25),";@media (min-width: ",(e=>e.theme.breakpoints[1]),"){grid-template-columns:repeat(4, minmax(0, 1fr));}@media (min-width: ",(e=>e.theme.breakpoints[3]),"){grid-template-columns:repeat(6, minmax(0, 1fr));}@media (min-width: ",(e=>e.theme.breakpoints[4]),"){grid-template-columns:repeat(8, minmax(0, 1fr));}"),me=(0,s.Z)("div",{target:"e8t3ebt3"})("display:flex;align-items:flex-start;width:100%;height:100%;grid-area:span 1/span 2;@media (min-width: ",(e=>e.theme.breakpoints[0]),"){grid-area:span 1/span 1;}@media (min-width: ",(e=>e.theme.breakpoints[3]),"){grid-area:span 1/span 2;}"),ce=(0,s.Z)("div",{target:"e8t3ebt2"})({name:"1ni4knu",styles:"display:flex;align-items:flex-start;width:100%;height:100%;grid-area:span 2/span 2"}),ue=(0,s.Z)("img",{target:"e8t3ebt1"})({name:"w1atjl",styles:"width:100%;height:100%"}),he=(0,s.Z)(L.Z,{target:"e8t3ebt0"})("margin-bottom:",(0,x.Z)(3),";"),ye=(0,E.Z)(de);function ge({title:e,widgetCount:t,onPreview:a,onAdd:r}){return(0,J.BX)(be,{children:[(0,J.BX)(fe,{children:[(0,J.tZ)(v.RM,{size:"48"}),(0,J.BX)(xe,{children:[(0,J.tZ)(ve,{children:e}),(0,J.tZ)(Ze,{children:(0,Z.t)("%s Starter Widgets",t)})]})]}),(0,J.BX)(we,{children:[(0,J.tZ)(_e,{priority:"default",onClick:a,label:(0,Z.t)("Preview"),children:(0,Z.t)("Preview")}),(0,J.tZ)(_e,{priority:"primary",onClick:r,icon:(0,J.tZ)(v.N_,{size:"xs",isCircled:!0}),label:(0,Z.t)("Add Dashboard"),children:(0,Z.t)("Add Dashboard")})]})]})}ge.displayName="TemplateCard";const be=(0,s.Z)(V.Z,{target:"ezcew0k6"})("padding:",(0,x.Z)(2),";display:inline;"),ve=(0,s.Z)("div",{target:"ezcew0k5"})("color:",(e=>e.theme.textColor),";",W.Z,";"),Ze=(0,s.Z)("div",{target:"ezcew0k4"})("font-family:",(e=>e.theme.text.familyMono),";font-size:",(e=>e.theme.fontSizeSmall),";color:",(e=>e.theme.gray300),";",W.Z,";line-height:1.5;"),fe=(0,s.Z)("div",{target:"ezcew0k3"})("display:flex;padding-bottom:",(0,x.Z)(2),";"),xe=(0,s.Z)("div",{target:"ezcew0k2"})("padding-left:",(0,x.Z)(2),";"),we=(0,s.Z)("div",{target:"ezcew0k1"})({name:"zjik7",styles:"display:flex"}),_e=(0,s.Z)(m.ZP,{target:"ezcew0k0"})("display:block;width:auto;",W.Z,";",(e=>"default"===e.priority&&"width: 50%;\n    margin-right: ".concat((0,x.Z)(2),";")),";"),Ee=ge,Ie="dashboards-show-templates";function ze(){const e=localStorage.getItem(Ie);return"true"===e||null===e}const qe=[{label:(0,Z.t)("My Dashboards"),value:"mydashboards"},{label:(0,Z.t)("Dashboard Name (A-Z)"),value:"title"},{label:(0,Z.t)("Date Created (Newest)"),value:"-dateCreated"},{label:(0,Z.t)("Date Created (Oldest)"),value:"dateCreated"},{label:(0,Z.t)("Most Popular"),value:"mostPopular"},{label:(0,Z.t)("Recently Viewed"),value:"recentlyViewed"}];class Be extends z.Z{constructor(...e){super(...e),(0,r.Z)(this,"handleSortChange",(e=>{const{location:t,organization:a}=this.props;(0,w.Z)("dashboards_manage.change_sort",{organization:a,sort:e}),i.browserHistory.push({pathname:t.pathname,query:{...t.query,cursor:void 0,sort:e}})})),(0,r.Z)(this,"toggleTemplates",(()=>{const{showTemplates:e}=this.state,{organization:t}=this.props;(0,w.Z)("dashboards_manage.templates.toggle",{organization:t,show_templates:!e}),this.setState({showTemplates:!e},(()=>{var t;t=!e,localStorage.setItem(Ie,t?"true":"false")}))}))}getDefaultState(){return{...super.getDefaultState(),showTemplates:ze()}}getEndpoints(){const{organization:e,location:t}=this.props;return[["dashboards","/organizations/".concat(e.slug,"/dashboards/"),{query:{...o()(t.query,["cursor","query"]),sort:this.getActiveSort().value,per_page:"9"}}]]}getActiveSort(){const{location:e}=this.props,t=(0,_.ro)(e.query.sort,"mydashboards");return qe.find((e=>e.value===t))||qe[0]}onDashboardsChange(){this.reloadData()}handleSearch(e){const{location:t,router:a,organization:r}=this.props;(0,w.Z)("dashboards_manage.search",{organization:r}),a.push({pathname:t.pathname,query:{...t.query,cursor:void 0,query:e}})}getQuery(){const{query:e}=this.props.location.query;return"string"==typeof e?e:void 0}renderTemplates(){const{organization:e}=this.props;return(0,J.tZ)(l.Z,{organization:e,features:["dashboards-template"],children:(0,J.tZ)(Ne,{children:q.CS.map((e=>(0,J.tZ)(Ee,{title:e.title,widgetCount:e.widgets.length,onPreview:()=>this.onPreview(e.id),onAdd:()=>this.onAdd(e)},e.title)))})})}renderActions(){const e=this.getActiveSort();return(0,J.BX)(ke,{children:[(0,J.tZ)(y.Z,{defaultQuery:"",query:this.getQuery(),placeholder:(0,Z.t)("Search Dashboards"),onSearch:e=>this.handleSearch(e)}),(0,J.tZ)(c.ZP,{buttonProps:{prefix:(0,Z.t)("Sort By")},label:e.label,children:qe.map((({label:t,value:a})=>(0,J.tZ)(c.hP,{onSelect:this.handleSortChange,eventKey:a,isActive:a===e.value,children:t},a)))})]})}renderNoAccess(){return(0,J.tZ)(f.JH,{children:(0,J.tZ)(p.Z,{type:"warning",children:(0,Z.t)("You don't have access to this feature")})})}renderDashboards(){const{dashboards:e,dashboardsPageLinks:t}=this.state,{organization:a,location:r,api:s}=this.props;return(0,J.tZ)(ye,{api:s,dashboards:e,organization:a,pageLinks:t,location:r,onDashboardsChange:()=>this.onDashboardsChange()})}getTitle(){return(0,Z.t)("Dashboards")}onCreate(){const{organization:e,location:t}=this.props;(0,w.Z)("dashboards_manage.create.start",{organization:e}),i.browserHistory.push({pathname:"/organizations/".concat(e.slug,"/dashboards/new/"),query:t.query})}async onAdd(e){const{organization:t,api:a}=this.props;(0,w.Z)("dashboards_manage.templates.add",{organization:t,dashboard_id:e.id}),await(0,d.JR)(a,t.slug,e,!0),this.onDashboardsChange()}onPreview(e){const{organization:t,location:a}=this.props;(0,w.Z)("dashboards_manage.templates.preview",{organization:t,dashboard_id:e}),i.browserHistory.push({pathname:"/organizations/".concat(t.slug,"/dashboards/new/").concat(e),query:a.query})}renderLoading(){return(0,J.tZ)(f.JH,{children:(0,J.tZ)(u.Z,{})})}renderBody(){const{showTemplates:e}=this.state,{organization:t}=this.props;return(0,J.tZ)(l.Z,{organization:t,features:["dashboards-edit"],renderDisabled:this.renderNoAccess,children:(0,J.tZ)(g.Z,{title:(0,Z.t)("Dashboards"),orgSlug:t.slug,children:(0,J.tZ)(Ce,{children:(0,J.tZ)(h.Z,{organization:t,children:(0,J.BX)(f.JH,{children:[(0,J.BX)(Te,{children:[(0,Z.t)("Dashboards"),(0,J.BX)(De,{children:[(0,J.tZ)(l.Z,{organization:t,features:["dashboards-template"],children:(0,J.BX)(Oe,{children:[(0,Z.t)("Show Templates"),(0,J.tZ)(Fe,{isActive:e,size:"lg",toggle:this.toggleTemplates})]})}),(0,J.tZ)(m.ZP,{"data-test-id":"dashboard-create",onClick:e=>{e.preventDefault(),this.onCreate()},priority:"primary",icon:(0,J.tZ)(v.N_,{size:"xs",isCircled:!0}),children:(0,Z.t)("Create Dashboard")})]})]}),e&&this.renderTemplates(),this.renderActions(),this.renderDashboards()]})})})})})}}const Ce=(0,s.Z)(f.JH,{target:"e1bpet4v6"})({name:"1hcx8jb",styles:"padding:0"}),Te=(0,s.Z)("div",{target:"e1bpet4v5"})("display:flex;align-items:flex-end;font-size:",(e=>e.theme.headerFontSize),";color:",(e=>e.theme.textColor),";justify-content:space-between;margin-bottom:",(0,x.Z)(2),";"),ke=(0,s.Z)("div",{target:"e1bpet4v4"})("display:grid;grid-template-columns:auto max-content;gap:",(0,x.Z)(2),";margin-bottom:",(0,x.Z)(2),";@media (max-width: ",(e=>e.theme.breakpoints[0]),"){grid-template-columns:auto;}"),Oe=(0,s.Z)("div",{target:"e1bpet4v3"})("font-size:",(e=>e.theme.fontSizeLarge),";display:inline;padding-right:",(0,x.Z)(2),";"),Fe=(0,s.Z)(b.Z,{target:"e1bpet4v2"})("vertical-align:middle;display:inline;margin-left:",(0,x.Z)(1),";"),De=(0,s.Z)("div",{target:"e1bpet4v1"})({name:"1u4hpl4",styles:"display:inline"}),Ne=(0,s.Z)("div",{target:"e1bpet4v0"})("display:grid;grid-template-columns:repeat(4, 1fr);@media (max-width: ",(e=>e.theme.breakpoints[3]),"){grid-template-columns:repeat(2, 1fr);}gap:",(0,x.Z)(2),";padding-bottom:",(0,x.Z)(4),";"),Ae=(0,E.Z)((0,I.Z)(Be))}}]);
//# sourceMappingURL=../sourcemaps/app_views_dashboardsV2_manage_index_tsx.fcde001e715c81be2aa9c96a23759e70.js.map