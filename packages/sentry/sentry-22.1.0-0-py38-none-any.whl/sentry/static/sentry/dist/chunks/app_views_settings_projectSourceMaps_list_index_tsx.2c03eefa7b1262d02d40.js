"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["app_views_settings_projectSourceMaps_list_index_tsx"],{"./app/utils/routeTitle.tsx":(e,t,s)=>{s.d(t,{Z:()=>n});const n=function(e,t,s=!0,n){const r="".concat(e," - ").concat(t),o=n?"".concat(r," - ").concat(n):r;return s?"".concat(o," - Sentry"):o}},"./app/views/asyncView.tsx":(e,t,s)=>{s.d(t,{Z:()=>a}),s("../node_modules/react/index.js");var n=s("./app/components/asyncComponent.tsx"),r=s("./app/components/sentryDocumentTitle.tsx"),o=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class a extends n.Z{getTitle(){return""}render(){return(0,o.tZ)(r.Z,{title:this.getTitle(),children:this.renderComponent()})}}a.displayName="AsyncView"},"./app/views/settings/projectSourceMaps/list/index.tsx":(e,t,s)=>{s.r(t),s.d(t,{default:()=>R});var n=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),r=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=(s("../node_modules/core-js/modules/web.dom-collections.iterator.js"),s("../node_modules/react/index.js")),a=s("./app/actionCreators/indicator.tsx"),i=s("./app/components/links/externalLink.tsx"),c=s("./app/components/pagination.tsx"),p=s("./app/components/panels/index.tsx"),l=s("./app/components/searchBar.tsx"),d=s("./app/locale.tsx"),m=s("./app/styles/space.tsx"),h=s("./app/utils/queryString.tsx"),u=s("./app/utils/routeTitle.tsx"),g=s("./app/views/asyncView.tsx"),x=s("./app/views/settings/components/settingsPageHeader.tsx"),Z=s("./app/views/settings/components/text/textBlock.tsx"),y=s("./app/components/acl/access.tsx"),v=s("./app/components/button.tsx"),f=s("./app/components/buttonBar.tsx"),w=s("./app/components/confirm.tsx"),j=s("./app/components/count.tsx"),b=s("./app/components/dateTime.tsx"),k=s("./app/components/links/link.tsx"),A=s("./app/components/textOverflow.tsx"),q=s("./app/components/tooltip.tsx"),S=s("./app/components/version.tsx"),_=s("./app/icons/index.tsx"),T=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const I=({archive:e,orgId:t,projectId:s,onDelete:n})=>{const{name:r,date:a,fileCount:i}=e,c="/settings/".concat(t,"/projects/").concat(s,"/source-maps/").concat(encodeURIComponent(r));return(0,T.BX)(o.Fragment,{children:[(0,T.tZ)(D,{children:(0,T.tZ)(A.Z,{children:(0,T.tZ)(k.Z,{to:c,children:(0,T.tZ)(S.Z,{version:r,anchor:!1,tooltipRawVersion:!0,truncate:!0})})})}),(0,T.tZ)(B,{children:(0,T.tZ)(j.Z,{value:i})}),(0,T.tZ)(D,{children:(0,d.t)("release")}),(0,T.tZ)(D,{children:(0,T.tZ)(b.Z,{date:a})}),(0,T.tZ)(C,{children:(0,T.tZ)(f.ZP,{gap:.5,children:(0,T.tZ)(y.Z,{access:["project:releases"],children:({hasAccess:e})=>(0,T.tZ)(q.Z,{disabled:e,title:(0,d.t)("You do not have permission to delete artifacts."),children:(0,T.tZ)(w.Z,{onConfirm:()=>n(r),message:(0,d.t)("Are you sure you want to remove all artifacts in this archive?"),disabled:!e,children:(0,T.tZ)(v.ZP,{size:"small",icon:(0,T.tZ)(_.Fz,{size:"sm"}),title:(0,d.t)("Remove All Artifacts"),label:(0,d.t)("Remove All Artifacts"),disabled:!e})})})})})})]})};I.displayName="SourceMapsArchiveRow";const D=(0,r.Z)("div",{target:"eq2wkmm2"})({name:"1kghokd",styles:"display:flex;align-items:center;overflow:hidden"}),B=(0,r.Z)(D,{target:"eq2wkmm1"})("padding-right:",(0,m.Z)(4),";text-align:right;justify-content:flex-end;"),C=(0,r.Z)(D,{target:"eq2wkmm0"})({name:"1f60if8",styles:"justify-content:flex-end"}),E=I;class M extends g.Z{constructor(...e){super(...e),(0,n.Z)(this,"handleSearch",(e=>{const{location:t,router:s}=this.props;s.push({...t,query:{...t.query,cursor:void 0,query:e}})})),(0,n.Z)(this,"handleDelete",(async e=>{(0,a.E3)((0,d.t)("Removing artifactsâ€¦"));try{await this.api.requestPromise(this.getArchivesUrl(),{method:"DELETE",query:{name:e}}),this.fetchData(),(0,a.S9)((0,d.t)("Artifacts removed."))}catch{(0,a.Iw)((0,d.t)("Unable to remove artifacts. Please try again."))}}))}getTitle(){const{projectId:e}=this.props.params;return(0,u.Z)((0,d.t)("Source Maps"),e,!1)}getDefaultState(){return{...super.getDefaultState(),archives:[]}}getEndpoints(){return[["archives",this.getArchivesUrl(),{query:{query:this.getQuery()}}]]}getArchivesUrl(){const{orgId:e,projectId:t}=this.props.params;return"/projects/".concat(e,"/").concat(t,"/files/source-maps/")}getQuery(){const{query:e}=this.props.location.query;return(0,h.ro)(e)}getEmptyMessage(){return this.getQuery()?(0,d.t)("There are no archives that match your search."):(0,d.t)("There are no archives for this project.")}renderLoading(){return this.renderBody()}renderArchives(){const{archives:e}=this.state,{params:t}=this.props,{orgId:s,projectId:n}=t;return e.length?e.map((e=>(0,T.tZ)(E,{archive:e,orgId:s,projectId:n,onDelete:this.handleDelete},e.name))):null}renderBody(){const{loading:e,archives:t,archivesPageLinks:s}=this.state;return(0,T.BX)(o.Fragment,{children:[(0,T.tZ)(x.Z,{title:(0,d.t)("Source Maps"),action:(0,T.tZ)(l.Z,{placeholder:(0,d.t)("Filter Archives"),onSearch:this.handleSearch,query:this.getQuery(),width:"280px"})}),(0,T.tZ)(Z.Z,{children:(0,d._N)("These source map archives help Sentry identify where to look when Javascript is minified. By providing this information, you can get better context for your stack traces when debugging. To learn more about source maps, [link: read the docs].",{link:(0,T.tZ)(i.Z,{href:"https://docs.sentry.io/platforms/javascript/sourcemaps/"})})}),(0,T.tZ)(P,{headers:[(0,d.t)("Archive"),(0,T.tZ)(L,{children:(0,d.t)("Artifacts")},"artifacts"),(0,d.t)("Type"),(0,d.t)("Date Created"),""],emptyMessage:this.getEmptyMessage(),isEmpty:0===t.length,isLoading:e,children:this.renderArchives()}),(0,T.tZ)(c.Z,{pageLinks:s})]})}}const P=(0,r.Z)(p.KB,{target:"e11p4xaq1"})({name:"1nm83up",styles:"grid-template-columns:minmax(120px, 1fr) max-content minmax(85px, max-content) minmax(265px, max-content) 75px"}),L=(0,r.Z)("div",{target:"e11p4xaq0"})("text-align:right;padding-right:",(0,m.Z)(1.5),";margin-right:",(0,m.Z)(.25),";"),R=M}}]);
//# sourceMappingURL=../sourcemaps/app_views_settings_projectSourceMaps_list_index_tsx.b1ad0f747c27933ccbba6f0b605be366.js.map