"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["app_views_asyncView_tsx-app_views_settings_components_teamSelect_tsx"],{"./app/views/asyncView.tsx":(e,t,s)=>{s.d(t,{Z:()=>i}),s("../node_modules/react/index.js");var n=s("./app/components/asyncComponent.tsx"),a=s("./app/components/sentryDocumentTitle.tsx"),o=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class i extends n.Z{getTitle(){return""}render(){return(0,o.tZ)(a.Z,{title:this.getTitle(),children:this.renderComponent()})}}i.displayName="AsyncView"},"./app/views/settings/components/teamSelect.tsx":(e,t,s)=>{s.d(t,{Z:()=>R});var n=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),a=s("../node_modules/react/index.js"),o=s("../node_modules/lodash/debounce.js"),i=s.n(o),m=s("./app/components/button.tsx"),d=s("./app/components/confirm.tsx"),l=s("./app/components/dropdownAutoComplete/index.tsx"),r=s("./app/components/dropdownButton.tsx"),p=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),c=(s("../node_modules/core-js/modules/web.dom-collections.iterator.js"),s("../node_modules/lodash/isEqual.js")),u=s.n(c),g=s("./app/stores/teamStore.tsx"),h=s("./app/components/idBadge/teamBadge/badge.tsx"),x=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class Z extends a.Component{constructor(...e){super(...e),(0,p.Z)(this,"state",{team:this.props.team}),(0,p.Z)(this,"unlistener",g.Z.listen((e=>this.onTeamStoreUpdate(e)),void 0))}UNSAFE_componentWillReceiveProps(e){this.state.team!==e.team&&(u()(this.state.team,e.team)||this.setState({team:e.team}))}componentWillUnmount(){var e;null===(e=this.unlistener)||void 0===e||e.call(this)}onTeamStoreUpdate(e){if(!e.has(this.state.team.id))return;const t=g.Z.getById(this.state.team.id);t&&!u()(t.avatar,this.state.team.avatar)&&this.setState({team:t})}render(){return(0,x.tZ)(h.Z,{...this.props,team:this.state.team})}}Z.displayName="TeamBadgeContainer";const b=Z;var v=s("./app/components/links/link.tsx"),f=s("./app/components/loadingIndicator.tsx"),y=s("./app/components/panels/index.tsx"),_=s("./app/constants/index.tsx"),w=s("./app/icons/index.tsx"),T=s("./app/locale.tsx"),j=s("./app/styles/space.tsx"),S=s("./app/utils/useTeams.tsx"),C=s("./app/views/settings/components/emptyMessage.tsx");function B({disabled:e,selectedTeams:t,menuHeader:s,organization:n,onAddTeam:a,onRemoveTeam:o,confirmLastTeamRemoveMessage:m,loadingTeams:d}){const{teams:p,onSearch:c,fetching:u}=(0,S.Z)(),g=p.filter((e=>!t.some((t=>t.slug===e.slug)))).map(((e,t)=>({index:t,value:e.slug,searchKey:e.slug,label:(0,x.tZ)(k,{avatarSize:18,team:e})})));return(0,x.BX)(y.s_,{children:[(0,x.BX)(y.V9,{hasButtons:!0,children:[(0,T.t)("Team"),(0,x.tZ)(l.Z,{items:g,busyItemsStillVisible:u,onChange:i()((e=>c(e.target.value)),_.Dk),onSelect:e=>{const t=p.find((t=>t.slug===e.value));t&&a(t)},emptyMessage:(0,T.t)("No teams"),menuHeader:s,disabled:e,alignMenu:"right",children:({isOpen:t})=>(0,x.tZ)(r.Z,{"aria-label":(0,T.t)("Add Team"),isOpen:t,size:"xsmall",disabled:e,children:(0,T.t)("Add Team")})})]}),(0,x.tZ)(y.N,{children:d?(0,x.tZ)(f.Z,{}):(()=>{if(0===t.length)return(0,x.tZ)(C.Z,{children:(0,T.t)("No Teams assigned")});const s=1===t.length&&m?m:null;return t.map((t=>(0,x.tZ)(N,{orgId:n.slug,team:t,onRemove:e=>o(e),disabled:e,confirmMessage:s},t.slug)))})()})]})}B.displayName="TeamSelect";const N=({orgId:e,team:t,onRemove:s,disabled:n,confirmMessage:a})=>(0,x.BX)(z,{children:[(0,x.tZ)(M,{to:"/settings/".concat(e,"/teams/").concat(t.slug,"/"),children:(0,x.tZ)(b,{team:t})}),(0,x.tZ)(d.Z,{message:a,bypass:!a,onConfirm:()=>s(t.slug),disabled:n,children:(0,x.tZ)(m.ZP,{size:"xsmall",icon:(0,x.tZ)(w.JZ,{isCircled:!0,size:"xs"}),disabled:n,children:(0,T.t)("Remove")})})]});N.displayName="TeamRow";const k=(0,n.Z)(b,{target:"e1u21fi92"})("font-weight:normal;font-size:",(e=>e.theme.fontSizeMedium),";text-transform:none;"),z=(0,n.Z)(y.Lv,{target:"e1u21fi91"})("padding:",(0,j.Z)(2),";align-items:center;"),M=(0,n.Z)(v.Z,{target:"e1u21fi90"})("flex:1;margin-right:",(0,j.Z)(1),";"),R=B}}]);
//# sourceMappingURL=../sourcemaps/app_views_asyncView_tsx-app_views_settings_components_teamSelect_tsx.42999e3ea252770dd0134da9ae54126d.js.map