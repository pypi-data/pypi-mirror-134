"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["app_components_modals_createTeamModal_tsx"],{"./app/actionCreators/teams.tsx":(e,t,a)=>{a.d(t,{PX:()=>m,z_:()=>d,fs:()=>u,um:()=>l,s:()=>p,Cm:()=>g,tT:()=>f}),a("../node_modules/core-js/modules/web.dom-collections.iterator.js");var o=a("./app/actionCreators/indicator.tsx"),r=a("./app/actions/teamActions.tsx"),s=a("./app/locale.tsx"),n=a("./app/utils/callIfFunction.tsx");if("app"==a.j)var c=a("./app/utils/guid.tsx");const i=(e={},t,...a)=>{(0,n.g)(e[t],...a)};async function m(e,t){const a=await e.requestPromise("/organizations/".concat(t.orgId,"/user-teams/"));r.Z.loadUserTeams(a)}function d(e,t){r.Z.updateSuccess(e,t)}function u(e,t,a){const o="/teams/".concat(t.orgId,"/").concat(t.teamId,"/");return r.Z.update(t.teamId,t.data),e.request(o,{method:"PUT",data:t.data,success:e=>{d(t.teamId,e),i(a,"success",e)},error:e=>{r.Z.updateError(t.teamId,e),i(a,"error",e)}})}function l(e,t,a){var o;const s="/organizations/".concat(t.orgId,"/members/").concat(null!==(o=t.memberId)&&void 0!==o?o:"me","/teams/").concat(t.teamId,"/"),n=(0,c.E)();return r.Z.update(n,t.teamId),e.request(s,{method:"POST",success:e=>{r.Z.updateSuccess(t.teamId,e),i(a,"success",e)},error:e=>{r.Z.updateError(n,t.teamId,e),i(a,"error",e)}})}function p(e,t,a){const o="/organizations/".concat(t.orgId,"/members/").concat(t.memberId||"me","/teams/").concat(t.teamId,"/"),s=(0,c.E)();return r.Z.update(s,t.teamId),e.request(o,{method:"DELETE",success:e=>{r.Z.updateSuccess(t.teamId,e),i(a,"success",e)},error:e=>{r.Z.updateError(s,t.teamId,e),i(a,"error",e)}})}function g(e,t,a){return r.Z.createTeam(t),e.requestPromise("/organizations/".concat(a.orgId,"/teams/"),{method:"POST",data:t}).then((e=>(r.Z.createTeamSuccess(e),(0,o.S9)((0,s._N)("[team] has been added to the [organization] organization",{team:"#".concat(e.slug),organization:a.orgId})),e)),(e=>{throw r.Z.createTeamError(t.slug,e),(0,o.Iw)((0,s._N)("Unable to create [team] in the [organization] organization",{team:"#".concat(t.slug),organization:a.orgId})),e}))}function f(e,t){return r.Z.removeTeam(t.teamId),e.requestPromise("/teams/".concat(t.orgId,"/").concat(t.teamId,"/"),{method:"DELETE"}).then((e=>(r.Z.removeTeamSuccess(t.teamId,e),(0,o.S9)((0,s._N)("[team] has been removed from the [organization] organization",{team:"#".concat(t.teamId),organization:t.orgId})),e)),(e=>{throw r.Z.removeTeamError(t.teamId,e),(0,o.Iw)((0,s._N)("Unable to remove [team] from the [organization] organization",{team:"#".concat(t.teamId),organization:t.orgId})),e}))}},"./app/actions/teamActions.tsx":(e,t,a)=>{a.d(t,{Z:()=>r});var o=a("../node_modules/reflux/src/index.js");const r=a.n(o)().createActions(["createTeam","createTeamError","createTeamSuccess","fetchAll","fetchAllError","fetchAllSuccess","fetchDetails","fetchDetailsError","fetchDetailsSuccess","loadTeams","loadUserTeams","removeTeam","removeTeamError","removeTeamSuccess","update","updateError","updateSuccess"])},"./app/components/modals/createTeamModal.tsx":(e,t,a)=>{a.r(t),a.d(t,{default:()=>d});var o=a("../node_modules/react/index.js"),r=a("./app/actionCreators/teams.tsx"),s=a("./app/components/teams/createTeamForm.tsx"),n=a("./app/locale.tsx"),c=a("./app/utils/useApi.tsx"),i=a("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function m({Body:e,Header:t,...a}){const{onClose:m,closeModal:d,organization:u}=a,l=(0,c.Z)();return(0,i.BX)(o.Fragment,{children:[(0,i.tZ)(t,{closeButton:!0,children:(0,n.t)("Create Team")}),(0,i.tZ)(e,{children:(0,i.tZ)(s.Z,{...a,onSubmit:async function(e,t,a){try{const a=await(0,r.Cm)(l,e,{orgId:u.slug});d(),null==m||m(a),t(a)}catch(e){a(e)}}})})]})}m.displayName="CreateTeamModal";const d=m},"./app/components/teams/createTeamForm.tsx":(e,t,a)=>{a.d(t,{Z:()=>d});var o=a("../node_modules/react/index.js"),r=a("./app/locale.tsx"),s=a("./app/utils/slugify.tsx"),n=a("./app/views/settings/components/forms/form.tsx"),c=a("./app/views/settings/components/forms/textField.tsx"),i=a("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function m({organization:e,formProps:t,...a}){return(0,i.BX)(o.Fragment,{children:[(0,i.tZ)("p",{children:(0,r.t)("Members of a team have access to specific areas, such as a new release or a new application feature.")}),(0,i.tZ)(n.Z,{submitLabel:(0,r.t)("Create Team"),apiEndpoint:"/organizations/".concat(e.slug,"/teams/"),apiMethod:"POST",onSubmit:(e,t,o)=>{var r;return null===(r=a.onSubmit)||void 0===r?void 0:r.call(a,e,t,o)},onSubmitSuccess:e=>{var t;return null===(t=a.onSuccess)||void 0===t?void 0:t.call(a,e)},requireChanges:!0,"data-test-id":"create-team-form",...t,children:(0,i.tZ)(c.Z,{name:"slug",label:(0,r.t)("Team Name"),placeholder:(0,r.t)("e.g. operations, web-frontend, desktop"),help:(0,r.t)("May contain lowercase letters, numbers, dashes and underscores."),required:!0,stacked:!0,flexibleControlStateSize:!0,inline:!1,transformInput:s.Z})})]})}m.displayName="CreateTeamForm";const d=m},"./app/utils/slugify.tsx":(e,t,a)=>{function o(e){return"string"==typeof e?e.toLowerCase().replace(" ","-"):""}a.d(t,{Z:()=>o}),a("../node_modules/core-js/modules/es.string.replace.js")},"./app/utils/useApi.tsx":(e,t,a)=>{a.d(t,{Z:()=>s});var o=a("../node_modules/react/index.js"),r=a("./app/api.tsx");const s=function({persistInFlight:e,api:t}={}){const a=(0,o.useRef)();void 0===a.current&&void 0===t&&(a.current=new r.KU);const s=null!=t?t:a.current;function n(){!e&&s.clear()}return(0,o.useEffect)((()=>n),[]),s}}}]);
//# sourceMappingURL=../sourcemaps/app_components_modals_createTeamModal_tsx.5bcd078048e6fbfa16754040d221196c.js.map