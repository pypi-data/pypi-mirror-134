"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["vendors-node_modules_downsample_methods_ASAP_js-node_modules_echarts_lib_chart_heatmap_js"],{"../node_modules/downsample/methods/ASAP.js":(e,t)=>{function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var n={"PointValueExtractor<unknown>":e=>"function"==typeof e,XYDataPoint:e=>null!=e&&n.X(e.x)&&"number"==typeof e.y,X:e=>"number"==typeof e||e instanceof Date},a=e=>{for(var t=0,r=0;r<e.length;r+=1)t+=e[r];return t/e.length},i=(e,t)=>{for(var r=e.length,n=new Array(r),a=0;a<r;a++)n[a]=t(e[a],a);return n},o=e=>n["PointValueExtractor<unknown>"](e)?e:t=>t[e],l=(e,t)=>({x:e,y:t}),s=()=>({x:e=>{var t=n.XYDataPoint(e)?e.x:e[0];return t instanceof Date?t.getTime():t},y:e=>"y"in e?e.y:e[1],toPoint:l}),h=(e,t)=>new e.constructor(t),u=function(e,t){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=[],a=0,i=0;i<t;i++)a+=e[i];for(var o=t;o<=e.length;o++)(o-t)%r==0&&n.push(a/t),a+=e[o]-e[o-t];return n},c=e=>{var t=o(e.x),r=o(e.y),n=e.toPoint;return function(e,a){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(0===e.length)return e;for(var l,s=i(e,r),u=i(e,t),c=h(e,0),g=0,d=0;d<a;d++)g+=s[d];for(var f=a;f<=s.length;f++)(f-a)%o==0&&(l=n((u[f-a]+u[f-1])/2,g/a,f-a),c[c.length]=l),g+=s[f]-s[f-a];return c}};function g(e,t){if(e.length!=t.length)throw"Mismatched lengths";var r=e.length;0!=r&&(0==(r&r-1)?function(e,t){if(e.length!=t.length)throw"Mismatched lengths";var r=e.length;if(1!=r){for(var n=-1,a=0;a<32;a++)1<<a==r&&(n=a);if(-1==n)throw"Length is not a power of 2";for(var i=new Array(r/2),o=new Array(r/2),l=0;l<r/2;l++)i[l]=Math.cos(2*Math.PI*l/r),o[l]=Math.sin(2*Math.PI*l/r);for(var s=0;s<r;s++){var h=f(s,n);if(h>s){var u=e[s];e[s]=e[h],e[h]=u,u=t[s],t[s]=t[h],t[h]=u}}for(var c=2;c<=r;c*=2)for(var g=c/2,d=r/c,p=0;p<r;p+=c)for(var m=p,v=0;m<p+g;m++,v+=d){var y=e[m+g]*i[v]+t[m+g]*o[v],w=-e[m+g]*o[v]+t[m+g]*i[v];e[m+g]=e[m]-y,t[m+g]=t[m]-w,e[m]+=y,t[m]+=w}}}(e,t):function(e,t){if(e.length!=t.length)throw"Mismatched lengths";for(var r=e.length,n=1;n<2*r+1;)n*=2;for(var a=new Array(r),i=new Array(r),o=0;o<r;o++){var l=o*o%(2*r);a[o]=Math.cos(Math.PI*l/r),i[o]=Math.sin(Math.PI*l/r)}for(var s=new Array(n),h=new Array(n),u=0;u<r;u++)s[u]=e[u]*a[u]+t[u]*i[u],h[u]=-e[u]*i[u]+t[u]*a[u];for(var c=r;c<n;c++)s[c]=h[c]=0;var f=new Array(n),p=new Array(n);f[0]=a[0],p[0]=i[0];for(var m=1;m<r;m++)f[m]=f[n-m]=a[m],p[m]=p[n-m]=i[m];for(var v=r;v<=n-r;v++)f[v]=p[v]=0;var y=new Array(n),w=new Array(n);!function(e,t,r,n,a,i){if(e.length!=t.length||e.length!=r.length||r.length!=n.length||e.length!=a.length||a.length!=i.length)throw"Mismatched lengths";var o=e.length;e=e.slice(),t=t.slice(),r=r.slice(),n=n.slice(),g(e,t),g(r,n);for(var l=0;l<o;l++){var s=e[l]*r[l]-t[l]*n[l];t[l]=t[l]*r[l]+e[l]*n[l],e[l]=s}d(e,t);for(var h=0;h<o;h++)a[h]=e[h]/o,i[h]=t[h]/o}(s,h,f,p,y,w);for(var b=0;b<r;b++)e[b]=y[b]*a[b]+w[b]*i[b],t[b]=-y[b]*i[b]+w[b]*a[b]}(e,t))}function d(e,t){g(t,e)}function f(e,t){for(var r=0,n=0;n<t;n++)r=r<<1|1&e,e>>>=1;return r}c(s());var p,m,v,y=e=>(e=>{for(var t=a(e),r=0,n=0;n<e.length;n+=1)r+=(e[n]-t)*(e[n]-t);return Math.sqrt(r/e.length)})((e=>{var t=e.length-1;if(t<1)return[];for(var r=new Array(t),n=0;n<t;n++)r[n]=e[n+1]-e[n];return r})(e)),w=e=>{for(var t,r,n=e.length,i=a(e),o=0,l=0,s=0;s<n;s++)o+=(r=(t=e[s]-i)*t)*r,l+=r;return n*o/(l*l)},b=(p=s(),m=o(p.y),v=c(p),function e(t,n){if(0===t.length)return t;if(n<=0)throw new Error("Supplied non-positive resolution parameter to ASAP: ".concat(n));if(t.length>=2*n){var o=Math.trunc(t.length/n);return e(v(t,o,o),n)}for(var l=i(t,m),s=((e,t)=>{for(var n=e.length,i=a(e),o=Math.pow(2,Math.trunc(Math.log2(n))+1),l=new Array(o).fill(0),s=new Array(o).fill(0),h=0;h<n;h+=1)l[h]=e[h]-i;g(l,s);for(var u=0;u<l.length;u+=1)l[u]=Math.pow(l[u],2)+Math.pow(s[u],2),s[u]=0;d(l,s);for(var c=[],f=1;f<t;f++)c[f]=l[f]/l[0];var p=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2,r=e.length;if(r<=1)return[[],0];var n=0,a=[];if(e.length>1)for(var i=e[1]>e[0],o=1,l=2;l<e.length;l+=1)!i&&e[l]>e[l-1]?(o=l,i=!i):i&&e[l]>e[o]?o=l:i&&e[l]<e[l-1]&&(o>1&&e[o]>t&&(a.push(o),e[o]>n&&(n=e[o])),i=!i);if(a.length<=1)for(var s=2;s<r;s+=1)a.push(s);return[a,n]}(c),2);return{correlations:c,peaks:p[0],maxCorrelation:p[1]}})(l,Math.round(l.length/10)),h=s.correlations,c=s.peaks,f=s.maxCorrelation,p=w(l),b=y(l),S=1,M=1,_=-1,x=l.length/10,A=c.length-1;A>=0;A-=1){var C=c[A];if(C<M||1===C)break;if(!(Math.sqrt(1-h[C])*S>Math.sqrt(1-h[S])*C)){var I=u(l,C,1),O=w(I),P=y(I);O>=p&&(P<b&&(b=P,S=C),M=Math.round(Math.max(C*Math.sqrt((f-1)/(h[C]-1)),M)),_<0&&(_=A))}}return _>0&&(_<c.length-2&&(x=c[_+1]),M=Math.max(M,c[_]+1)),S=((e,t,r,n,a,i)=>{for(;e<=t;){var o=Math.round((e+t)/2),l=u(r,o,1);if(w(l)>=a){var s=y(l);s<n&&(i=o,n=s),e=o+1}else t=o-1}return i})(M,x,l,b,p,S),v(t,S,1)});t.Cl=b},"../node_modules/echarts/lib/chart/heatmap.js":(e,t,r)=>{var n=r("../node_modules/echarts/lib/extension.js"),a=r("../node_modules/echarts/node_modules/tslib/tslib.es6.js"),i=r("../node_modules/zrender/lib/graphic/shape/Rect.js"),o=r("../node_modules/zrender/lib/graphic/Image.js"),l=r("../node_modules/echarts/lib/util/states.js"),s=r("../node_modules/zrender/lib/core/util.js");const h=function(){function e(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var e=s.createCanvas();this.canvas=e}return e.prototype.update=function(e,t,r,n,a,i){var o=this._getBrush(),l=this._getGradient(a,"inRange"),s=this._getGradient(a,"outOfRange"),h=this.pointSize+this.blurSize,u=this.canvas,c=u.getContext("2d"),g=e.length;u.width=t,u.height=r;for(var d=0;d<g;++d){var f=e[d],p=f[0],m=f[1],v=n(f[2]);c.globalAlpha=v,c.drawImage(o,p-h,m-h)}if(!u.width||!u.height)return u;for(var y=c.getImageData(0,0,u.width,u.height),w=y.data,b=0,S=w.length,M=this.minOpacity,_=this.maxOpacity-M;b<S;){v=w[b+3]/256;var x=4*Math.floor(255*v);if(v>0){var A=i(v)?l:s;v>0&&(v=v*_+M),w[b++]=A[x],w[b++]=A[x+1],w[b++]=A[x+2],w[b++]=A[x+3]*v*256}else b+=4}return c.putImageData(y,0,0),u},e.prototype._getBrush=function(){var e=this._brushCanvas||(this._brushCanvas=s.createCanvas()),t=this.pointSize+this.blurSize,r=2*t;e.width=r,e.height=r;var n=e.getContext("2d");return n.clearRect(0,0,r,r),n.shadowOffsetX=r,n.shadowBlur=this.blurSize,n.shadowColor="#000",n.beginPath(),n.arc(-t,t,this.pointSize,0,2*Math.PI,!0),n.closePath(),n.fill(),e},e.prototype._getGradient=function(e,t){for(var r=this._gradientPixels,n=r[t]||(r[t]=new Uint8ClampedArray(1024)),a=[0,0,0,0],i=0,o=0;o<256;o++)e[t](o/255,!0,a),n[i++]=a[0],n[i++]=a[1],n[i++]=a[2],n[i++]=a[3];return n},e}();var u=r("../node_modules/echarts/lib/view/Chart.js"),c=r("../node_modules/echarts/lib/coord/CoordinateSystem.js"),g=r("../node_modules/echarts/lib/label/labelStyle.js");function d(e){var t=e.dimensions;return"lng"===t[0]&&"lat"===t[1]}const f=function(e){function t(){var r=null!==e&&e.apply(this,arguments)||this;return r.type=t.type,r}return(0,a.ZT)(t,e),t.prototype.render=function(e,t,r){var n;t.eachComponent("visualMap",(function(t){t.eachTargetSeries((function(r){r===e&&(n=t)}))})),this.group.removeAll(),this._incrementalDisplayable=null;var a=e.coordinateSystem;"cartesian2d"===a.type||"calendar"===a.type?this._renderOnCartesianAndCalendar(e,r,0,e.getData().count()):d(a)&&this._renderOnGeo(a,e,n,r)},t.prototype.incrementalPrepareRender=function(e,t,r){this.group.removeAll()},t.prototype.incrementalRender=function(e,t,r,n){var a=t.coordinateSystem;a&&(d(a)?this.render(t,r,n):this._renderOnCartesianAndCalendar(t,n,e.start,e.end,!0))},t.prototype._renderOnCartesianAndCalendar=function(e,t,r,n,a){var o,s,h,u,d=e.coordinateSystem;if((0,c.H)(d,"cartesian2d")){var f=d.getAxis("x"),p=d.getAxis("y");o=f.getBandWidth(),s=p.getBandWidth(),h=f.scale.getExtent(),u=p.scale.getExtent()}for(var m=this.group,v=e.getData(),y=e.getModel(["emphasis","itemStyle"]).getItemStyle(),w=e.getModel(["blur","itemStyle"]).getItemStyle(),b=e.getModel(["select","itemStyle"]).getItemStyle(),S=(0,g.k3)(e),M=e.get(["emphasis","focus"]),_=e.get(["emphasis","blurScope"]),x=(0,c.H)(d,"cartesian2d")?[v.mapDimension("x"),v.mapDimension("y"),v.mapDimension("value")]:[v.mapDimension("time"),v.mapDimension("value")],A=r;A<n;A++){var C=void 0,I=v.getItemVisual(A,"style");if((0,c.H)(d,"cartesian2d")){var O=v.get(x[0],A),P=v.get(x[1],A);if(isNaN(v.get(x[2],A))||O<h[0]||O>h[1]||P<u[0]||P>u[1])continue;var D=d.dataToPoint([O,P]);C=new i.Z({shape:{x:Math.floor(Math.round(D[0])-o/2),y:Math.floor(Math.round(D[1])-s/2),width:Math.ceil(o),height:Math.ceil(s)},style:I})}else{if(isNaN(v.get(x[1],A)))continue;C=new i.Z({z2:1,shape:d.dataToRect([v.get(x[0],A)]).contentShape,style:I})}var z=v.getItemModel(A);if(v.hasItemOption){var j=z.getModel("emphasis");y=j.getModel("itemStyle").getItemStyle(),w=z.getModel(["blur","itemStyle"]).getItemStyle(),b=z.getModel(["select","itemStyle"]).getItemStyle(),M=j.get("focus"),_=j.get("blurScope"),S=(0,g.k3)(z)}var R=e.getRawValue(A),k="-";R&&null!=R[2]&&(k=R[2]+""),(0,g.ni)(C,S,{labelFetcher:e,labelDataIndex:A,defaultOpacity:I.opacity,defaultText:k}),C.ensureState("emphasis").style=y,C.ensureState("blur").style=w,C.ensureState("select").style=b,(0,l.vF)(C,M,_),C.incremental=a,a&&(C.states.emphasis.hoverLayer=!0),m.add(C),v.setItemGraphicEl(A,C)}},t.prototype._renderOnGeo=function(e,t,r,n){var a=r.targetVisuals.inRange,i=r.targetVisuals.outOfRange,l=t.getData(),u=this._hmLayer||this._hmLayer||new h;u.blurSize=t.get("blurSize"),u.pointSize=t.get("pointSize"),u.minOpacity=t.get("minOpacity"),u.maxOpacity=t.get("maxOpacity");var c=e.getViewRect().clone(),g=e.getRoamTransform();c.applyTransform(g);var d=Math.max(c.x,0),f=Math.max(c.y,0),p=Math.min(c.width+c.x,n.getWidth()),m=Math.min(c.height+c.y,n.getHeight()),v=p-d,y=m-f,w=[l.mapDimension("lng"),l.mapDimension("lat"),l.mapDimension("value")],b=l.mapArray(w,(function(t,r,n){var a=e.dataToPoint([t,r]);return a[0]-=d,a[1]-=f,a.push(n),a})),S=r.getExtent(),M="visualMap.continuous"===r.type?function(e,t){var r=e[1]-e[0];return t=[(t[0]-e[0])/r,(t[1]-e[0])/r],function(e){return e>=t[0]&&e<=t[1]}}(S,r.option.range):function(e,t,r){var n=e[1]-e[0],a=(t=s.map(t,(function(t){return{interval:[(t.interval[0]-e[0])/n,(t.interval[1]-e[0])/n]}}))).length,i=0;return function(e){var n;for(n=i;n<a;n++)if((o=t[n].interval)[0]<=e&&e<=o[1]){i=n;break}if(n===a)for(n=i-1;n>=0;n--){var o;if((o=t[n].interval)[0]<=e&&e<=o[1]){i=n;break}}return n>=0&&n<a&&r[n]}}(S,r.getPieceList(),r.option.selected);u.update(b,v,y,a.color.getNormalizer(),{inRange:a.color.getColorMapper(),outOfRange:i.color.getColorMapper()},M);var _=new o.ZP({style:{width:v,height:y,x:d,y:f,image:u.canvas},silent:!0});this.group.add(_)},t.type="heatmap",t}(u.Z);var p=r("../node_modules/echarts/lib/model/Series.js"),m=r("../node_modules/echarts/lib/chart/helper/createSeriesData.js"),v=r("../node_modules/echarts/lib/core/CoordinateSystem.js");const y=function(e){function t(){var r=null!==e&&e.apply(this,arguments)||this;return r.type=t.type,r}return(0,a.ZT)(t,e),t.prototype.getInitialData=function(e,t){return(0,m.Z)(null,this,{generateCoord:"value"})},t.prototype.preventIncremental=function(){var e=v.Z.get(this.get("coordinateSystem"));if(e&&e.dimensions)return"lng"===e.dimensions[0]&&"lat"===e.dimensions[1]},t.type="series.heatmap",t.dependencies=["grid","geo","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",zlevel:0,z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},t}(p.Z);(0,n.D)((function(e){e.registerChartView(f),e.registerSeriesModel(y)}))}}]);
//# sourceMappingURL=../sourcemaps/vendors-node_modules_downsample_methods_ASAP_js-node_modules_echarts_lib_chart_heatmap_js.1e4adb58870f427f980e96d085da2dc8.js.map