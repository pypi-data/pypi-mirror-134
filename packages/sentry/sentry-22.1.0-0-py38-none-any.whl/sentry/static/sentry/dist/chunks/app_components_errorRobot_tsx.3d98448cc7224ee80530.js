"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["app_components_errorRobot_tsx"],{"./app/components/errorRobot.tsx":(e,t,s)=>{s.r(t),s.d(t,{ErrorRobot:()=>y,default:()=>f});var a=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),r=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=(s("../node_modules/core-js/modules/web.dom-collections.iterator.js"),s("../node_modules/react/index.js")),n=s("./images/spot/sentry-robot.png"),i=s("./app/components/button.tsx"),p=(s("../node_modules/core-js/modules/web.url.js"),s("./app/utils/analytics/trackAdvancedAnalyticsEvent.tsx")),c=s("./app/utils/useOrganization.tsx"),d=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function l({scenario:e,projectSlug:t,errorType:s,clientData:a,...r}){const o=(0,c.Z)(),n=new URL("https://try.sentry-demo.com/demo/start/");e&&n.searchParams.append("scenario",e),t&&n.searchParams.append("projectSlug",t),s&&n.searchParams.append("errorType",s);const l={skipEmail:!0,acceptedTracking:!0,...a};return n.searchParams.append("client",JSON.stringify(l)),(0,d.tZ)(i.ZP,{external:!0,href:n.toString(),onClick:()=>(0,p.Z)("growth.clicked_enter_sandbox",{scenario:e,organization:o}),...r})}l.displayName="DemoSandboxButton";const m=l;var u=s("./app/components/links/link.tsx"),h=s("./app/locale.tsx"),g=s("./app/styles/space.tsx"),x=s("./app/utils.tsx"),b=s("./app/utils/analytics.tsx"),v=s("./app/utils/withApi.tsx"),w=s("./app/views/onboarding/createSampleEventButton.tsx");class y extends o.Component{constructor(...e){super(...e),(0,a.Z)(this,"state",{error:!1,loading:!1,sampleIssueId:this.props.sampleIssueId})}componentDidMount(){this.fetchData(),(0,b.qr)({key:"ViewSampleSandboxExperiment",organization:this.props.org})}async fetchData(){const{org:e,project:t}=this.props,{sampleIssueId:s}=this.state;if(!t)return;if((0,x.ri)(s))return;const a="/projects/".concat(e.slug,"/").concat(t.slug,"/issues/");this.setState({loading:!0});try{const e=await this.props.api.requestPromise(a,{method:"GET",data:{limit:1}});this.setState({sampleIssueId:e.length>0&&e[0].id||""})}catch(e){var r,o;const t=null===(r=null==e||null===(o=e.responseJSON)||void 0===o?void 0:o.detail)||void 0===r||r;this.setState({error:t})}this.setState({loading:!1})}render(){const{loading:e,error:t,sampleIssueId:s}=this.state,{org:a,project:r,gradient:o}=this.props;let n;return n=a.experiments.ViewSampleSandboxExperiment?(0,d.tZ)(m,{scenario:"oneIssue",size:"small",priority:"link",clientData:{cta:{id:"sample_issue",title:(0,h.t)("Finish Setup"),shortTitle:(0,h.t)("Setup"),url:window.location.href}},children:(0,h.t)("See a Sample Event")}):r&&!e&&!t&&s?(0,d.tZ)("p",{children:(0,d.tZ)(u.Z,{to:"/".concat(a.slug,"/").concat(r.slug,"/issues/").concat(s,"/?sample"),children:(0,h.t)("Or see your sample event")})}):(0,d.tZ)("p",{children:(0,d.tZ)(w.Z,{priority:"link",project:r,source:"issues_list",disabled:!r,title:r?void 0:(0,h.t)("Select a project to create a sample event"),children:(0,h.t)("Create a sample event")})}),(0,d.BX)(Z,{"data-test-id":"awaiting-events",className:"awaiting-events",gradient:o,children:[(0,d.tZ)(j,{"aria-hidden":!0,children:(0,d.tZ)(k,{})}),(0,d.BX)(S,{children:[(0,d.tZ)("h3",{children:(0,h.t)("Waiting for eventsâ€¦")}),(0,d.tZ)("p",{children:(0,h._N)("Our error robot is waiting to [strike:devour] receive your first event.",{strike:(0,d.tZ)(_,{})})}),(0,d.tZ)("p",{children:r&&(0,d.tZ)(i.ZP,{"data-test-id":"install-instructions",priority:"primary",to:"/".concat(a.slug,"/").concat(r.slug,"/getting-started/").concat(r.platform||""),children:(0,h.t)("Installation Instructions")})}),n]})]})}}y.displayName="ErrorRobot";const f=(0,v.Z)(y),Z=(0,r.Z)("div",{target:"ek4sdqz4"})("display:flex;justify-content:center;font-size:",(e=>e.theme.fontSizeExtraLarge),";box-shadow:inset 0 1px 3px rgba(0, 0, 0, 0.08);border-radius:0 0 3px 3px;padding:40px ",(0,g.Z)(3)," ",(0,g.Z)(3),";min-height:260px;@media (max-width: ",(e=>e.theme.breakpoints[0]),"){flex-direction:column;align-items:center;padding:",(0,g.Z)(3),";text-align:center;}"),j=(0,r.Z)("div",{target:"ek4sdqz3"})("display:block;position:relative;width:220px;height:260px;background:url(",n,");background-size:cover;@media (max-width: ",(e=>e.theme.breakpoints[0]),"){width:110px;height:130px;}"),k=(0,r.Z)("span",{target:"ek4sdqz2"})("width:12px;height:12px;border-radius:50%;position:absolute;top:70px;left:81px;transform:translateZ(0);animation:blink-eye 0.6s infinite;@media (max-width: ",(e=>e.theme.breakpoints[0]),"){width:6px;height:6px;top:35px;left:41px;}@keyframes blink-eye{0%{background:#e03e2f;box-shadow:0 0 10px #e03e2f;}50%{background:#4a4d67;box-shadow:none;}100%{background:#e03e2f;box-shadow:0 0 10px #e03e2f;}}"),S=(0,r.Z)("div",{target:"ek4sdqz1"})("align-self:center;max-width:480px;margin-left:40px;@media (max-width: ",(e=>e.theme.breakpoints[0]),"){margin:0;}"),_=(0,r.Z)("span",{target:"ek4sdqz0"})({name:"1rcj98u",styles:"text-decoration:line-through"})},"./app/views/onboarding/createSampleEventButton.tsx":(e,t,s)=>{s.d(t,{Z:()=>v});var a=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),r=(s("../node_modules/core-js/modules/web.dom-collections.iterator.js"),s("../node_modules/react/index.js")),o=s("../node_modules/react-router/es/index.js"),n=s("../node_modules/@sentry/minimal/esm/index.js"),i=s("../node_modules/@sentry/types/esm/severity.js"),p=s("./app/actionCreators/indicator.tsx"),c=s("./app/components/button.tsx"),d=s("./app/locale.tsx"),l=s("./app/utils/analytics.tsx"),m=s("./app/utils/analytics/trackAdvancedAnalyticsEvent.tsx"),u=s("./app/utils/withApi.tsx"),h=s("./app/utils/withOrganization.tsx"),g=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const x=1e3;class b extends r.Component{constructor(...e){super(...e),(0,a.Z)(this,"state",{creating:!1}),(0,a.Z)(this,"createSampleGroup",(async()=>{const{api:e,organization:t,project:s}=this.props;let a;if(!s)return;(0,m.Z)("growth.onboarding_view_sample_event",{platform:s.platform,organization:t}),(0,p.E3)((0,d.t)("Processing sample event..."),{duration:15e3}),this.setState({creating:!0});try{const r="/projects/".concat(t.slug,"/").concat(s.slug,"/create-sample/");a=await e.requestPromise(r,{method:"POST"})}catch(e){return n.$e((t=>{t.setExtra("error",e),n.Tb(new Error("Failed to create sample event"))})),this.setState({creating:!1}),(0,p.B8)(),void(0,p.Iw)((0,d.t)("Failed to create a new sample event"))}const r=performance.now(),{eventCreated:c,retries:l}=await async function(e,t){let s=0;for(;;){if(s>15)return{eventCreated:!1,retries:s-1};await new Promise((e=>setTimeout(e,x)));try{return await e.requestPromise("/issues/".concat(t,"/events/latest/")),{eventCreated:!0,retries:s}}catch{++s}}}(e,a.groupID),u=performance.now();(0,p.B8)(),this.setState({creating:!1});const h=Math.ceil(u-r);if(this.recordAnalytics({eventCreated:c,retries:l,duration:h}),!c)return(0,p.Iw)((0,d.t)("Failed to load sample event")),void n.$e((e=>{e.setTag("groupID",a.groupID),e.setTag("platform",s.platform||""),e.setTag("interval",x.toString()),e.setTag("retries",l.toString()),e.setTag("duration",h.toString()),e.setLevel(i.z.Warning),n.uT("Failed to load sample event")}));o.browserHistory.push("/organizations/".concat(t.slug,"/issues/").concat(a.groupID,"/?project=").concat(s.id))}))}componentDidMount(){const{organization:e,project:t,source:s}=this.props;t&&(0,l.qJ)({eventKey:"sample_event.button_viewed",org_id:e.id,project_id:t.id,source:s})}recordAnalytics({eventCreated:e,retries:t,duration:s}){const{organization:a,project:r,source:o}=this.props;if(!r)return;const n="sample_event.".concat(e?"created":"failed"),i="Sample Event ".concat(e?"Created":"Failed");(0,l.ec)({eventKey:n,eventName:i,organization_id:a.id,project_id:r.id,platform:r.platform||"",interval:x,retries:t,duration:s,source:o})}render(){const{api:e,organization:t,project:s,source:a,...r}=this.props,{creating:o}=this.state;return(0,g.tZ)(c.ZP,{...r,"data-test-id":"create-sample-event",disabled:r.disabled||o,onClick:this.createSampleGroup})}}b.displayName="CreateSampleEventButton";const v=(0,u.Z)((0,h.Z)(b))},"./images/spot/sentry-robot.png":(e,t,s)=>{e.exports=s.p+"assets/sentry-robot.a95c7ba7b98be5973a7a.png"}}]);
//# sourceMappingURL=../sourcemaps/app_components_errorRobot_tsx.ac3450c309ac21f8988fe6b66a22ad57.js.map