(self.webpackChunk=self.webpackChunk||[]).push([["app_components_links_listLink_tsx-app_views_performance_transactionSummary_transactionSpans_s-87d064"],{"./app/actionCreators/events.tsx":(e,t,r)=>{"use strict";r.d(t,{lI:()=>l,eV:()=>c,JE:()=>d}),r("../node_modules/core-js/modules/es.object.from-entries.js"),r("../node_modules/core-js/modules/web.dom-collections.iterator.js");var n=r("../node_modules/lodash/pick.js"),s=r.n(n),a=r("./app/components/charts/utils.tsx"),o=r("./app/utils/getPeriod.tsx"),i=r("./app/utils/performance/constants.tsx");const l=(e,{organization:t,project:r,environment:n,team:s,period:i,start:l,end:c,interval:d,comparisonDelta:p,includePrevious:u,query:m,yAxis:h,field:g,topEvents:v,orderby:f,partial:y,withoutZerofill:x,referrer:Z,queryBatching:w,generatePathname:b,queryExtras:j})=>{var S;const D=(0,a.Sw)(u,i),_={query:{...Object.fromEntries(Object.entries({interval:d,comparisonDelta:p,project:r,environment:n,team:s,query:m,yAxis:h,field:g,topEvents:v,orderby:f,partial:y?"1":void 0,withoutZerofill:x?"1":void 0,referrer:Z||"api.organization-event-stats"}).filter((([,e])=>void 0!==e))),...(0,o.X)({period:i,start:l,end:c},{shouldDoublePeriod:D}),...j}},P=null!==(S=null==b?void 0:b(t))&&void 0!==S?S:"/organizations/".concat(t.slug,"/events-stats/");return null!=w&&w.batchRequest?w.batchRequest(e,P,_):e.requestPromise(P,_)};async function c(e,t,r){const n={...s()(r,Object.values(i.s)),query:r.query};return e.requestPromise("/organizations/".concat(t,"/events-facets/"),{query:n})}async function d(e,t,r){const n={...s()(r,Object.values(i.s)),query:r.query};return e.requestPromise("/organizations/".concat(t,"/events-meta/"),{query:n}).then((e=>e.count))}},"./app/components/charts/chartZoom.tsx":(e,t,r)=>{"use strict";r.d(t,{Z:()=>g});var n=r("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),s=r("../node_modules/react/index.js"),a=r("../node_modules/moment/moment.js"),o=r.n(a),i=r("../node_modules/query-string/index.js"),l=r("./app/actionCreators/pageFilters.tsx"),c=r("./app/components/charts/components/dataZoomInside.tsx"),d=r("./app/components/charts/components/toolBox.tsx"),p=r("./app/utils/callIfFunction.tsx"),u=r("./app/utils/dates.tsx");const m=e=>e?o().utc(e).format(o().HTML5_FMT.DATETIME_LOCAL_SECONDS):null;class h extends s.Component{constructor(e){super(e),(0,n.Z)(this,"history",void 0),(0,n.Z)(this,"currentPeriod",void 0),(0,n.Z)(this,"zooming",null),(0,n.Z)(this,"saveCurrentPeriod",(e=>{this.currentPeriod={period:e.period,start:m(e.start),end:m(e.end)}})),(0,n.Z)(this,"setPeriod",(({period:e,start:t,end:r},n=!1)=>{const{router:s,onZoom:a,usePageDate:o}=this.props,c=m(t),d=m(r);n&&this.history.push(this.currentPeriod),(0,p.g)(a,{period:e,start:c,end:d}),this.zooming=()=>{if(o&&s){const n={...s.location.query,pageStart:t?(0,u.v5)(t):void 0,pageEnd:r?(0,u.v5)(r):void 0,pageStatsPeriod:null!=e?e:void 0};i.stringify(n)!==i.stringify(s.location.query)&&s.push({pathname:s.location.pathname,query:n})}else(0,l.dR)({period:e,start:c?(0,u.hC)(c):c,end:d?(0,u.hC)(d):d},s);this.saveCurrentPeriod({period:e,start:t,end:r})}})),(0,n.Z)(this,"handleChartReady",(e=>{(0,p.g)(this.props.onChartReady,e)})),(0,n.Z)(this,"handleZoomRestore",((e,t)=>{this.history.length&&(this.setPeriod(this.history[0]),this.history=[],(0,p.g)(this.props.onRestore,e,t))})),(0,n.Z)(this,"handleDataZoom",((e,t)=>{const r=t.getModel(),{startValue:n,endValue:s}=r._payload.batch[0];if(null===n&&null===s){const e=this.history.pop();if(!e)return;this.setPeriod(e)}else{const e=o().utc(n),t=o().utc(s);this.setPeriod({period:null,start:e,end:t},!0)}(0,p.g)(this.props.onDataZoom,e,t)})),(0,n.Z)(this,"handleChartFinished",((e,t)=>{var r;"function"==typeof this.zooming&&(this.zooming(),this.zooming=null);const n=null===(r=t._componentsViews)||void 0===r?void 0:r.find((e=>e._features&&e._features.dataZoom));n&&!n._features.dataZoom._isZoomActive&&t.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:!0}),(0,p.g)(this.props.onFinished)})),this.history=[],this.saveCurrentPeriod(e)}componentDidUpdate(){this.props.disabled||this.saveCurrentPeriod(this.props)}render(){const{utc:e,start:t,end:r,disabled:n,children:s,xAxisIndex:a,router:o,onZoom:i,onRestore:l,onChartReady:p,onDataZoom:m,onFinished:h,...g}=this.props,v=null!=e?e:void 0,f=t?(0,u.hC)(t):void 0,y=r?(0,u.hC)(r):void 0;return s(n?{utc:v,start:f,end:y,...g}:{isGroupedByDate:!0,onChartReady:this.handleChartReady,utc:v,start:f,end:y,dataZoom:(0,c.Z)({xAxisIndex:a}),showTimeInTooltip:!0,toolBox:(0,d.Z)({},{dataZoom:{title:{zoom:"",back:""},iconStyle:{borderWidth:0,color:"transparent",opacity:0}}}),onDataZoom:this.handleDataZoom,onFinished:this.handleChartFinished,onRestore:this.handleZoomRestore,...g})}}h.displayName="ChartZoom";const g=h},"./app/components/charts/eventsRequest.tsx":(e,t,r)=>{"use strict";r.d(t,{Z:()=>x});var n=r("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),s=(r("../node_modules/core-js/modules/web.dom-collections.iterator.js"),r("../node_modules/react/index.js")),a=r("../node_modules/lodash/isEqual.js"),o=r.n(a),i=r("../node_modules/lodash/omitBy.js"),l=r.n(i),c=r("./app/actionCreators/events.tsx"),d=r("./app/actionCreators/indicator.tsx"),p=r("./app/components/charts/loadingPanel.tsx"),u=r("./app/components/charts/utils.tsx"),m=r("./app/locale.tsx"),h=r("./app/utils/discover/fields.tsx"),g=r("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const v=["api","children","organization","loading","queryBatching","generatePathname"],f=e=>l()(e,((e,t)=>v.includes(t)));class y extends s.PureComponent{constructor(...e){super(...e),(0,n.Z)(this,"state",{reloading:!!this.props.loading,errored:!1,timeseriesData:null,fetchedWithPrevious:!1}),(0,n.Z)(this,"unmounting",!1),(0,n.Z)(this,"fetchData",(async()=>{const{api:e,confirmedQuery:t,expired:r,name:n,hideError:s,...a}=this.props;let o,i=null;if(!1!==t){if(this.setState((e=>({reloading:null!==e.timeseriesData,errored:!1,errorMessage:void 0}))),r)o=(0,m.t)("%s has an invalid date range. Please try a more recent date range.",n),(0,d.Iw)(o,{append:!0}),this.setState({errored:!0,errorMessage:o});else try{e.clear(),i=await(0,c.lI)(e,a)}catch(e){o=e&&e.responseJSON&&e.responseJSON.detail?e.responseJSON.detail:(0,m.t)("Error loading chart data"),s||(0,d.Iw)(o),this.setState({errored:!0,errorMessage:o})}this.unmounting||this.setState({reloading:!1,timeseriesData:i,fetchedWithPrevious:a.includePrevious})}})),(0,n.Z)(this,"getData",(e=>{const{fetchedWithPrevious:t}=this.state,{period:r,includePrevious:n}=this.props,s=t||(0,u.Sw)(n,r),a=Math.floor(e.length/2);return{current:s?e.slice(a):e,previous:s?e.slice(0,a):null}}))}componentDidMount(){this.fetchData()}componentDidUpdate(e){o()(f(e),f(this.props))||this.fetchData()}componentWillUnmount(){this.unmounting=!0}calculateTotalsPerTimestamp(e,t=(e=>1e3*e)){return e.map((([e,r],n)=>({name:t(e,r,n),value:r.reduce(((e,{count:t})=>e+t),0)})))}transformPreviousPeriodData(e,t,r){return t?{seriesName:null!=r?r:"Previous",data:this.calculateTotalsPerTimestamp(t,((t,r,n)=>1e3*e[n][0])),stack:"previous"}:null}transformAggregatedTimeseries(e,t=""){return{seriesName:t,data:this.calculateTotalsPerTimestamp(e)}}transformTimeseriesData(e,t){return[{seriesName:t||"Current",data:e.map((([e,t])=>({name:1e3*e,value:t.reduce(((e,{count:t})=>e+t),0)})))}]}transformComparisonTimeseriesData(e){return[{seriesName:"comparisonCount()",data:e.map((([e,t])=>({name:1e3*e,value:t.reduce(((e,{comparisonCount:t})=>e+(null!=t?t:0)),0)})))}]}processData(e,t=0,r){var n;const{data:s,totals:a}=e,{includeTransformedData:o,includeTimeAggregation:i,timeAggregationSeriesName:l,currentSeriesNames:c,previousSeriesNames:d,comparisonDelta:p}=this.props,{current:u,previous:m}=this.getData(s);return{data:o?this.transformTimeseriesData(u,null!=r?r:null==c?void 0:c[t]):[],comparisonData:o&&p?this.transformComparisonTimeseriesData(u):[],allData:s,originalData:u,totals:a,originalPreviousData:m,previousData:o?this.transformPreviousPeriodData(u,m,null!==(n=r?"previous ".concat(r):void 0)&&void 0!==n?n:null==d?void 0:d[t]):null,timeAggregatedData:i?this.transformAggregatedTimeseries(u,l||""):{},timeframe:e.start&&e.end?m?{start:500*(e.start+e.end),end:1e3*e.end}:{start:1e3*e.start,end:1e3*e.end}:void 0}}render(){const{children:e,showLoading:t,...r}=this.props,{timeseriesData:n,reloading:s,errored:a,errorMessage:o}=this.state,i=this.props.loading||null===n;if(t&&i)return(0,g.tZ)(p.Z,{"data-test-id":"events-request-loading"});if((0,u.Xe)(n)){let t;const l=Object.keys(n).map(((e,r)=>{const s=n[e],a=this.processData(s,r,(0,h.bQ)(e));return t||(t=a.timeframe),[s.order||0,a.data[0],a.previousData]})).sort(((e,t)=>e[0]-t[0])),c=l.map((e=>e[1])),d=l.some((e=>null===e[2]))?void 0:l.map((e=>e[2]));return e({loading:i,reloading:s,errored:a,errorMessage:o,results:c,timeframe:t,previousTimeseriesData:d,...r})}if(n){const{data:t,comparisonData:l,allData:c,originalData:d,totals:p,originalPreviousData:u,previousData:m,timeAggregatedData:h,timeframe:g}=this.processData(n);return e({loading:i,reloading:s,errored:a,errorMessage:o,timeseriesData:t,comparisonTimeseriesData:l,allTimeseriesData:c,originalTimeseriesData:d,timeseriesTotals:p,originalPreviousTimeseriesData:u,previousTimeseriesData:m?[m]:m,timeAggregatedData:h,timeframe:g,...r})}return e({loading:i,reloading:s,errored:a,errorMessage:o,...r})}}y.displayName="EventsRequest",(0,n.Z)(y,"defaultProps",{period:void 0,start:null,end:null,interval:"1d",comparisonDelta:void 0,limit:15,query:"",includePrevious:!0,includeTransformedData:!0});const x=y},"./app/components/charts/lineChart.tsx":(e,t,r)=>{"use strict";r.d(t,{Z:()=>i}),r("../node_modules/react/index.js");var n=r("./app/components/charts/series/lineSeries.tsx"),s=r("./app/components/charts/baseChart.tsx"),a=r("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function o({series:e,seriesOptions:t,...r}){return(0,a.tZ)(s.Z,{...r,series:e.map((({seriesName:e,data:r,dataArray:s,...a})=>(0,n.Z)({...t,...a,name:e,data:s||(null==r?void 0:r.map((({value:e,name:t})=>[t,e]))),animation:!1,animationThreshold:1,animationDuration:0})))})}o.displayName="LineChart";const i=o},"./app/components/charts/transitionChart.tsx":(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var n=r("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),s=(r("../node_modules/core-js/modules/web.dom-collections.iterator.js"),r("../node_modules/react/index.js")),a=r("./app/components/charts/loadingPanel.tsx"),o=r("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class i extends s.Component{constructor(...e){super(...e),(0,n.Z)(this,"state",{prevReloading:this.props.reloading,prevLoading:this.props.loading,key:1})}static getDerivedStateFromProps(e,t){const r=t.prevReloading,n=e.reloading,s=t.prevLoading,a=e.loading;return s!==a?{prevReloading:n,prevLoading:a,key:t.key+1}:a?{prevReloading:n,prevLoading:a,key:t.key}:r&&!n?{prevReloading:n,prevLoading:a,key:t.key+1}:{prevReloading:n,prevLoading:a,key:t.key}}render(){const{height:e,loading:t,reloading:r}=this.props;return t&&!r?(0,o.tZ)(a.Z,{height:e,"data-test-id":"events-request-loading"}):(0,o.tZ)(s.Fragment,{children:this.props.children},String(this.state.key))}}i.displayName="TransitionChart",(0,n.Z)(i,"defaultProps",{height:"200px"});const l=i},"./app/components/charts/transparentLoadingMask.tsx":(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),s=(r("../node_modules/react/index.js"),r("./app/components/loadingMask.tsx")),a=r("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const o=(0,n.Z)((({className:e,visible:t,children:r,...n})=>{const o=t?{...n,"data-test-id":"loading-placeholder"}:n;return(0,a.tZ)(s.Z,{className:e,...o,children:r})}),{target:"ewtkxp50"})((e=>!e.visible&&"display: none;"),";opacity:0.4;z-index:1;")},"./app/components/gridEditable/sortLink.tsx":(e,t,r)=>{"use strict";r.d(t,{Z:()=>h});var n=r("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),s=r("../node_modules/react/index.js"),a=r("../node_modules/lodash/omit.js"),o=r.n(a),i=r("./app/components/links/link.tsx"),l=r("./app/icons/index.tsx"),c=r("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class d extends s.Component{renderArrow(){const{direction:e}=this.props;return e?"desc"===e?(0,c.tZ)(m,{size:"xs",direction:"down"}):(0,c.tZ)(m,{size:"xs",direction:"up"}):null}render(){const{align:e,title:t,canSort:r,generateSortLink:n,onClick:s}=this.props,a=n();return a&&r?(0,c.BX)(p,{align:e,to:a,onClick:s,children:[t," ",this.renderArrow()]}):(0,c.tZ)(u,{align:e,children:t})}}d.displayName="SortLink";const p=(0,n.Z)((e=>{const t=o()(e,["align"]);return(0,c.tZ)(i.Z,{...t})}),{target:"e1xb2te62"})("display:block;width:100%;white-space:nowrap;color:inherit;&:hover,&:active,&:focus,&:visited{color:inherit;}",(e=>e.align?"text-align: ".concat(e.align,";"):""),";"),u=(0,n.Z)("div",{target:"e1xb2te61"})("display:block;width:100%;white-space:nowrap;",(e=>e.align?"text-align: ".concat(e.align,";"):""),";"),m=(0,n.Z)(l.CC,{target:"e1xb2te60"})({name:"40f4ru",styles:"vertical-align:top"}),h=d},"./app/components/links/listLink.tsx":(e,t,r)=>{"use strict";r.d(t,{Z:()=>h});var n=r("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),s=r("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),a=(r("../node_modules/core-js/modules/web.dom-collections.iterator.js"),r("../node_modules/react/index.js")),o=r("../node_modules/react-router/es/index.js"),i=r("../node_modules/classnames/index.js"),l=r.n(i),c=r("../node_modules/lodash/omit.js"),d=r.n(c),p=r("../node_modules/query-string/index.js"),u=r("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class m extends a.Component{constructor(...e){super(...e),(0,n.Z)(this,"getClassName",(()=>{const e={},{className:t,activeClassName:r}=this.props;return t&&(e[t]=!0),this.isActive()&&r&&(e[r]=!0),l()(e)}))}isActive(){const{isActive:e,to:t,query:r,index:n,router:s}=this.props,a=r?p.parse(r):void 0,o="string"==typeof t?{pathname:t,query:a}:t;return"function"==typeof e?e(o,n):s.isActive(o,n)}render(){const{index:e,children:t,to:r,disabled:n,...s}=this.props,a=d()(s,"activeClassName","css","isActive","index","router","location");return(0,u.tZ)(g,{className:this.getClassName(),disabled:n,children:(0,u.tZ)(o.Link,{...a,onlyActiveOnIndex:e,to:n?"":r,children:t})})}}m.displayName="ListLink",(0,n.Z)(m,"displayName","ListLink"),(0,n.Z)(m,"defaultProps",{activeClassName:"active",index:!1,disabled:!1});const h=(0,o.withRouter)(m),g=(0,s.Z)("li",{shouldForwardProp:e=>"disabled"!==e,target:"er8tqc10"})((e=>e.disabled&&"\n   a {\n    color:".concat(e.theme.disabled," !important;\n    pointer-events: none;\n    :hover {\n      color: ").concat(e.theme.disabled,"  !important;\n    }\n   }\n")),";")},"./app/utils/discover/discoverQuery.tsx":(e,t,r)=>{"use strict";r.d(t,{Z:()=>l}),r("../node_modules/react/index.js");var n=r("./app/utils/withApi.tsx"),s=r("./app/utils/discover/genericDiscoverQuery.tsx"),a=r("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function o(e,t){return e.transactionName!==t.transactionName||e.transactionThreshold!==t.transactionThreshold||e.transactionThresholdMetric!==t.transactionThresholdMetric}function i(e){return(0,a.tZ)(s.ZP,{route:"eventsv2",shouldRefetchData:o,...e})}i.displayName="DiscoverQuery";const l=(0,n.Z)(i)},"./app/utils/getPeriod.tsx":(e,t,r)=>{"use strict";r.d(t,{X:()=>i}),r("../node_modules/core-js/modules/web.dom-collections.iterator.js");var n=r("../node_modules/moment/moment.js"),s=r.n(n),a=r("./app/constants/index.tsx"),o=r("./app/utils/dates.tsx");const i=({period:e,start:t,end:r},{shouldDoublePeriod:n}={})=>{if(e||t||r||(e=a.GY),e){if(!n)return{statsPeriod:e};const[,t,r]=e.match(/([0-9]+)([mhdw])/);return{statsPeriod:"".concat(2*parseInt(t,10)).concat(r)}}if(!t||!r)throw new Error("start and end required");const i=(0,o.v5)(t),l=(0,o.v5)(r);if(n){const e=s()(r).diff(s()(t)),n=s()(t).subtract(e);return{start:(0,o.v5)(n),end:l}}return{start:i,end:l}}},"./app/utils/performance/suspectSpans/suspectSpansQuery.tsx":(e,t,r)=>{"use strict";r.d(t,{Z:()=>p});var n=r("../node_modules/lodash/omit.js"),s=r.n(n),a=r("./app/utils.tsx"),o=r("./app/utils/discover/genericDiscoverQuery.tsx"),i=r("./app/utils/withApi.tsx"),l=r("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function c(e){const{perSuspect:t,spanOps:r,spanGroups:n}=e,s={perSuspect:t,spanOp:r,spanGroup:n};(0,a.ri)(s.perSuspect)||delete s.perSuspect,(0,a.ri)(s.spanOp)||delete s.spanOp,(0,a.ri)(s.spanGroup)||delete s.spanGroup;const o=e.eventView.getEventsAPIPayload(e.location);return Object.assign(s,o)}function d(e){return(0,l.tZ)(o.ZP,{route:"events-spans-performance",getRequestPayload:c,...s()(e,"children"),children:({tableData:t,...r})=>e.children({suspectSpans:t,...r})})}d.displayName="SuspectSpansQuery";const p=(0,i.Z)(d)},"./app/views/performance/transactionSummary/transactionSpans/spanDetails/index.tsx":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>ze});var n=r("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),s=(r("../node_modules/core-js/modules/es.string.trim.js"),r("./app/components/acl/feature.tsx")),a=r("./app/components/noProjectMessage.tsx"),o=r("./app/components/organizations/pageFilters/container.tsx"),i=r("./app/components/sentryDocumentTitle.tsx"),l=r("./app/locale.tsx"),c=r("./app/styles/organization.tsx"),d=r("./app/utils.tsx"),p=r("./app/utils/queryString.tsx"),u=r("./app/utils/useOrganization.tsx"),m=r("./app/utils/useProjects.tsx"),h=r("./app/views/performance/utils.tsx"),g=r("./app/views/performance/transactionSummary/pageLayout.tsx"),v=r("./app/views/performance/transactionSummary/transactionSpans/utils.tsx"),f=(r("../node_modules/core-js/modules/es.symbol.description.js"),r("../node_modules/react/index.js")),y=r("./app/components/charts/styles.tsx"),x=r("./app/components/count.tsx"),Z=r("./app/components/layouts/thirds.tsx"),w=r("./app/styles/overflowEllipsis.tsx"),b=r("./app/styles/space.tsx"),j=r("./app/utils/discover/discoverQuery.tsx"),S=r("./app/utils/formatters.tsx"),D=r("../node_modules/lodash/omit.js"),_=r.n(D),P=r("./app/utils/discover/genericDiscoverQuery.tsx"),C=r("./app/utils/withApi.tsx"),k=r("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function A(e){const{spanOp:t,spanGroup:r}=e,n={span:(0,d.ri)(t)&&(0,d.ri)(r)?"".concat(t,":").concat(r):void 0};(0,d.ri)(n.span)||delete n.span;const s=_()(e.eventView.getEventsAPIPayload(e.location),["field"]);return Object.assign(n,s)}function T(e){return(0,k.tZ)(P.ZP,{route:"events-spans",getRequestPayload:A,..._()(e,"children"),children:({tableData:t,...r})=>e.children({examples:null!=t?t:null,...r})})}T.displayName="SuspectSpansQuery";const q=(0,C.Z)(T);var M=r("./app/utils/performance/suspectSpans/suspectSpansQuery.tsx"),N=r("./app/views/performance/breadcrumb.tsx"),z=r("./app/views/performance/transactionSummary/tabs.tsx"),E=r("./app/views/performance/transactionSummary/transactionSpans/types.tsx"),L=r("../node_modules/react-router/es/index.js"),O=r("./app/components/panels/index.tsx"),R=r("../node_modules/@emotion/react/dist/emotion-element-a8309070.browser.esm.js"),B=r("./app/components/charts/chartZoom.tsx"),X=r("./app/components/charts/errorPanel.tsx"),I=r("./app/components/charts/eventsRequest.tsx"),F=r("./app/components/charts/lineChart.tsx"),V=r("./app/components/charts/transitionChart.tsx"),G=r("./app/components/charts/transparentLoadingMask.tsx"),Q=r("./app/components/charts/utils.tsx"),W=r("./app/components/organizations/pageFilters/parse.tsx"),H=r("./app/components/placeholder.tsx"),J=r("./app/components/questionTooltip.tsx"),U=r("./app/icons/index.tsx"),Y=r("./app/utils/dates.tsx"),K=r("./app/utils/discover/charts.tsx"),$=r("./app/utils/getDynamicText.tsx"),ee=r("./app/utils/useApi.tsx");function te(e){const{location:t,router:r,organization:n,eventView:s,spanSlug:a,withoutZerofill:o}=e,i=(0,ee.Z)(),c=(0,R.u)(),d=s.statsPeriod,p=s.start?(0,Y.hC)(s.start):null,u=s.end?(0,Y.hC)(s.end):null,{utc:m}=(0,W.fK)(t.query),h={start:p,end:u,period:d},g=["percentileArray(spans_exclusive_time, 0.75)","percentileArray(spans_exclusive_time, 0.95)","percentileArray(spans_exclusive_time, 0.99)"],v=e=>{const{selected:r}=e,n=Object.keys(r).filter((e=>!r[e])),s={...t,query:{...t.query,unselectedSeries:n}};L.browserHistory.push(s)};return(0,k.BX)(f.Fragment,{children:[(0,k.BX)(y.ws,{children:[(0,l.t)("Exclusive Time Breakdown"),(0,k.tZ)(J.Z,{size:"sm",position:"top",title:(0,l.t)("Exclusive Time Breakdown reflects the span exclusive time by percentile over time.")})]}),(0,k.tZ)(B.Z,{router:r,period:d,start:p,end:u,utc:"true"===m,children:e=>(0,k.tZ)(I.Z,{api:i,organization:n,project:s.project,environment:s.environment,start:p,end:u,period:d,interval:(0,Q.ZS)(h,"high"),showLoading:!1,query:s.query,includePrevious:!1,yAxis:g,partial:!0,withoutZerofill:o,referrer:"api.performance.transaction-summary.duration-chart",queryExtras:{span:"".concat(a.op,":").concat(a.group)},generatePathname:e=>"/organizations/".concat(e.slug,"/events-spans-stats/"),children:({results:r,errored:n,loading:s,reloading:a,timeframe:o})=>{if(n)return(0,k.tZ)(X.Z,{children:(0,k.tZ)(U.FC,{color:"gray300",size:"lg"})});const i={grid:{left:"10px",right:"10px",top:"40px",bottom:"0px"},colors:c.charts.getColorPalette(g.length-2),seriesOptions:{showSymbol:!1},tooltip:{trigger:"axis",valueFormatter:(e,t)=>(0,K.CX)(e,"p50()")},xAxis:o?{min:o.start,max:o.end}:void 0,yAxis:{axisLabel:{color:c.chartLabel,formatter:e=>(0,K.gu)(e,"p50()")}}},l={right:10,top:5,selected:(0,Q.RI)(t)};return(0,k.BX)(V.Z,{loading:s,reloading:a,children:[(0,k.tZ)(G.Z,{visible:a}),(0,$.Z)({value:(0,k.tZ)(F.Z,{...e,...i,legend:l,onLegendSelectChanged:v,series:null!=r?r:[]}),fixed:(0,k.tZ)(H.Z,{height:"200px"})})]})}})})]})}function re(e){return(0,k.tZ)(O.s_,{children:(0,k.tZ)(y.BO,{children:(0,k.tZ)(te,{...e,withoutZerofill:!1})})})}te.displayName="ExclusiveTimeChart",re.displayName="Chart";const ne=(0,L.withRouter)(re);var se=r("./app/components/gridEditable/index.tsx"),ae=r("./app/components/gridEditable/sortLink.tsx"),oe=r("./app/components/links/link.tsx"),ie=r("./app/components/pagination.tsx"),le=r("./app/components/performance/waterfall/rowBar.tsx"),ce=r("./app/components/performance/waterfall/utils.tsx"),de=r("./app/components/tooltip.tsx"),pe=r("./app/utils/discover/fieldRenderers.tsx"),ue=r("./app/utils/discover/fields.tsx"),me=r("./app/views/performance/transactionSummary/utils.tsx");function he(e){const{location:t,organization:r,project:n,examples:s,suspectSpan:a,transactionName:o,isLoading:i,pageLinks:l}=e;if(!(0,d.ri)(s))return null;const c=s.map((e=>({id:e.id,project:null==n?void 0:n.slug,timestamp:1e3*e.finishTimestamp,transactionDuration:1e3*(e.finishTimestamp-e.startTimestamp),spanDuration:e.nonOverlappingExclusiveTime,occurrences:e.spans.length,cumulativeDuration:e.spans.reduce(((e,t)=>e+t.exclusiveTime),0),spans:e.spans})));return(0,k.BX)(f.Fragment,{children:[(0,k.tZ)(se.ZP,{isLoading:i,data:c,columnOrder:ye,columnSortBy:[],grid:{renderHeadCell:ge,renderBodyCell:ve(t,r,o,a)},location:t}),(0,k.tZ)(ie.Z,{pageLinks:null!=l?l:null})]})}function ge(e,t){const r=(0,ue.qG)(e.key,fe[e.key]);return(0,k.tZ)(ae.Z,{title:e.name,align:r,direction:void 0,canSort:!1,generateSortLink:()=>{}})}function ve(e,t,r,n){return(s,a)=>{var o;if("spanDuration"===s.key&&a.transactionDuration)return(0,k.tZ)(we,{spanOp:null!==(o=null==n?void 0:n.op)&&void 0!==o?o:"",spanDuration:a.spanDuration,transactionDuration:a.transactionDuration});let i=(0,pe.Js)(s.key,fe)(a,{location:e,organization:t});if("id"===s.key){const n=a.spans.length?a.spans.reduce(((e,t)=>e.exclusiveTime>=t.exclusiveTime?e:t)):null,s=(0,me.vd)(r)(t,a,e.query,n.id);i=(0,k.tZ)(oe.Z,{to:s,children:i})}return i}}he.displayName="SpanTable",ge.displayName="renderHeadCell";const fe={id:"string",timestamp:"date",spanDuration:"duration",occurrences:"integer",cumulativeDuration:"duration"},ye=[{key:"id",name:(0,l.t)("Event ID"),width:se.z7},{key:"timestamp",name:(0,l.t)("Timestamp"),width:se.z7},{key:"spanDuration",name:(0,l.t)("Span Duration"),width:se.z7},{key:"occurrences",name:(0,l.t)("Count"),width:se.z7},{key:"cumulativeDuration",name:(0,l.t)("Cumulative Duration"),width:se.z7}],xe=(0,n.Z)("div",{target:"ecfvmyk1"})("position:relative;display:flex;top:",(0,b.Z)(.5),";background-color:",(e=>e.theme.gray100),";"),Ze=(0,n.Z)(le.e,{target:"ecfvmyk0"})({name:"1ics03r",styles:"position:relative;width:100%;top:0"});function we(e){const{spanOp:t,spanDuration:r,transactionDuration:n}=e,s=r/n,a=s<.7?"right":"inset";return(0,k.tZ)(xe,{children:(0,k.tZ)("div",{style:{width:(0,ce.yI)(s)},children:(0,k.tZ)(de.Z,{title:(0,l._N)("[percentage] of the transaction",{percentage:(0,S.rl)(s)}),containerDisplayMode:"block",children:(0,k.tZ)(Ze,{spanBarHatch:!1,style:{backgroundColor:(0,ce.hd)(t)},children:(0,k.tZ)(le.R,{durationDisplay:a,showDetail:!1,spanBarHatch:!1,children:(0,k.tZ)(h.Xr,{abbreviation:!0,milliseconds:r})})})})})})}function be(e){var t;const{location:r,organization:n,eventView:s,project:a,transactionName:o,spanSlug:i}=e;return(0,k.BX)(f.Fragment,{children:[(0,k.tZ)(Z.h4,{children:(0,k.BX)(Z.oB,{children:[(0,k.tZ)(N.Z,{organization:n,location:r,transaction:{project:null!==(t=null==a?void 0:a.id)&&void 0!==t?t:"",name:o},tab:z.Z.Spans,spanSlug:i}),(0,k.tZ)(Z.Dx,{children:o})]})}),(0,k.tZ)(Z.uT,{children:(0,k.tZ)(Z.or,{fullWidth:!0,children:(0,k.tZ)(j.Z,{eventView:(0,v.zW)(s),orgSlug:n.slug,location:r,referrer:"api.performance.transaction-spans",cursor:"0:0:1",noPagination:!0,children:({tableData:e})=>{var t,l,c;const d=null!==(t=null==e||null===(l=e.data)||void 0===l||null===(c=l[0])||void 0===c?void 0:c.count)&&void 0!==t?t:null;return(0,k.tZ)(M.Z,{location:r,orgSlug:n.slug,eventView:De(s),perSuspect:0,spanOps:[i.op],spanGroups:[i.group],cursor:"0:0:1",children:e=>(0,k.tZ)(q,{location:r,orgSlug:n.slug,eventView:s,spanOp:i.op,spanGroup:i.group,limit:10,children:t=>(0,k.tZ)(je,{location:r,organization:n,project:a,eventView:s,spanSlug:i,transactionName:o,totalCount:d,suspectSpansResults:e,spanExamplesResults:t})})})}})})})]})}function je(e){var t,r,n;const{location:s,organization:a,project:o,eventView:i,spanSlug:l,transactionName:c,totalCount:d,suspectSpansResults:p,spanExamplesResults:u}=e,m=null===(t=p.suspectSpans)||void 0===t?void 0:t[0],h=null===(r=u.examples)||void 0===r||null===(n=r[0])||void 0===n?void 0:n.examples;return(0,k.BX)(f.Fragment,{children:[(0,k.tZ)(Se,{spanSlug:l,totalCount:d,suspectSpan:m}),(0,k.tZ)(ne,{organization:a,eventView:i,spanSlug:l}),(0,k.tZ)(he,{location:s,organization:a,project:o,suspectSpan:m,transactionName:c,isLoading:u.isLoading,examples:null!=h?h:[],pageLinks:u.pageLinks})]})}function Se(e){const{spanSlug:t,suspectSpan:r,totalCount:n}=e,{description:s,frequency:a,avgOccurrences:o,p75ExclusiveTime:i,p95ExclusiveTime:c,p99ExclusiveTime:p,sumExclusiveTime:u}=null!=r?r:{};return(0,k.BX)(_e,{children:[(0,k.BX)(Pe,{"data-test-id":"header-operation-name",children:[(0,k.tZ)(Ce,{children:(0,l.t)("Span Operation")}),(0,k.tZ)(ke,{children:(0,k.tZ)(qe,{children:null!=s?s:Ne})}),(0,k.tZ)(Ae,{"data-test-id":"operation-name",children:t.op})]}),(0,k.BX)(Pe,{"data-test-id":"header-percentiles",children:[(0,k.tZ)(Ce,{children:(0,l.t)("Exclusive Time Percentiles")}),(0,k.BX)(Te,{children:[(0,k.BX)("div",{"data-test-id":"section-p75",children:[(0,k.tZ)(ke,{children:(0,d.ri)(i)?(0,k.tZ)(h.Xr,{abbreviation:!0,milliseconds:i}):"—"}),(0,k.tZ)(Ae,{children:(0,l.t)("p75")})]}),(0,k.BX)("div",{"data-test-id":"section-p95",children:[(0,k.tZ)(ke,{children:(0,d.ri)(c)?(0,k.tZ)(h.Xr,{abbreviation:!0,milliseconds:c}):"—"}),(0,k.tZ)(Ae,{children:(0,l.t)("p95")})]}),(0,k.BX)("div",{"data-test-id":"section-p99",children:[(0,k.tZ)(ke,{children:(0,d.ri)(p)?(0,k.tZ)(h.Xr,{abbreviation:!0,milliseconds:p}):"—"}),(0,k.tZ)(Ae,{children:(0,l.t)("p99")})]})]})]}),(0,k.BX)(Pe,{"data-test-id":"header-frequency",children:[(0,k.tZ)(Ce,{children:(0,l.t)("Frequency")}),(0,k.tZ)(ke,{children:(0,d.ri)(a)&&(0,d.ri)(n)?(0,S.rl)(Math.min(a,n)/n):"—"}),(0,k.tZ)(Ae,{children:(0,d.ri)(o)?(0,l._N)("[times] times per event",{times:o.toFixed(2)}):"—"})]}),(0,k.BX)(Pe,{"data-test-id":"header-total-exclusive-time",children:[(0,k.tZ)(Ce,{children:(0,l.t)("Total Exclusive Time")}),(0,k.tZ)(ke,{children:(0,d.ri)(u)?(0,k.tZ)(h.Xr,{abbreviation:!0,milliseconds:u}):"—"}),(0,k.tZ)(Ae,{children:(0,d.ri)(a)?(0,l._N)("[events] events",{events:(0,k.tZ)(x.Z,{value:a})}):"—"})]})]})}function De(e){return(e=e.withSorts([{field:E.g.AVG_OCCURRENCE,kind:"desc"}])).fields=[{field:"count()"},{field:"count_unique(id)"},{field:"equation|count() / count_unique(id)"},{field:"sumArray(spans_exclusive_time)"},{field:"percentileArray(spans_exclusive_time, 0.75)"},{field:"percentileArray(spans_exclusive_time, 0.95)"},{field:"percentileArray(spans_exclusive_time, 0.99)"}],e}we.displayName="SpanDurationBar",be.displayName="SpanDetailsContentWrapper",je.displayName="SpanDetailsContent",Se.displayName="SpanDetailsHeader";const _e=(0,n.Z)("div",{target:"eov756j7"})("display:grid;grid-template-columns:1fr;gap:",(0,b.Z)(4),";margin-bottom:",(0,b.Z)(2),";@media (min-width: ",(e=>e.theme.breakpoints[1]),"){grid-template-columns:auto repeat(3, max-content);grid-row-gap:0;}"),Pe=(0,n.Z)("div",{target:"eov756j6"})(w.Z,";height:78px;"),Ce=(0,n.Z)(y.OT,{target:"eov756j5"})({name:"ti75j2",styles:"margin:0"}),ke=(0,n.Z)("div",{target:"eov756j4"})("font-size:",(e=>e.theme.fontSizeExtraLarge),";padding:",(0,b.Z)(.5)," 0;max-height:32px;"),Ae=(0,n.Z)("div",{target:"eov756j3"})("color:",(e=>e.theme.subText),";font-size:",(e=>e.theme.fontSizeMedium),";"),Te=(0,n.Z)("div",{target:"eov756j2"})("display:grid;grid-template-columns:repeat(3, max-content);gap:",(0,b.Z)(3),";"),qe=(0,n.Z)("div",{target:"eov756j1"})(w.Z,";"),Me=(0,n.Z)("span",{target:"eov756j0"})("color:",(e=>e.theme.gray300),";"),Ne=(0,k.tZ)(Me,{children:(0,l.t)("(unnamed span)")});function ze(e){const{location:t,params:r}=e,n=(0,h.JY)(t),c=(0,v.W6)(r.spanSlug),f=(0,p.ro)(t.query.project);if(!(0,d.ri)(f)||!(0,d.ri)(n)||!(0,d.ri)(c))return null;const y=(0,u.Z)(),{projects:x}=(0,m.Z)(),Z=x.find((e=>e.id===f)),w=(0,v.xz)({location:t,transactionName:n,isMetricsData:!1});return(0,k.tZ)(i.Z,{title:Ee(n),orgSlug:y.slug,projectSlug:null==Z?void 0:Z.slug,children:(0,k.tZ)(s.Z,{features:["performance-view","performance-suspect-spans-view"],organization:y,renderDisabled:g.O,children:(0,k.tZ)(o.Z,{lockedMessageSubject:(0,l.t)("transaction"),shouldForceProject:(0,d.ri)(Z),forceProject:Z,specificProjectSlugs:(0,d.ri)(Z)?[Z.slug]:[],disableMultipleProjectSelection:!0,showProjectSettingsLink:!0,relativeDateOptions:v.CS,maxPickableDays:v.bc,children:(0,k.tZ)(Le,{children:(0,k.tZ)(a.Z,{organization:y,children:(0,k.tZ)(be,{location:t,organization:y,eventView:w,project:Z,transactionName:n,spanSlug:c})})})})})})}function Ee(e){return"string"==typeof e&&String(e).trim().length>0?[String(e).trim(),(0,l.t)("Performance")].join(" - "):[(0,l.t)("Summary"),(0,l.t)("Performance")].join(" - ")}ze.displayName="SpanDetails";const Le=(0,n.Z)(c.JH,{target:"e1vktcm60"})({name:"1hcx8jb",styles:"padding:0"})},"../node_modules/downsample/methods/ASAP.js":(e,t)=>{"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var n={"PointValueExtractor<unknown>":e=>"function"==typeof e,XYDataPoint:e=>null!=e&&n.X(e.x)&&"number"==typeof e.y,X:e=>"number"==typeof e||e instanceof Date},s=e=>{for(var t=0,r=0;r<e.length;r+=1)t+=e[r];return t/e.length},a=(e,t)=>{for(var r=e.length,n=new Array(r),s=0;s<r;s++)n[s]=t(e[s],s);return n},o=e=>n["PointValueExtractor<unknown>"](e)?e:t=>t[e],i=(e,t)=>({x:e,y:t}),l=()=>({x:e=>{var t=n.XYDataPoint(e)?e.x:e[0];return t instanceof Date?t.getTime():t},y:e=>"y"in e?e.y:e[1],toPoint:i}),c=(e,t)=>new e.constructor(t),d=function(e,t){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=[],s=0,a=0;a<t;a++)s+=e[a];for(var o=t;o<=e.length;o++)(o-t)%r==0&&n.push(s/t),s+=e[o]-e[o-t];return n},p=e=>{var t=o(e.x),r=o(e.y),n=e.toPoint;return function(e,s){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(0===e.length)return e;for(var i,l=a(e,r),d=a(e,t),p=c(e,0),u=0,m=0;m<s;m++)u+=l[m];for(var h=s;h<=l.length;h++)(h-s)%o==0&&(i=n((d[h-s]+d[h-1])/2,u/s,h-s),p[p.length]=i),u+=l[h]-l[h-s];return p}};function u(e,t){if(e.length!=t.length)throw"Mismatched lengths";var r=e.length;0!=r&&(0==(r&r-1)?function(e,t){if(e.length!=t.length)throw"Mismatched lengths";var r=e.length;if(1!=r){for(var n=-1,s=0;s<32;s++)1<<s==r&&(n=s);if(-1==n)throw"Length is not a power of 2";for(var a=new Array(r/2),o=new Array(r/2),i=0;i<r/2;i++)a[i]=Math.cos(2*Math.PI*i/r),o[i]=Math.sin(2*Math.PI*i/r);for(var l=0;l<r;l++){var c=h(l,n);if(c>l){var d=e[l];e[l]=e[c],e[c]=d,d=t[l],t[l]=t[c],t[c]=d}}for(var p=2;p<=r;p*=2)for(var u=p/2,m=r/p,g=0;g<r;g+=p)for(var v=g,f=0;v<g+u;v++,f+=m){var y=e[v+u]*a[f]+t[v+u]*o[f],x=-e[v+u]*o[f]+t[v+u]*a[f];e[v+u]=e[v]-y,t[v+u]=t[v]-x,e[v]+=y,t[v]+=x}}}(e,t):function(e,t){if(e.length!=t.length)throw"Mismatched lengths";for(var r=e.length,n=1;n<2*r+1;)n*=2;for(var s=new Array(r),a=new Array(r),o=0;o<r;o++){var i=o*o%(2*r);s[o]=Math.cos(Math.PI*i/r),a[o]=Math.sin(Math.PI*i/r)}for(var l=new Array(n),c=new Array(n),d=0;d<r;d++)l[d]=e[d]*s[d]+t[d]*a[d],c[d]=-e[d]*a[d]+t[d]*s[d];for(var p=r;p<n;p++)l[p]=c[p]=0;var h=new Array(n),g=new Array(n);h[0]=s[0],g[0]=a[0];for(var v=1;v<r;v++)h[v]=h[n-v]=s[v],g[v]=g[n-v]=a[v];for(var f=r;f<=n-r;f++)h[f]=g[f]=0;var y=new Array(n),x=new Array(n);!function(e,t,r,n,s,a){if(e.length!=t.length||e.length!=r.length||r.length!=n.length||e.length!=s.length||s.length!=a.length)throw"Mismatched lengths";var o=e.length;e=e.slice(),t=t.slice(),r=r.slice(),n=n.slice(),u(e,t),u(r,n);for(var i=0;i<o;i++){var l=e[i]*r[i]-t[i]*n[i];t[i]=t[i]*r[i]+e[i]*n[i],e[i]=l}m(e,t);for(var c=0;c<o;c++)s[c]=e[c]/o,a[c]=t[c]/o}(l,c,h,g,y,x);for(var Z=0;Z<r;Z++)e[Z]=y[Z]*s[Z]+x[Z]*a[Z],t[Z]=-y[Z]*a[Z]+x[Z]*s[Z]}(e,t))}function m(e,t){u(t,e)}function h(e,t){for(var r=0,n=0;n<t;n++)r=r<<1|1&e,e>>>=1;return r}p(l());var g,v,f,y=e=>(e=>{for(var t=s(e),r=0,n=0;n<e.length;n+=1)r+=(e[n]-t)*(e[n]-t);return Math.sqrt(r/e.length)})((e=>{var t=e.length-1;if(t<1)return[];for(var r=new Array(t),n=0;n<t;n++)r[n]=e[n+1]-e[n];return r})(e)),x=e=>{for(var t,r,n=e.length,a=s(e),o=0,i=0,l=0;l<n;l++)o+=(r=(t=e[l]-a)*t)*r,i+=r;return n*o/(i*i)},Z=(g=l(),v=o(g.y),f=p(g),function e(t,n){if(0===t.length)return t;if(n<=0)throw new Error("Supplied non-positive resolution parameter to ASAP: ".concat(n));if(t.length>=2*n){var o=Math.trunc(t.length/n);return e(f(t,o,o),n)}for(var i=a(t,v),l=((e,t)=>{for(var n=e.length,a=s(e),o=Math.pow(2,Math.trunc(Math.log2(n))+1),i=new Array(o).fill(0),l=new Array(o).fill(0),c=0;c<n;c+=1)i[c]=e[c]-a;u(i,l);for(var d=0;d<i.length;d+=1)i[d]=Math.pow(i[d],2)+Math.pow(l[d],2),l[d]=0;m(i,l);for(var p=[],h=1;h<t;h++)p[h]=i[h]/i[0];var g=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,s=!1,a=void 0;try{for(var o,i=e[Symbol.iterator]();!(n=(o=i.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){s=!0,a=e}finally{try{n||null==i.return||i.return()}finally{if(s)throw a}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2,r=e.length;if(r<=1)return[[],0];var n=0,s=[];if(e.length>1)for(var a=e[1]>e[0],o=1,i=2;i<e.length;i+=1)!a&&e[i]>e[i-1]?(o=i,a=!a):a&&e[i]>e[o]?o=i:a&&e[i]<e[i-1]&&(o>1&&e[o]>t&&(s.push(o),e[o]>n&&(n=e[o])),a=!a);if(s.length<=1)for(var l=2;l<r;l+=1)s.push(l);return[s,n]}(p),2);return{correlations:p,peaks:g[0],maxCorrelation:g[1]}})(i,Math.round(i.length/10)),c=l.correlations,p=l.peaks,h=l.maxCorrelation,g=x(i),Z=y(i),w=1,b=1,j=-1,S=i.length/10,D=p.length-1;D>=0;D-=1){var _=p[D];if(_<b||1===_)break;if(!(Math.sqrt(1-c[_])*w>Math.sqrt(1-c[w])*_)){var P=d(i,_,1),C=x(P),k=y(P);C>=g&&(k<Z&&(Z=k,w=_),b=Math.round(Math.max(_*Math.sqrt((h-1)/(c[_]-1)),b)),j<0&&(j=D))}}return j>0&&(j<p.length-2&&(S=p[j+1]),b=Math.max(b,p[j]+1)),w=((e,t,r,n,s,a)=>{for(;e<=t;){var o=Math.round((e+t)/2),i=d(r,o,1);if(x(i)>=s){var l=y(i);l<n&&(a=o,n=l),e=o+1}else t=o-1}return a})(b,S,i,Z,g,w),f(t,w,1)});t.Cl=Z},"../node_modules/lodash/negate.js":e=>{e.exports=function(e){if("function"!=typeof e)throw new TypeError("Expected a function");return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}},"../node_modules/lodash/omitBy.js":(e,t,r)=>{var n=r("../node_modules/lodash/_baseIteratee.js"),s=r("../node_modules/lodash/negate.js"),a=r("../node_modules/lodash/pickBy.js");e.exports=function(e,t){return a(e,s(n(t)))}}}]);
//# sourceMappingURL=../sourcemaps/app_components_links_listLink_tsx-app_views_performance_transactionSummary_transactionSpans_s-87d064.c92e677c26929bffe015340a1d539c33.js.map