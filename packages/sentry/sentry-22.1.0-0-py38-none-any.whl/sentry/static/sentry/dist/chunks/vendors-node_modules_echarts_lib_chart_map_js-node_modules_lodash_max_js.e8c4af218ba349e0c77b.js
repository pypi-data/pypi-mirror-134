(self.webpackChunk=self.webpackChunk||[]).push([["vendors-node_modules_echarts_lib_chart_map_js-node_modules_lodash_max_js"],{"../node_modules/echarts/lib/chart/map.js":(e,t,o)=>{"use strict";var n=o("../node_modules/echarts/lib/extension.js"),r=o("../node_modules/echarts/node_modules/tslib/tslib.es6.js"),a=o("../node_modules/zrender/lib/graphic/shape/Circle.js"),i=o("../node_modules/zrender/lib/core/util.js"),s=o("../node_modules/echarts/lib/component/helper/RoamController.js"),l=o("../node_modules/echarts/lib/component/helper/cursorHelper.js"),p=o("../node_modules/echarts/lib/util/graphic.js"),c=o("../node_modules/zrender/lib/graphic/Group.js"),u=o("../node_modules/echarts/lib/animation/basicTrasition.js"),m=o("../node_modules/zrender/lib/graphic/CompoundPath.js"),d=o("../node_modules/zrender/lib/graphic/shape/Polygon.js"),g=o("../node_modules/echarts/lib/util/states.js"),h=o("../node_modules/echarts/lib/coord/geo/geoSourceManager.js"),f=o("../node_modules/echarts/lib/util/component.js"),y=o("../node_modules/echarts/lib/label/labelStyle.js"),v=o("../node_modules/echarts/lib/util/innerStore.js"),_=o("../node_modules/echarts/lib/util/decal.js"),b=o("../node_modules/zrender/lib/graphic/Displayable.js"),S=o("../node_modules/echarts/lib/util/model.js"),w=["rect","circle","line","ellipse","polygon","polyline","path"],M=i.createHashMap(w),T=i.createHashMap(w.concat(["g"])),D=i.createHashMap(w.concat(["g"])),x=(0,S.Yf)();function C(e){var t=e.getItemStyle(),o=e.get("areaColor");return null!=o&&(t.fill=o),t}function G(e,t,o,n){var r=n.getModel("itemStyle"),a=n.getModel(["emphasis","itemStyle"]),i=n.getModel(["blur","itemStyle"]),s=n.getModel(["select","itemStyle"]),l=C(r),p=C(a),c=C(s),u=C(i),m=e.data;if(m){var d=m.getItemVisual(o,"style"),h=m.getItemVisual(o,"decal");e.isVisualEncodedByVisualMap&&d.fill&&(l.fill=d.fill),h&&(l.decal=(0,_.I)(h,e.api))}t.setStyle(l),t.style.strokeNoScale=!0,t.ensureState("emphasis").style=p,t.ensureState("select").style=c,t.ensureState("blur").style=u,(0,g.MA)(t)}function R(e,t,o,n,r,a,i){var s=e.data,l=e.isGeo,p=s&&isNaN(s.get(s.mapDimension("value"),a)),c=s&&s.getItemLayout(a);if(l||p||c&&c.showLabel){var u=l?o:a,m=void 0;(!s||a>=0)&&(m=r);var d=i?{normal:{align:"center",verticalAlign:"middle"}}:null;(0,y.ni)(t,(0,y.k3)(n),{labelFetcher:m,labelDataIndex:u,defaultText:o},d);var g=t.getTextContent();if(g&&(x(g).ignore=g.ignore,t.textConfig&&i)){var h=t.getBoundingRect().clone();t.textConfig.layoutRect=h,t.textConfig.position=[(i[0]-h.x)/h.width*100+"%",(i[1]-h.y)/h.height*100+"%"]}t.disableLabelAnimation=!0}else t.removeTextContent(),t.removeTextConfig(),t.disableLabelAnimation=null}function Z(e,t,o,n,r,a){e.data?e.data.setItemGraphicEl(a,t):(0,v.A)(t).eventData={componentType:"geo",componentIndex:r.componentIndex,geoIndex:r.componentIndex,name:o,region:n&&n.option||{}}}function N(e,t,o,n,r){e.data||p.setTooltipConfig({el:t,componentModel:r,itemName:o,itemTooltipOption:n.get("tooltip")})}function j(e,t,o,n,r){t.highDownSilentOnTouch=!!r.get("selectedMode");var a=n.getModel("emphasis"),i=a.get("focus");return(0,g.vF)(t,i,a.get("blurScope")),e.isGeo&&(0,g.th)(t,r,o),i}const z=function(){function e(e){var t=new c.Z;this.uid=(0,f.Kr)("ec_map_draw"),this._controller=new s.Z(e.getZr()),this._controllerHost={target:t},this.group=t,t.add(this._regionsGroup=new c.Z),t.add(this._svgGroup=new c.Z)}return e.prototype.draw=function(e,t,o,n,r){var a="geo"===e.mainType,i=e.getData&&e.getData();a&&t.eachComponent({mainType:"series",subType:"map"},(function(t){i||t.getHostGeoModel()!==e||(i=t.getData())}));var s=e.coordinateSystem,l=this._regionsGroup,p=this.group,c=s.getTransformInfo(),m=c.raw,d=c.roam;!l.childAt(0)||r?(p.x=d.x,p.y=d.y,p.scaleX=d.scaleX,p.scaleY=d.scaleY,p.dirty()):u.D(p,d,e);var g=i&&i.getVisual("visualMeta")&&i.getVisual("visualMeta").length>0,h={api:o,geo:s,mapOrGeoModel:e,data:i,isVisualEncodedByVisualMap:g,isGeo:a,transformInfoRaw:m};"geoJSON"===s.resourceType?this._buildGeoJSON(h):"geoSVG"===s.resourceType&&this._buildSVG(h),this._updateController(e,t,o),this._updateMapSelectHandler(e,l,o,n)},e.prototype._buildGeoJSON=function(e){var t=this._regionsGroupByName=i.createHashMap(),o=i.createHashMap(),n=this._regionsGroup,r=e.transformInfoRaw,a=e.mapOrGeoModel,s=e.data,l=function(e){return[e[0]*r.scaleX+r.x,e[1]*r.scaleY+r.y]};n.removeAll(),i.each(e.geo.regions,(function(r){var p=r.name,u=t.get(p),g=o.get(p)||{},h=g.dataIdx,f=g.regionModel;u||(u=t.set(p,new c.Z),n.add(u),h=s?s.indexOfName(p):null,f=e.isGeo?a.getRegionModel(p):s?s.getItemModel(h):null,o.set(p,{dataIdx:h,regionModel:f}));var y=new m.Z({segmentIgnoreThreshold:1,shape:{paths:[]}});u.add(y),i.each(r.geometries,(function(e){if("polygon"===e.type){for(var t=[],o=0;o<e.exterior.length;++o)t.push(l(e.exterior[o]));for(y.shape.paths.push(new d.Z({segmentIgnoreThreshold:1,shape:{points:t}})),o=0;o<(e.interiors?e.interiors.length:0);++o){for(var n=e.interiors[o],r=[],a=0;a<n.length;++a)r.push(l(n[a]));y.shape.paths.push(new d.Z({segmentIgnoreThreshold:1,shape:{points:r}}))}}})),G(e,y,h,f),y instanceof b.ZP&&(y.culling=!0);var v=l(r.getCenter());R(e,y,p,f,a,h,v)})),t.each((function(t,n){var r=o.get(n),i=r.dataIdx,s=r.regionModel;Z(e,t,n,s,a,i),N(e,t,n,s,a),j(e,t,n,s,a)}),this)},e.prototype._buildSVG=function(e){var t=e.geo.map,o=e.transformInfoRaw;this._svgGroup.x=o.x,this._svgGroup.y=o.y,this._svgGroup.scaleX=o.scaleX,this._svgGroup.scaleY=o.scaleY,this._svgResourceChanged(t)&&(this._freeSVG(),this._useSVG(t));var n=this._svgDispatcherMap=i.createHashMap(),r=!1;i.each(this._svgGraphicRecord.named,(function(t){var o=t.name,a=e.mapOrGeoModel,i=e.data,s=t.svgNodeTagLower,l=t.el,p=i?i.indexOfName(o):null,c=a.getRegionModel(o);null!=M.get(s)&&l instanceof b.ZP&&G(e,l,p,c),l instanceof b.ZP&&(l.culling=!0),l.z2EmphasisLift=0,t.namedFrom||(null!=D.get(s)&&R(e,l,o,c,a,p,null),Z(e,l,o,c,a,p),N(e,l,o,c,a),null!=T.get(s)&&("self"===j(e,l,o,c,a)&&(r=!0),(n.get(o)||n.set(o,[])).push(l)))}),this),this._enableBlurEntireSVG(r,e)},e.prototype._enableBlurEntireSVG=function(e,t){if(e&&t.isGeo){var o=t.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle().opacity;this._svgGraphicRecord.root.traverse((function(e){if(!e.isGroup){(0,g.MA)(e);var t=e.ensureState("blur").style||{};null==t.opacity&&null!=o&&(t.opacity=o),e.ensureState("emphasis")}}))}},e.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},e.prototype.findHighDownDispatchers=function(e,t){if(null==e)return[];var o=t.coordinateSystem;if("geoJSON"===o.resourceType){var n=this._regionsGroupByName;if(n){var r=n.get(e);return r?[r]:[]}}else if("geoSVG"===o.resourceType)return this._svgDispatcherMap&&this._svgDispatcherMap.get(e)||[]},e.prototype._svgResourceChanged=function(e){return this._svgMapName!==e},e.prototype._useSVG=function(e){var t=h.Z.getGeoResource(e);if(t&&"geoSVG"===t.type){var o=t.useGraphic(this.uid);this._svgGroup.add(o.root),this._svgGraphicRecord=o,this._svgMapName=e}},e.prototype._freeSVG=function(){var e=this._svgMapName;if(null!=e){var t=h.Z.getGeoResource(e);t&&"geoSVG"===t.type&&t.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},e.prototype._updateController=function(e,t,o){var n=e.coordinateSystem,r=this._controller,a=this._controllerHost;a.zoomLimit=e.get("scaleLimit"),a.zoom=n.getZoom(),r.enable(e.get("roam")||!1);var s=e.mainType;function p(){var t={type:"geoRoam",componentType:s};return t[s+"Id"]=e.id,t}r.off("pan").on("pan",(function(e){this._mouseDownFlag=!1,function(e,t,o){var n=e.target;n.x+=t,n.y+=o,n.dirty()}(a,e.dx,e.dy),o.dispatchAction(i.extend(p(),{dx:e.dx,dy:e.dy}))}),this),r.off("zoom").on("zoom",(function(e){this._mouseDownFlag=!1,function(e,t,o,n){var r=e.target,a=e.zoomLimit,i=e.zoom=e.zoom||1;if(i*=t,a){var s=a.min||0,l=a.max||1/0;i=Math.max(Math.min(l,i),s)}var p=i/e.zoom;e.zoom=i,r.x-=(o-r.x)*(p-1),r.y-=(n-r.y)*(p-1),r.scaleX*=p,r.scaleY*=p,r.dirty()}(a,e.scale,e.originX,e.originY),o.dispatchAction(i.extend(p(),{zoom:e.scale,originX:e.originX,originY:e.originY}))}),this),r.setPointerChecker((function(t,r,a){return n.containPoint([r,a])&&!(0,l.l)(t,o,e)}))},e.prototype.resetForLabelLayout=function(){this.group.traverse((function(e){var t=e.getTextContent();t&&(t.ignore=x(t).ignore)}))},e.prototype._updateMapSelectHandler=function(e,t,o,n){var r=this;t.off("mousedown"),t.off("click"),e.get("selectedMode")&&(t.on("mousedown",(function(){r._mouseDownFlag=!0})),t.on("click",(function(e){r._mouseDownFlag&&(r._mouseDownFlag=!1)})))},e}(),I=function(e){function t(){var o=null!==e&&e.apply(this,arguments)||this;return o.type=t.type,o}return(0,r.ZT)(t,e),t.prototype.render=function(e,t,o,n){if(!n||"mapToggleSelect"!==n.type||n.from!==this.uid){var r=this.group;if(r.removeAll(),!e.getHostGeoModel()){if(this._mapDraw&&n&&"geoRoam"===n.type&&this._mapDraw.resetForLabelLayout(),n&&"geoRoam"===n.type&&"series"===n.componentType&&n.seriesId===e.id)(a=this._mapDraw)&&r.add(a.group);else if(e.needsDrawMap){var a=this._mapDraw||new z(o);r.add(a.group),a.draw(e,t,o,this,n),this._mapDraw=a}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;e.get("showLegendSymbol")&&t.getComponent("legend")&&this._renderSymbols(e,t,o)}}},t.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},t.prototype._renderSymbols=function(e,t,o){var n=e.originalData,r=this.group;n.each(n.mapDimension("value"),(function(t,o){if(!isNaN(t)){var i=n.getItemLayout(o);if(i&&i.point){var s=i.point,l=i.offset,p=new a.Z({style:{fill:e.getData().getVisual("style").fill},shape:{cx:s[0]+9*l,cy:s[1],r:3},silent:!0,z2:8+(l?0:g.zr+1)});if(!l){var c=e.mainSeries.getData(),u=n.getName(o),m=c.indexOfName(u),d=n.getItemModel(o),h=d.getModel("label"),f=c.getItemGraphicEl(m);(0,y.ni)(p,(0,y.k3)(d),{labelFetcher:{getFormattedLabel:function(t,o){return e.getFormattedLabel(m,o)}}}),p.disableLabelAnimation=!0,h.get("position")||p.setTextConfig({position:"bottom"}),f.onHoverStateChange=function(e){(0,g.Gl)(p,e)}}r.add(p)}}}))},t.type="map",t}(o("../node_modules/echarts/lib/view/Chart.js").Z);var L=o("../node_modules/echarts/lib/data/helper/createDimensions.js"),V=o("../node_modules/echarts/lib/data/SeriesData.js"),P=o("../node_modules/echarts/lib/model/Series.js"),A=o("../node_modules/echarts/lib/data/helper/sourceHelper.js"),H=o("../node_modules/echarts/lib/component/tooltip/tooltipMarkup.js"),B=o("../node_modules/echarts/lib/util/symbol.js");const O=function(e){function t(){var o=null!==e&&e.apply(this,arguments)||this;return o.type=t.type,o.needsDrawMap=!1,o.seriesGroup=[],o.getTooltipPosition=function(e){if(null!=e){var t=this.getData().getName(e),o=this.coordinateSystem,n=o.getRegion(t);return n&&o.dataToPoint(n.getCenter())}},o}return(0,r.ZT)(t,e),t.prototype.getInitialData=function(e){for(var t=function(e,t,o){t=(0,i.isArray)(t)&&{coordDimensions:t}||(0,i.extend)({encodeDefine:e.getEncode()},t);var n=e.getSource(),r=(0,L.Z)(n,t).dimensions,a=new V.Z(r,e);return a.initData(n,void 0),a}(this,{coordDimensions:["value"],encodeDefaulter:i.curry(A.Ss,this)}),o=i.createHashMap(),n=[],r=0,a=t.count();r<a;r++){var s=t.getName(r);o.set(s,!0)}var l=h.Z.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return i.each(l.regions,(function(e){var t=e.name;o.get(t)||n.push(t)})),t.appendValues([],n),t},t.prototype.getHostGeoModel=function(){var e=this.option.geoIndex;return null!=e?this.ecModel.getComponent("geo",e):null},t.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},t.prototype.getRawValue=function(e){var t=this.getData();return t.get(t.mapDimension("value"),e)},t.prototype.getRegionModel=function(e){var t=this.getData();return t.getItemModel(t.indexOfName(e))},t.prototype.formatTooltip=function(e,t,o){for(var n=this.getData(),r=this.getRawValue(e),a=n.getName(e),i=this.seriesGroup,s=[],l=0;l<i.length;l++){var p=i[l].originalData.indexOfName(a),c=n.mapDimension("value");isNaN(i[l].originalData.get(c,p))||s.push(i[l].name)}return(0,H.TX)("section",{header:s.join(", "),noHeader:!s.length,blocks:[(0,H.TX)("nameValue",{name:a,value:r})]})},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.getLegendIcon=function(e){var t=e.icon||"roundRect",o=(0,B.th)(t,0,0,e.itemWidth,e.itemHeight,e.itemStyle.fill);return o.setStyle(e.itemStyle),o.style.stroke="none",t.indexOf("empty")>-1&&(o.style.stroke=o.style.fill,o.style.fill="#fff",o.style.lineWidth=2),o},t.type="series.map",t.dependencies=["geo"],t.layoutMode="box",t.defaultOption={zlevel:0,z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},t}(P.Z);function Y(e){var t={};e.eachSeriesByType("map",(function(e){var o=e.getHostGeoModel(),n=o?"o"+o.id:"i"+e.getMapType();(t[n]=t[n]||[]).push(e)})),i.each(t,(function(e,t){for(var o,n,r,a=(o=i.map(e,(function(e){return e.getData()})),n=e[0].get("mapValueCalculation"),r={},i.each(o,(function(e){e.each(e.mapDimension("value"),(function(t,o){var n="ec-"+e.getName(o);r[n]=r[n]||[],isNaN(t)||r[n].push(t)}))})),o[0].map(o[0].mapDimension("value"),(function(e,t){for(var a="ec-"+o[0].getName(t),i=0,s=1/0,l=-1/0,p=r[a].length,c=0;c<p;c++)s=Math.min(s,r[a][c]),l=Math.max(l,r[a][c]),i+=r[a][c];return 0===p?NaN:"min"===n?s:"max"===n?l:"average"===n?i/p:i}))),s=0;s<e.length;s++)e[s].originalData=e[s].getData();for(s=0;s<e.length;s++)e[s].seriesGroup=e,e[s].needsDrawMap=0===s&&!e[s].getHostGeoModel(),e[s].setData(a.cloneShallow()),e[s].mainSeries=e[0]}))}function X(e){var t={};e.eachSeriesByType("map",(function(o){var n=o.getMapType();if(!o.getHostGeoModel()&&!t[n]){var r={};i.each(o.seriesGroup,(function(t){var o=t.coordinateSystem,n=t.originalData;t.get("showLegendSymbol")&&e.getComponent("legend")&&n.each(n.mapDimension("value"),(function(e,t){var a=n.getName(t),i=o.getRegion(a);if(i&&!isNaN(e)){var s=r[a]||0,l=o.dataToPoint(i.getCenter());r[a]=s+1,n.setItemLayout(t,{point:l,offset:s})}}))}));var a=o.getData();a.each((function(e){var t=a.getName(e),o=a.getItemLayout(e)||{};o.showLabel=!r[t],a.setItemLayout(e,o)})),t[n]=!0}}))}var F=o("../node_modules/echarts/lib/legacy/dataSelectAction.js"),k=o("../node_modules/echarts/lib/model/Component.js"),E=o("../node_modules/echarts/lib/model/Model.js"),J=o("../node_modules/zrender/lib/core/BoundingRect.js"),W=o("../node_modules/zrender/lib/core/vector.js"),q=o("../node_modules/zrender/lib/core/matrix.js"),U=o("../node_modules/zrender/lib/core/Transformable.js"),K=W.applyTransform;function Q(e){var t=e.seriesModel;return t?t.coordinateSystem:null}const $=function(e){function t(t){var o=e.call(this)||this;return o.type="view",o.dimensions=["x","y"],o._roamTransformable=new U.Z,o._rawTransformable=new U.Z,o.name=t,o}return(0,r.ZT)(t,e),t.prototype.setBoundingRect=function(e,t,o,n){return this._rect=new J.Z(e,t,o,n),this._rect},t.prototype.getBoundingRect=function(){return this._rect},t.prototype.setViewRect=function(e,t,o,n){this._transformTo(e,t,o,n),this._viewRect=new J.Z(e,t,o,n)},t.prototype._transformTo=function(e,t,o,n){var r=this.getBoundingRect(),a=this._rawTransformable;a.transform=r.calculateTransform(new J.Z(e,t,o,n));var i=a.parent;a.parent=null,a.decomposeTransform(),a.parent=i,this._updateTransform()},t.prototype.setCenter=function(e){e&&(this._center=e,this._updateCenterAndZoom())},t.prototype.setZoom=function(e){e=e||1;var t=this.zoomLimit;t&&(null!=t.max&&(e=Math.min(t.max,e)),null!=t.min&&(e=Math.max(t.min,e))),this._zoom=e,this._updateCenterAndZoom()},t.prototype.getDefaultCenter=function(){var e=this.getBoundingRect();return[e.x+e.width/2,e.y+e.height/2]},t.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},t.prototype.getZoom=function(){return this._zoom||1},t.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},t.prototype._updateCenterAndZoom=function(){var e=this._rawTransformable.getLocalTransform(),t=this._roamTransformable,o=this.getDefaultCenter(),n=this.getCenter(),r=this.getZoom();n=W.applyTransform([],n,e),o=W.applyTransform([],o,e),t.originX=n[0],t.originY=n[1],t.x=o[0]-n[0],t.y=o[1]-n[1],t.scaleX=t.scaleY=r,this._updateTransform()},t.prototype._updateTransform=function(){var e=this._roamTransformable,t=this._rawTransformable;t.parent=e,e.updateTransform(),t.updateTransform(),q.copy(this.transform||(this.transform=[]),t.transform||q.create()),this._rawTransform=t.getLocalTransform(),this.invTransform=this.invTransform||[],q.invert(this.invTransform,this.transform),this.decomposeTransform()},t.prototype.getTransformInfo=function(){var e=this._rawTransformable,t=this._roamTransformable,o=new U.Z;return o.transform=t.transform,o.decomposeTransform(),{roam:{x:o.x,y:o.y,scaleX:o.scaleX,scaleY:o.scaleY},raw:{x:e.x,y:e.y,scaleX:e.scaleX,scaleY:e.scaleY}}},t.prototype.getViewRect=function(){return this._viewRect},t.prototype.getViewRectAfterRoam=function(){var e=this.getBoundingRect().clone();return e.applyTransform(this.transform),e},t.prototype.dataToPoint=function(e,t,o){var n=t?this._rawTransform:this.transform;return o=o||[],n?K(o,e,n):W.copy(o,e)},t.prototype.pointToData=function(e){var t=this.invTransform;return t?K([],e,t):[e[0],e[1]]},t.prototype.convertToPixel=function(e,t,o){var n=Q(t);return n===this?n.dataToPoint(o):null},t.prototype.convertFromPixel=function(e,t,o){var n=Q(t);return n===this?n.pointToData(o):null},t.prototype.containPoint=function(e){return this.getViewRectAfterRoam().contain(e[0],e[1])},t.dimensions=["x","y"],t}(U.Z);var ee={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},te=["lng","lat"],oe=function(e){function t(t,o,n){var r=e.call(this,t)||this;r.dimensions=te,r.type="geo",r._nameCoordMap=i.createHashMap(),r.map=o;var a=h.Z.load(o,n.nameMap,n.nameProperty),s=h.Z.getGeoResource(o);r.resourceType=s?s.type:null;var l=ee[s.type];r._regionsMap=a.regionsMap,r._invertLongitute=l.invertLongitute,r.regions=a.regions,r.aspectScale=i.retrieve2(n.aspectScale,l.aspectScale);var p=a.boundingRect;return r.setBoundingRect(p.x,p.y,p.width,p.height),r}return(0,r.ZT)(t,e),t.prototype._transformTo=function(e,t,o,n){var r=this.getBoundingRect(),a=this._invertLongitute;r=r.clone(),a&&(r.y=-r.y-r.height);var i=this._rawTransformable;i.transform=r.calculateTransform(new J.Z(e,t,o,n));var s=i.parent;i.parent=null,i.decomposeTransform(),i.parent=s,a&&(i.scaleY=-i.scaleY),this._updateTransform()},t.prototype.getRegion=function(e){return this._regionsMap.get(e)},t.prototype.getRegionByCoord=function(e){for(var t=this.regions,o=0;o<t.length;o++){var n=t[o];if("geoJSON"===n.type&&n.contain(e))return t[o]}},t.prototype.addGeoCoord=function(e,t){this._nameCoordMap.set(e,t)},t.prototype.getGeoCoord=function(e){var t=this._regionsMap.get(e);return this._nameCoordMap.get(e)||t&&t.getCenter()},t.prototype.dataToPoint=function(e,t,o){if("string"==typeof e&&(e=this.getGeoCoord(e)),e)return $.prototype.dataToPoint.call(this,e,t,o)},t.prototype.convertToPixel=function(e,t,o){var n=ne(t);return n===this?n.dataToPoint(o):null},t.prototype.convertFromPixel=function(e,t,o){var n=ne(t);return n===this?n.pointToData(o):null},t}($);function ne(e){var t=e.geoModel,o=e.seriesModel;return t?t.coordinateSystem:o?o.coordinateSystem||(o.getReferringComponents("geo",S.C6).models[0]||{}).coordinateSystem:null}i.mixin(oe,$);const re=oe;var ae=o("../node_modules/echarts/lib/util/layout.js"),ie=o("../node_modules/echarts/lib/util/number.js");function se(e,t){var o=e.get("boundingCoords");if(null!=o){var n=o[0],r=o[1];isNaN(n[0])||isNaN(n[1])||isNaN(r[0])||isNaN(r[1])||this.setBoundingRect(n[0],n[1],r[0]-n[0],r[1]-n[1])}var a,i,s,l=this.getBoundingRect(),p=e.get("layoutCenter"),c=e.get("layoutSize"),u=t.getWidth(),m=t.getHeight(),d=l.width/l.height*this.aspectScale,g=!1;if(p&&c&&(a=[ie.GM(p[0],u),ie.GM(p[1],m)],i=ie.GM(c,Math.min(u,m)),isNaN(a[0])||isNaN(a[1])||isNaN(i)||(g=!0)),g)s={},d>1?(s.width=i,s.height=i/d):(s.height=i,s.width=i*d),s.y=a[1]-s.height/2,s.x=a[0]-s.width/2;else{var h=e.getBoxLayoutParams();h.aspect=d,s=ae.ME(h,{width:u,height:m})}this.setViewRect(s.x,s.y,s.width,s.height),this.setCenter(e.get("center")),this.setZoom(e.get("zoom"))}const le=new(function(){function e(){this.dimensions=te}return e.prototype.create=function(e,t){var o=[];e.eachComponent("geo",(function(e,n){var r=e.get("map"),a=new re(r+n,r,{nameMap:e.get("nameMap"),nameProperty:e.get("nameProperty"),aspectScale:e.get("aspectScale")});a.zoomLimit=e.get("scaleLimit"),o.push(a),e.coordinateSystem=a,a.model=e,a.resize=se,a.resize(e,t)})),e.eachSeries((function(e){if("geo"===e.get("coordinateSystem")){var t=e.get("geoIndex")||0;e.coordinateSystem=o[t]}}));var n={};return e.eachSeriesByType("map",(function(e){if(!e.getHostGeoModel()){var t=e.getMapType();n[t]=n[t]||[],n[t].push(e)}})),i.each(n,(function(e,n){var r=i.map(e,(function(e){return e.get("nameMap")})),a=new re(n,n,{nameMap:i.mergeAll(r),nameProperty:e[0].get("nameProperty"),aspectScale:e[0].get("aspectScale")});a.zoomLimit=i.retrieve.apply(null,i.map(e,(function(e){return e.get("scaleLimit")}))),o.push(a),a.resize=se,a.resize(e[0],t),i.each(e,(function(e){e.coordinateSystem=a,function(e,t){i.each(t.get("geoCoord"),(function(t,o){e.addGeoCoord(o,t)}))}(a,e)}))})),o},e.prototype.getFilledRegions=function(e,t,o,n){for(var r=(e||[]).slice(),a=i.createHashMap(),s=0;s<r.length;s++)a.set(r[s].name,r[s]);var l=h.Z.load(t,o,n);return i.each(l.regions,(function(e){var t=e.name;!a.get(t)&&r.push({name:t})})),r},e}()),pe=function(e){function t(){var o=null!==e&&e.apply(this,arguments)||this;return o.type=t.type,o}return(0,r.ZT)(t,e),t.prototype.init=function(e,t,o){var n=h.Z.getGeoResource(e.map);if(n&&"geoJSON"===n.type){var r=e.itemStyle=e.itemStyle||{};"color"in r||(r.color="#eee")}this.mergeDefaultAndTheme(e,o),S.Cc(e,"label",["show"])},t.prototype.optionUpdated=function(){var e=this,t=this.option;t.regions=le.getFilledRegions(t.regions,t.map,t.nameMap,t.nameProperty);var o={};this._optionModelMap=i.reduce(t.regions||[],(function(t,n){var r=n.name;return r&&(t.set(r,new E.Z(n,e,e.ecModel)),n.selected&&(o[r]=!0)),t}),i.createHashMap()),t.selectedMap||(t.selectedMap=o)},t.prototype.getRegionModel=function(e){return this._optionModelMap.get(e)||new E.Z(null,this,this.ecModel)},t.prototype.getFormattedLabel=function(e,t){var o=this.getRegionModel(e),n="normal"===t?o.get(["label","formatter"]):o.get(["emphasis","label","formatter"]),r={name:e};return"function"==typeof n?(r.status=t,n(r)):"string"==typeof n?n.replace("{a}",null!=e?e:""):void 0},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.select=function(e){var t=this.option,o=t.selectedMode;o&&("multiple"!==o&&(t.selectedMap=null),(t.selectedMap||(t.selectedMap={}))[e]=!0)},t.prototype.unSelect=function(e){var t=this.option.selectedMap;t&&(t[e]=!1)},t.prototype.toggleSelected=function(e){this[this.isSelected(e)?"unSelect":"select"](e)},t.prototype.isSelected=function(e){var t=this.option.selectedMap;return!(!t||!t[e])},t.type="geo",t.layoutMode="box",t.defaultOption={zlevel:0,z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},t}(k.Z);var ce=o("../node_modules/echarts/lib/view/Component.js"),ue=o("../node_modules/echarts/lib/util/event.js");const me=function(e){function t(){var o=null!==e&&e.apply(this,arguments)||this;return o.type=t.type,o.focusBlurEnabled=!0,o}return(0,r.ZT)(t,e),t.prototype.init=function(e,t){this._api=t},t.prototype.render=function(e,t,o,n){if(this._model=e,!e.get("show"))return this._mapDraw&&this._mapDraw.remove(),void(this._mapDraw=null);this._mapDraw||(this._mapDraw=new z(o));var r=this._mapDraw;r.draw(e,t,o,this,n),r.group.on("click",this._handleRegionClick,this),r.group.silent=e.get("silent"),this.group.add(r.group),this.updateSelectStatus(e,t,o)},t.prototype._handleRegionClick=function(e){var t;(0,ue.o)(e.target,(function(e){return null!=(t=(0,v.A)(e).eventData)}),!0),t&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:t.name})},t.prototype.updateSelectStatus=function(e,t,o){var n=this;this._mapDraw.group.traverse((function(e){var t=(0,v.A)(e).eventData;if(t)return n._model.isSelected(t.name)?o.enterSelect(e):o.leaveSelect(e),!0}))},t.prototype.findHighDownDispatchers=function(e){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(e,this._model)},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},t.type="geo",t}(ce.Z);function de(e){function t(t,o){o.update="geo:updateSelectStatus",e.registerAction(o,(function(e,o){var n={},r=[];return o.eachComponent({mainType:"geo",query:e},(function(o){o[t](e.name);var a=o.coordinateSystem;(0,i.each)(a.regions,(function(e){n[e.name]=o.isSelected(e.name)||!1}));var s=[];(0,i.each)(n,(function(e,t){n[t]&&s.push(t)})),r.push({geoIndex:o.componentIndex,name:s})})),{selected:n,allSelected:r,name:e.name}}))}e.registerCoordinateSystem("geo",le),e.registerComponentModel(pe),e.registerComponentView(me),t("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),t("select",{type:"geoSelect",event:"geoselected"}),t("unSelect",{type:"geoUnSelect",event:"geounselected"}),e.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},(function(e,t){var o=e.componentType||"series";t.eachComponent({mainType:o,query:e},(function(t){var n=t.coordinateSystem;if("geo"===n.type){var r=function(e,t,o){var n=e.getZoom(),r=e.getCenter(),a=t.zoom,i=e.dataToPoint(r);if(null!=t.dx&&null!=t.dy&&(i[0]-=t.dx,i[1]-=t.dy,e.setCenter(e.pointToData(i))),null!=a){if(o){var s=o.min||0,l=o.max||1/0;a=Math.max(Math.min(n*a,l),s)/n}e.scaleX*=a,e.scaleY*=a;var p=(t.originX-e.x)*(a-1),c=(t.originY-e.y)*(a-1);e.x-=p,e.y-=c,e.updateTransform(),e.setCenter(e.pointToData(i)),e.setZoom(a*n)}return{center:e.getCenter(),zoom:e.getZoom()}}(n,e,t.get("scaleLimit"));t.setCenter&&t.setCenter(r.center),t.setZoom&&t.setZoom(r.zoom),"series"===o&&(0,i.each)(t.seriesGroup,(function(e){e.setCenter(r.center),e.setZoom(r.zoom)}))}}))}))}(0,n.D)((function(e){(0,n.D)(de),e.registerChartView(I),e.registerSeriesModel(O),e.registerLayout(X),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,Y),(0,F.y)("map",e.registerAction)}))},"../node_modules/lodash/_baseExtremum.js":(e,t,o)=>{var n=o("../node_modules/lodash/isSymbol.js");e.exports=function(e,t,o){for(var r=-1,a=e.length;++r<a;){var i=e[r],s=t(i);if(null!=s&&(void 0===l?s==s&&!n(s):o(s,l)))var l=s,p=i}return p}},"../node_modules/lodash/_baseGt.js":e=>{e.exports=function(e,t){return e>t}},"../node_modules/lodash/max.js":(e,t,o)=>{var n=o("../node_modules/lodash/_baseExtremum.js"),r=o("../node_modules/lodash/_baseGt.js"),a=o("../node_modules/lodash/identity.js");e.exports=function(e){return e&&e.length?n(e,a,r):void 0}}}]);
//# sourceMappingURL=../sourcemaps/vendors-node_modules_echarts_lib_chart_map_js-node_modules_lodash_max_js.196d18c85f8fd0bf47ab60871f9c436c.js.map