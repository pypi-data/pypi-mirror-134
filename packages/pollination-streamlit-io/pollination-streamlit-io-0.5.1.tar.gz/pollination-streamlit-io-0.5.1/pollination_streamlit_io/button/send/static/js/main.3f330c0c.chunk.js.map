{"version":3,"sources":["style.module.scss","SendGeometry.tsx","index.tsx"],"names":["module","exports","SendGeometry","state","action","data","uniqueId","options","layer","units","isFocused","render","className","styles","poButton","onClick","onClicked","disabled","props","onFocus","_onFocus","onBlur","_onBlur","style","margin","src","process","alt","args","window","parent","chrome","msgObject","json","JSON","stringify","webview","postMessage","setState","prevState","Streamlit","setComponentValue","console","log","StreamlitComponentBase","withStreamlitConnection","ReactDOM","StrictMode","document","getElementById"],"mappings":"gIACAA,EAAOC,QAAU,CAAC,SAAW,0B,4KC6BvBC,E,4MACGC,MAAQ,CACXC,OAAQ,GACRC,KAAM,GACNC,SAAU,GACVC,QAAS,CACPC,MAAO,GACPC,MAAO,IAETC,WAAW,G,EAGRC,OAAS,WAyBd,OACE,8BACE,4BACEC,UAAWC,IAAOC,SAClBC,QAAS,EAAKC,UACdC,SAAU,EAAKC,MAAMD,SACrBE,QAAS,EAAKC,SACdC,OAAQ,EAAKC,SAEb,8BACE,yBAAKC,MAdI,CACfC,OAAQ,mBAaoBC,IAAKC,wBAAiDC,IAAI,UAtBnE,CACnB,aAAgB,gBAChB,cAAiB,iBACjB,aAAgB,gBAChB,YAAe,eACf,qBAAwB,0BAmBX,EAAKT,MAAMU,KAAX,W,EAMTZ,UAAY,WAClB,GAAmC,oBAAxBa,OAAOC,OAAOC,OAAuB,CAE9C,IAAIC,EAAY,CACd5B,OAAQ,EAAKc,MAAMU,KAAX,OACRvB,KAAM,EAAKa,MAAMU,KAAX,KACNtB,SAAU,EAAKY,MAAMU,KAAX,SACVrB,QAAS,EAAKW,MAAMU,KAAX,SAEPK,EAAOC,KAAKC,UAAUH,GAC1BH,OAAOC,OAAOC,OAAOK,QAAQC,YAAYJ,GAEzC,EAAKK,UACH,SAACC,GAAD,mBAAC,eACIA,GADL,IAEEnC,OAAQ4B,EAAU5B,OAClBC,KAAM2B,EAAU3B,KAChBC,SAAU0B,EAAU1B,SACpBC,QAASyB,EAAUzB,aAErB,kBAAMiC,IAAUC,kBAAkB,EAAKtC,MAAMC,WAE/CsC,QAAQC,IAAI,0BAIZD,QAAQC,IAAI,+B,EAIRvB,SAAW,WACjB,EAAKkB,SAAS,CAAE5B,WAAW,K,EAGrBY,QAAU,WAChB,EAAKgB,SAAS,CAAE5B,WAAW,K,yBA1FJkC,KA8FZC,cAAwB3C,GCxHvC4C,IAASnC,OACP,kBAAC,IAAMoC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,W","file":"static/js/main.3f330c0c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"poButton\":\"style_poButton__3x8Ka\"};","import {\r\n  Streamlit,\r\n  StreamlitComponentBase,\r\n  withStreamlitConnection,\r\n} from \"streamlit-component-lib\"\r\nimport React, { ReactNode } from \"react\"\r\n\r\nimport styles from './style.module.scss';\r\n\r\ninterface State {\r\n  action: string\r\n  data: string\r\n  uniqueId: string\r\n  options: {\r\n    layer: string,\r\n    units: string\r\n  }\r\n  isFocused: boolean\r\n}\r\n\r\ninterface Labels {\r\n  [key: string]: string;\r\n}\r\n\r\ndeclare global {\r\n  interface Window {\r\n    chrome: any;\r\n  }\r\n}\r\n\r\nclass SendGeometry extends StreamlitComponentBase<State> {\r\n  public state = {\r\n      action: '',\r\n      data: '',\r\n      uniqueId: '',\r\n      options: {\r\n        layer: '',\r\n        units: ''\r\n      },\r\n      isFocused: false \r\n    }\r\n\r\n  public render = (): ReactNode => {\r\n    // const { theme } = this.props\r\n    // const style: React.CSSProperties = {}\r\n\r\n    // if (theme) {\r\n    //   const borderStyling = `1px solid ${\r\n    //     this.state.isFocused ? theme.primaryColor : \"gray\"\r\n    //   }`\r\n    //   style.border = borderStyling\r\n    //   style.outline = borderStyling\r\n    //   style.marginBottom = 2\r\n    // }\r\n\r\n    let labels: Labels = {\r\n      \"BakeGeometry\": \"Bake Geometry\",\r\n      \"ClearGeometry\": \"Clear Geometry\",\r\n      \"DrawGeometry\": \"Draw Geometry\",\r\n      \"DisableDraw\": \"Disable Draw\",\r\n      \"BakePollinationModel\": \"Bake Pollination Model\"\r\n    }\r\n\r\n    const imgStyle = {\r\n      margin: \"0px 3px 2px 0px\"\r\n    }\r\n\r\n    return (\r\n      <span>\r\n        <button\r\n          className={styles.poButton}\r\n          onClick={this.onClicked}\r\n          disabled={this.props.disabled}\r\n          onFocus={this._onFocus}\r\n          onBlur={this._onBlur}\r\n        >\r\n          <span>\r\n            <img style={imgStyle} src={process.env.PUBLIC_URL + '/img/pollination.png'} alt=\"logo\" />\r\n          </span>\r\n          { labels[this.props.args[\"action\"]] }\r\n        </button>\r\n      </span>\r\n    )\r\n  }\r\n\r\n  private onClicked = (): void => {\r\n    if (typeof window.parent.chrome != \"undefined\") {\r\n\r\n      var msgObject = {\r\n        action: this.props.args[\"action\"],\r\n        data: this.props.args[\"data\"],\r\n        uniqueId: this.props.args[\"uniqueId\"],\r\n        options: this.props.args[\"options\"]\r\n      };\r\n      var json = JSON.stringify(msgObject);\r\n      window.parent.chrome.webview.postMessage(json);\r\n\r\n      this.setState(\r\n        (prevState) => ({ \r\n          ...prevState, \r\n          action: msgObject.action,\r\n          data: msgObject.data,\r\n          uniqueId: msgObject.uniqueId,\r\n          options: msgObject.options\r\n        }),\r\n        () => Streamlit.setComponentValue(this.state.action)\r\n      );\r\n      console.log('JSON string sent!');\r\n    }\r\n    else\r\n    {\r\n      console.log('Webview2 is not running...');\r\n    }\r\n  }\r\n\r\n  private _onFocus = (): void => {\r\n    this.setState({ isFocused: true })\r\n  }\r\n\r\n  private _onBlur = (): void => {\r\n    this.setState({ isFocused: false })\r\n  }\r\n}\r\n\r\nexport default withStreamlitConnection(SendGeometry)\r\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport SendGeometry from \"./SendGeometry\"\n\nReactDOM.render(\n  <React.StrictMode>\n    <SendGeometry />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n)\n"],"sourceRoot":""}