import{_ as C,A as v,E as B,m as $}from"./index.a5b3a1e2.js";import{e as R,o as l,c as p,d as u,h as T,p as A,b as D,k as y,N as E,f as k,j as I,al as z,s as n,am as H,C as L,H as M,r as P,a as S,u as r,F as U,t as W,q as G,w as J,g as h,n as K}from"./vendor.57cae64e.js";const O=R({props:{value:{type:String,required:!0},toast:{type:String,default:"Copied to Clipboard"}},methods:{copy(){navigator.clipboard.writeText(this.value),this.$toast.add({type:"success",content:this.toast})}}}),Q=s=>(A("data-v-459c1b02"),s=s(),D(),s),X=Q(()=>u("i",{class:"pi pi-file-copy-line pi-sm"},null,-1)),Y={class:"copy-button__label"},Z=y("Copy");function ee(s,o,_,t,w,a){return l(),p("button",{class:"copy-button",onClick:o[0]||(o[0]=(...f)=>s.copy&&s.copy(...f))},[X,u("span",Y,[T(s.$slots,"default",{},()=>[Z],!0)])])}var te=C(O,[["render",ee],["__scopeId","data-v-459c1b02"]]);const se={key:0,class:"text-truncate d-flex align-center"},oe={class:"ml-5"},ae=y(" Flow Version: "),ne={class:"font-weight-semibold"},re=y(" Copy Run ID "),le=R({async setup(s){let o,_;const t=E(),w=k(null),a=k(t==null?void 0:t.params.id),f=I(t,()=>{a.value=t==null?void 0:t.params.id});z(()=>{f()});const q=n(()=>{var e;return(e=x.value.flow_version)!=null?e:"--"}),F=n(()=>({id:a.value})),c=([o,_]=H(()=>v.query({endpoint:B.flow_run,body:F,options:{pollInterval:5e3}}).fetch()),o=await o,_(),o),N=n(()=>({id:c.response.value.flow_id})),b={flow:v.query({endpoint:B.flow,body:N})},V=n(()=>{var e;return((e=b.flow.response)==null?void 0:e.value)||{}}),x=n(()=>{var e;return((e=c.response)==null?void 0:e.value)||{}}),j=n(()=>{var d,g;const e=[{text:(d=V.value)==null?void 0:d.name},{text:(g=x.value)==null?void 0:g.name,to:""}],m=t.fullPath.includes("/timeline"),i=t.fullPath.includes("/radar");return(m||i)&&(e[1].to=`/flow-run/${a.value}`,m&&e.push({text:"Timeline"}),i&&e.push({text:"Radar"})),e});return L(()=>{c.stopPolling(),v.queries.delete(c.id)}),M(()=>{var e;w.value=((e=t.hash)==null?void 0:e.substr(1))||"task_runs"}),I(a,()=>{!a.value||b.flow.fetch()}),(e,m)=>{const i=P("bread-crumbs"),d=P("router-view");return l(),p("div",null,[u("div",{class:K(["d-flex align-center justify-space-between mb-2 py-1 position-relative z-1",{blur:r(t).fullPath.includes("/radar")}])},[S(i,{class:"flex-grow-1",crumbs:r(j),icon:"pi-flow-run"},null,8,["crumbs"]),r(t).fullPath.includes("/radar")?(l(),p(U,{key:0},[r($).sm?(l(),p("div",se,[u("span",oe,[ae,u("span",ne,W(r(q)),1)]),r($).md?(l(),G(te,{key:0,class:"ml-1",value:a.value,toast:"Run ID was copied to clipboard"},{default:J(()=>[re]),_:1},8,["value"])):h("",!0)])):h("",!0)],64)):h("",!0)],2),S(d)])}}});var ie=C(le,[["__scopeId","data-v-3db3f758"]]);export{ie as default};
