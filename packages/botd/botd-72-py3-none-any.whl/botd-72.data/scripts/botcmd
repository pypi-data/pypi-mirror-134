#!python
# This file is placed in the Public Domain.


"24/7 channel daemon"


import sys


from bot.spc import Cfg, Client, Event, Handler, boot, kcmd, scan
from bot.irc import Cfg as ICfg


import bot.all


ICfg.channel = "#botd"
ICfg.nick = "botd"
ICfg.username = "botd"
ICfg.realname = "24/7 channel daemon"


Cfg.wd = "/var/lib/botd/"


class Console(Client, Handler):

    "console"

    def __init__(self):
        Client.__init__(self)
        Handler.__init__(self)

    def poll(self):
        evt = Event()
        evt.orig = repr(self)
        evt.txt = input("> ")
        return evt

    def raw(self, txt):
        print(txt)


def main():
    "main"
    boot(" ".join(sys.argv[1:]))
    scan()
    csl = Console()
    return kcmd(csl, Cfg.otxt)


main()
