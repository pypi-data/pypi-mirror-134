---

title: Session


keywords: fastai
sidebar: home_sidebar

summary: "Create sessions."
description: "Create sessions."
nb_path: "nbs/transforms/transforms.session.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: nbs/transforms/transforms.session.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="construct_session_sequences" class="doc_header"><code>construct_session_sequences</code><a href="https://github.com/RecoHut-Projects/recohut/tree/master/recohut/transforms/session.py#L9" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>construct_session_sequences</code>(<strong><code>df</code></strong>, <strong><code>sessionID</code></strong>, <strong><code>itemID</code></strong>)</p>
</blockquote>
<p>Given a dataset in pandas df format, construct a list of lists where each sublist
represents the interactions relevant to a specific session, for each sessionID.
These sublists are composed of a series of itemIDs (str) and are the core training
data used in the Word2Vec algorithm.
This is performed by first grouping over the SessionID column, then casting to list
each group's series of values in the ItemID column.</p>
<h2 id="INPUTS">INPUTS<a class="anchor-link" href="#INPUTS"> </a></h2><p>df:                 pandas dataframe
sessionID: str      column name in the df that represents invididual sessions
itemID: str         column name in the df that represents the items within a session</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="o">.</span><span class="n">from_dict</span><span class="p">({</span>
    <span class="s1">&#39;SessionID&#39;</span><span class="p">:[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span>
    <span class="s1">&#39;ItemID&#39;</span><span class="p">:[</span><span class="mi">111</span><span class="p">,</span><span class="mi">123</span><span class="p">,</span><span class="mi">345</span><span class="p">,</span><span class="mi">45</span><span class="p">,</span><span class="mi">334</span><span class="p">,</span><span class="mi">342</span><span class="p">,</span><span class="mi">8970</span><span class="p">,</span><span class="mi">345</span><span class="p">]</span>
<span class="p">})</span>
<span class="n">df</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">

  <div id="df-f9c46911-d29f-4986-9489-85a528309aa0">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>SessionID</th>
      <th>ItemID</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>111</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1</td>
      <td>123</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1</td>
      <td>345</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2</td>
      <td>45</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2</td>
      <td>334</td>
    </tr>
    <tr>
      <th>5</th>
      <td>2</td>
      <td>342</td>
    </tr>
    <tr>
      <th>6</th>
      <td>2</td>
      <td>8970</td>
    </tr>
    <tr>
      <th>7</th>
      <td>2</td>
      <td>345</td>
    </tr>
  </tbody>
</table>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-f9c46911-d29f-4986-9489-85a528309aa0')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">
        
  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>
      
  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-f9c46911-d29f-4986-9489-85a528309aa0 button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-f9c46911-d29f-4986-9489-85a528309aa0');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>
  
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">construct_session_sequences</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">sessionID</span><span class="o">=</span><span class="s1">&#39;SessionID&#39;</span><span class="p">,</span> <span class="n">itemID</span><span class="o">=</span><span class="s1">&#39;ItemID&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[[111, 123, 345], [45, 334, 342, 8970, 345]]</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

</div>
 

